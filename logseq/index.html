<!DOCTYPE html>
<head><meta charset="utf-8" /><meta content="minimum-scale=1, initial-scale=1, width=device-width, shrink-to-fit=no" name="viewport" /><link href="static/css/tabler-icons.min.css" rel="stylesheet" type="text/css" /><link href="static/css/style.css" rel="stylesheet" type="text/css" /><link href="static/css/export.css" rel="stylesheet" type="text/css" /><link href="static/img/logo.png" rel="shortcut icon" type="image/png" /><link href="static/img/logo.png" rel="shortcut icon" sizes="192x192" /><link href="static/img/logo.png" rel="apple-touch-icon" /><meta name="apple-mobile-web-app-title" /><meta content="yes" name="apple-mobile-web-app-capable" /><meta content="yes" name="apple-touch-fullscreen" /><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style" /><meta content="yes" name="mobile-web-app-capable" /><meta property="og:title" /><meta content="site" property="og:type" /><meta content="static/img/logo.png" property="og:image" /><meta property="og:description" /><title></title><meta property="og:site_name" /><meta /></head><body><div id="root"></div><script>window.logseq_db="[&quot;~#datascript/DB&quot;,[&quot;^ &quot;,&quot;~:schema&quot;,[&quot;^ &quot;,&quot;~:ast/version&quot;,[&quot;^ &quot;],&quot;~:db/encryption-keys&quot;,[&quot;^ &quot;],&quot;~:file/content&quot;,[&quot;^ &quot;],&quot;~:block/alias&quot;,[&quot;^ &quot;,&quot;~:db/valueType&quot;,&quot;~:db.type/ref&quot;,&quot;~:db/cardinality&quot;,&quot;~:db.cardinality/many&quot;],&quot;~:block/pre-block?&quot;,[&quot;^ &quot;],&quot;~:block/uuid&quot;,[&quot;^ &quot;,&quot;~:db/unique&quot;,&quot;~:db.unique/identity&quot;],&quot;~:block/priority&quot;,[&quot;^ &quot;],&quot;~:block/properties&quot;,[&quot;^ &quot;],&quot;~:block/journal?&quot;,[&quot;^ &quot;],&quot;~:block/namespace&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;],&quot;~:block/updated-at&quot;,[&quot;^ &quot;],&quot;~:block/repeated?&quot;,[&quot;^ &quot;],&quot;~:db/type&quot;,[&quot;^ &quot;],&quot;~:file/handle&quot;,[&quot;^ &quot;],&quot;~:block/left&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;~:db/index&quot;,true],&quot;~:block/refs&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:block/scheduled&quot;,[&quot;^ &quot;],&quot;~:db/encrypted?&quot;,[&quot;^ &quot;],&quot;~:block/properties-order&quot;,[&quot;^ &quot;],&quot;~:block/created-at&quot;,[&quot;^ &quot;],&quot;~:block/deadline&quot;,[&quot;^ &quot;],&quot;~:block/collapsed?&quot;,[&quot;^ &quot;,&quot;^G&quot;,true],&quot;~:block/journal-day&quot;,[&quot;^ &quot;],&quot;~:block/format&quot;,[&quot;^ &quot;],&quot;~:block/tags&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:block/content&quot;,[&quot;^ &quot;],&quot;~:recent/pages&quot;,[&quot;^ &quot;],&quot;~:block/macros&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:db/ident&quot;,[&quot;^ &quot;,&quot;^&lt;&quot;,&quot;^=&quot;],&quot;~:block/path-refs&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^8&quot;,&quot;^9&quot;],&quot;~:block/parent&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^G&quot;,true],&quot;~:block/heading-level&quot;,[&quot;^ &quot;],&quot;~:block/type&quot;,[&quot;^ &quot;],&quot;~:block/page&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;,&quot;^G&quot;,true],&quot;~:block/name&quot;,[&quot;^ &quot;,&quot;^&lt;&quot;,&quot;^=&quot;],&quot;~:file/path&quot;,[&quot;^ &quot;,&quot;^&lt;&quot;,&quot;^=&quot;],&quot;~:block/file&quot;,[&quot;^ &quot;,&quot;^6&quot;,&quot;^7&quot;],&quot;~:block/marker&quot;,[&quot;^ &quot;],&quot;~:block/original-name&quot;,[&quot;^ &quot;,&quot;^&lt;&quot;,&quot;^=&quot;],&quot;~:schema/version&quot;,[&quot;^ &quot;]],&quot;~:datoms&quot;,[&quot;~#list&quot;,[[&quot;~#datascript/Datom&quot;,[1,&quot;^14&quot;,1,536870913]],[&quot;^17&quot;,[20,&quot;^L&quot;,1654005009646,536871263]],[&quot;^17&quot;,[20,&quot;^@&quot;,false,536870916]],[&quot;^17&quot;,[20,&quot;^[&quot;,&quot;proj5-recovery&quot;,536870916]],[&quot;^17&quot;,[20,&quot;^13&quot;,&quot;proj5-Recovery&quot;,536870916]],[&quot;^17&quot;,[20,&quot;^?&quot;,[&quot;^ &quot;,&quot;~:public&quot;,true],536896652]],[&quot;^17&quot;,[20,&quot;^B&quot;,1658042286969,536871997]],[&quot;^17&quot;,[20,&quot;^;&quot;,&quot;~u62e20e61-c28d-429f-b66a-b061c12b401f&quot;,536883723]],[&quot;^17&quot;,[31,&quot;^L&quot;,1657955666077,536871263]],[&quot;^17&quot;,[31,&quot;^@&quot;,false,536870920]],[&quot;^17&quot;,[31,&quot;^[&quot;,&quot;logging schemes&quot;,536870920]],[&quot;^17&quot;,[31,&quot;^13&quot;,&quot;Logging Schemes&quot;,536870920]],[&quot;^17&quot;,[31,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896904]],[&quot;^17&quot;,[31,&quot;^B&quot;,1657955666077,536871263]],[&quot;^17&quot;,[31,&quot;^;&quot;,&quot;~u62e20e61-0029-4410-9e33-ac46a44e4b0d&quot;,536883723]],[&quot;^17&quot;,[32,&quot;^L&quot;,1657415687204,536871263]],[&quot;^17&quot;,[32,&quot;^@&quot;,false,536870920]],[&quot;^17&quot;,[32,&quot;^[&quot;,&quot;数据库&quot;,536870920]],[&quot;^17&quot;,[32,&quot;^13&quot;,&quot;数据库&quot;,536870920]],[&quot;^17&quot;,[32,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896700]],[&quot;^17&quot;,[32,&quot;^B&quot;,1662021029917,536900484]],[&quot;^17&quot;,[32,&quot;^;&quot;,&quot;~u62e20e61-979f-4632-95e2-c4e649637a76&quot;,536883723]],[&quot;^17&quot;,[61,&quot;^L&quot;,1657373649795,536871263]],[&quot;^17&quot;,[61,&quot;^@&quot;,false,536870930]],[&quot;^17&quot;,[61,&quot;^[&quot;,&quot;distributed oltp databases&quot;,536870930]],[&quot;^17&quot;,[61,&quot;^13&quot;,&quot;Distributed OLTP Databases&quot;,536870930]],[&quot;^17&quot;,[61,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896934]],[&quot;^17&quot;,[61,&quot;^B&quot;,1657378794232,536871263]],[&quot;^17&quot;,[61,&quot;^;&quot;,&quot;~u62e20e61-9425-48ce-bd80-418ee67ff78c&quot;,536883723]],[&quot;^17&quot;,[67,&quot;^L&quot;,1657415978630,536871263]],[&quot;^17&quot;,[67,&quot;^@&quot;,false,536870932]],[&quot;^17&quot;,[67,&quot;^[&quot;,&quot;concurrency control&quot;,536870932]],[&quot;^17&quot;,[67,&quot;^13&quot;,&quot;Concurrency Control&quot;,536870932]],[&quot;^17&quot;,[67,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896846]],[&quot;^17&quot;,[67,&quot;^B&quot;,1657415986120,536871263]],[&quot;^17&quot;,[67,&quot;^;&quot;,&quot;~u62e20e61-2b61-4dbe-91e0-166c2c33f938&quot;,536883723]],[&quot;^17&quot;,[79,&quot;^L&quot;,1656649739783,536871263]],[&quot;^17&quot;,[79,&quot;^@&quot;,false,536870936]],[&quot;^17&quot;,[79,&quot;^[&quot;,&quot;query optimizer&quot;,536870936]],[&quot;^17&quot;,[79,&quot;^13&quot;,&quot;Query Optimizer&quot;,536870936]],[&quot;^17&quot;,[79,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896826]],[&quot;^17&quot;,[79,&quot;^B&quot;,1656689167645,536871263]],[&quot;^17&quot;,[79,&quot;^;&quot;,&quot;~u62e20e61-a1d1-4ebf-bc36-d4462f9eee5d&quot;,536883723]],[&quot;^17&quot;,[100,&quot;^L&quot;,1655777350478,536871263]],[&quot;^17&quot;,[100,&quot;^@&quot;,false,536870944]],[&quot;^17&quot;,[100,&quot;^[&quot;,&quot;proj2_extendiblehashindex&quot;,536870944]],[&quot;^17&quot;,[100,&quot;^13&quot;,&quot;proj2_ExtendibleHashIndex&quot;,536870944]],[&quot;^17&quot;,[100,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896789]],[&quot;^17&quot;,[100,&quot;^B&quot;,1655977854947,536871263]],[&quot;^17&quot;,[100,&quot;^;&quot;,&quot;~u62e20e61-4261-4b23-8313-22f96ef9c9ca&quot;,536883723]],[&quot;^17&quot;,[104,&quot;^L&quot;,1655724692455,536871263]],[&quot;^17&quot;,[104,&quot;^@&quot;,false,536870946]],[&quot;^17&quot;,[104,&quot;^[&quot;,&quot;hashtable&quot;,536870946]],[&quot;^17&quot;,[104,&quot;^13&quot;,&quot;HashTable&quot;,536870946]],[&quot;^17&quot;,[104,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896784]],[&quot;^17&quot;,[104,&quot;^B&quot;,1655740011652,536871263]],[&quot;^17&quot;,[104,&quot;^;&quot;,&quot;~u62e20e61-80ca-4abf-b764-8ffe01b5ca82&quot;,536883723]],[&quot;^17&quot;,[109,&quot;^L&quot;,1653661770422,536871263]],[&quot;^17&quot;,[109,&quot;^@&quot;,false,536870948]],[&quot;^17&quot;,[109,&quot;^[&quot;,&quot;bufferpool&quot;,536870948]],[&quot;^17&quot;,[109,&quot;^13&quot;,&quot;BufferPool&quot;,536870948]],[&quot;^17&quot;,[109,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896716]],[&quot;^17&quot;,[109,&quot;^B&quot;,1655705282272,536871263]],[&quot;^17&quot;,[109,&quot;^;&quot;,&quot;~u62e20e61-feb7-4b82-b09f-7bd234f3f72f&quot;,536883723]],[&quot;^17&quot;,[160,&quot;^L&quot;,1653617707589,536871263]],[&quot;^17&quot;,[160,&quot;^@&quot;,false,536870966]],[&quot;^17&quot;,[160,&quot;^[&quot;,&quot;proj4concurrency&quot;,536870966]],[&quot;^17&quot;,[160,&quot;^13&quot;,&quot;proj4concurrency&quot;,536870966]],[&quot;^17&quot;,[160,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896647]],[&quot;^17&quot;,[160,&quot;^B&quot;,1653643843404,536871263]],[&quot;^17&quot;,[160,&quot;^;&quot;,&quot;~u62e20e61-54e5-443a-b41c-fb683b9bf93d&quot;,536883723]],[&quot;^17&quot;,[171,&quot;^L&quot;,1657955666077,536871263]],[&quot;^17&quot;,[171,&quot;^P&quot;,&quot;~:markdown&quot;,536872007]],[&quot;^17&quot;,[171,&quot;^@&quot;,false,536870970]],[&quot;^17&quot;,[171,&quot;^[&quot;,&quot;cs186&quot;,536870970]],[&quot;^17&quot;,[171,&quot;^13&quot;,&quot;cs186&quot;,536870970]],[&quot;^17&quot;,[171,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896449]],[&quot;^17&quot;,[171,&quot;^B&quot;,1658286560090,536875538]],[&quot;^17&quot;,[171,&quot;^;&quot;,&quot;~u62e20e61-b9ac-4441-a034-c55d93c78dbe&quot;,536883723]],[&quot;^17&quot;,[262,&quot;^L&quot;,1653724537012,536871263]],[&quot;^17&quot;,[262,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[262,&quot;^[&quot;,&quot;database-storage&quot;,536870992]],[&quot;^17&quot;,[262,&quot;^13&quot;,&quot;Database-Storage&quot;,536870992]],[&quot;^17&quot;,[262,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896721]],[&quot;^17&quot;,[262,&quot;^B&quot;,1657532371439,536871263]],[&quot;^17&quot;,[262,&quot;^;&quot;,&quot;~u62e20e61-b94c-43fa-ac59-096fcb18e6aa&quot;,536883723]],[&quot;^17&quot;,[267,&quot;^L&quot;,1656376195031,536871263]],[&quot;^17&quot;,[267,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[267,&quot;^[&quot;,&quot;queryprocessing&quot;,536870992]],[&quot;^17&quot;,[267,&quot;^13&quot;,&quot;QueryProcessing&quot;,536870992]],[&quot;^17&quot;,[267,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896806]],[&quot;^17&quot;,[267,&quot;^B&quot;,1656724332754,536871263]],[&quot;^17&quot;,[267,&quot;^;&quot;,&quot;~u62e20e61-3e36-466b-8ae0-dfb2b1ab5b52&quot;,536883723]],[&quot;^17&quot;,[269,&quot;^L&quot;,1657370476538,536871263]],[&quot;^17&quot;,[269,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[269,&quot;^[&quot;,&quot;timestamp ordering concurrency control&quot;,536870992]],[&quot;^17&quot;,[269,&quot;^13&quot;,&quot;Timestamp Ordering Concurrency Control&quot;,536870992]],[&quot;^17&quot;,[269,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896862]],[&quot;^17&quot;,[269,&quot;^B&quot;,1657370477595,536871263]],[&quot;^17&quot;,[269,&quot;^;&quot;,&quot;~u62e20e61-e28e-4b81-ba6d-a3bf89eb672c&quot;,536883723]],[&quot;^17&quot;,[274,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[274,&quot;^P&quot;,&quot;^19&quot;,536900957]],[&quot;^17&quot;,[274,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[274,&quot;^[&quot;,&quot;6.824&quot;,536870992]],[&quot;^17&quot;,[274,&quot;^13&quot;,&quot;6.824&quot;,536870992]],[&quot;^17&quot;,[274,&quot;^?&quot;,[&quot;^ &quot;,&quot;~:title&quot;,&quot;6.824&quot;,&quot;^18&quot;,true],536900964]],[&quot;^17&quot;,[274,&quot;^B&quot;,1662172214270,536900975]],[&quot;^17&quot;,[274,&quot;^;&quot;,&quot;~u62e20e61-e0a5-47ee-a4ce-6235952d88a6&quot;,536883723]],[&quot;^17&quot;,[279,&quot;^L&quot;,1654139987957,536871263]],[&quot;^17&quot;,[279,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[279,&quot;^[&quot;,&quot;recovery&quot;,536870992]],[&quot;^17&quot;,[279,&quot;^13&quot;,&quot;Recovery&quot;,536870992]],[&quot;^17&quot;,[279,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896894]],[&quot;^17&quot;,[279,&quot;^B&quot;,1654141409234,536871263]],[&quot;^17&quot;,[279,&quot;^;&quot;,&quot;~u62e20e61-0bdd-4975-963a-6b502ef6f228&quot;,536883723]],[&quot;^17&quot;,[284,&quot;^L&quot;,1657370546059,536871263]],[&quot;^17&quot;,[284,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[284,&quot;^[&quot;,&quot;introduction to distributed databases&quot;,536870992]],[&quot;^17&quot;,[284,&quot;^13&quot;,&quot;Introduction to Distributed Databases&quot;,536870992]],[&quot;^17&quot;,[284,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896939]],[&quot;^17&quot;,[284,&quot;^B&quot;,1657372357377,536871263]],[&quot;^17&quot;,[284,&quot;^;&quot;,&quot;~u62e20e61-9b5f-4e3f-b0ef-877db6c95c28&quot;,536883723]],[&quot;^17&quot;,[291,&quot;^5&quot;,1010,536871044]],[&quot;^17&quot;,[291,&quot;^L&quot;,1657415781992,536871263]],[&quot;^17&quot;,[291,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[291,&quot;^[&quot;,&quot;indexconcurrencycontrol&quot;,536870992]],[&quot;^17&quot;,[291,&quot;^13&quot;,&quot;IndexConcurrencyControl&quot;,536870992]],[&quot;^17&quot;,[291,&quot;^?&quot;,[&quot;^ &quot;,&quot;~:alias&quot;,[&quot;~#set&quot;,[&quot;B+树并发&quot;]],&quot;^18&quot;,true],536896780]],[&quot;^17&quot;,[291,&quot;^B&quot;,1657415789471,536871263]],[&quot;^17&quot;,[291,&quot;^;&quot;,&quot;~u62e20e61-cee8-46f3-86fc-2a0394e990a7&quot;,536883723]],[&quot;^17&quot;,[294,&quot;^L&quot;,1656499246510,536871263]],[&quot;^17&quot;,[294,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[294,&quot;^[&quot;,&quot;join algorithm&quot;,536870992]],[&quot;^17&quot;,[294,&quot;^13&quot;,&quot;Join Algorithm&quot;,536870992]],[&quot;^17&quot;,[294,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896821]],[&quot;^17&quot;,[294,&quot;^B&quot;,1657617573564,536871263]],[&quot;^17&quot;,[294,&quot;^;&quot;,&quot;~u62e20e61-ff6b-4d30-8ee8-5a3d816994d5&quot;,536883723]],[&quot;^17&quot;,[297,&quot;^L&quot;,1656476065195,536871263]],[&quot;^17&quot;,[297,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[297,&quot;^[&quot;,&quot;sorting &amp; aggregation&quot;,536870992]],[&quot;^17&quot;,[297,&quot;^13&quot;,&quot;Sorting &amp; Aggregation&quot;,536870992]],[&quot;^17&quot;,[297,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896816]],[&quot;^17&quot;,[297,&quot;^B&quot;,1656494409561,536871263]],[&quot;^17&quot;,[297,&quot;^;&quot;,&quot;~u62e20e61-73e0-4b2a-aece-ec30a0291526&quot;,536883723]],[&quot;^17&quot;,[302,&quot;^5&quot;,1417,536871068]],[&quot;^17&quot;,[302,&quot;^L&quot;,1657416187303,536871263]],[&quot;^17&quot;,[302,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[302,&quot;^[&quot;,&quot;multi-version concurrency control&quot;,536870992]],[&quot;^17&quot;,[302,&quot;^13&quot;,&quot;Multi-Version Concurrency Control&quot;,536870992]],[&quot;^17&quot;,[302,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;MVCC&quot;]],&quot;^18&quot;,true],536896867]],[&quot;^17&quot;,[302,&quot;^B&quot;,1657416191958,536871263]],[&quot;^17&quot;,[302,&quot;^;&quot;,&quot;~u62e20e61-b8c5-429a-9091-7dda425deba1&quot;,536883723]],[&quot;^17&quot;,[305,&quot;^5&quot;,623,536871118]],[&quot;^17&quot;,[305,&quot;^L&quot;,1657614443594,536871263]],[&quot;^17&quot;,[305,&quot;^@&quot;,false,536870992]],[&quot;^17&quot;,[305,&quot;^[&quot;,&quot;two phase locking&quot;,536870992]],[&quot;^17&quot;,[305,&quot;^13&quot;,&quot;Two phase locking&quot;,536870992]],[&quot;^17&quot;,[305,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;2PL&quot;]],&quot;^18&quot;,true],536896852]],[&quot;^17&quot;,[305,&quot;^B&quot;,1657614446417,536871263]],[&quot;^17&quot;,[305,&quot;^;&quot;,&quot;~u62e20e61-6273-4817-b79e-f5c3ddc2080d&quot;,536883723]],[&quot;^17&quot;,[392,&quot;^N&quot;,true,536871004]],[&quot;^17&quot;,[392,&quot;^R&quot;,&quot;# proj1_BufferPool\\nid:: 6291eba0-e236-4319-9971-95753c766371\\ncollapsed:: true&quot;,536871004]],[&quot;^17&quot;,[392,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[392,&quot;^X&quot;,1,536871004]],[&quot;^17&quot;,[392,&quot;^F&quot;,535,536871004]],[&quot;^17&quot;,[392,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[392,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[392,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[392,&quot;^?&quot;,[&quot;^ &quot;,&quot;~:id&quot;,&quot;6291eba0-e236-4319-9971-95753c766371&quot;],536871004]],[&quot;^17&quot;,[392,&quot;^K&quot;,[&quot;^1=&quot;],536871004]],[&quot;^17&quot;,[392,&quot;~:block/size&quot;,1,536871004]],[&quot;^17&quot;,[392,&quot;^Y&quot;,&quot;~:heading&quot;,536871004]],[&quot;^17&quot;,[392,&quot;~:block/unordered&quot;,true,536871004]],[&quot;^17&quot;,[392,&quot;^;&quot;,&quot;~u6291eba0-e236-4319-9971-95753c766371&quot;,536870992]],[&quot;^17&quot;,[401,&quot;^L&quot;,1657374375379,536871263]],[&quot;^17&quot;,[401,&quot;^@&quot;,false,536870996]],[&quot;^17&quot;,[401,&quot;^[&quot;,&quot;2pc&quot;,536870996]],[&quot;^17&quot;,[401,&quot;^13&quot;,&quot;2PC&quot;,536870996]],[&quot;^17&quot;,[401,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896949]],[&quot;^17&quot;,[401,&quot;^B&quot;,1657377451361,536871263]],[&quot;^17&quot;,[401,&quot;^;&quot;,&quot;~u62d3582c-82bd-4151-8d49-88d5f0358b77&quot;,536871230]],[&quot;^17&quot;,[404,&quot;^R&quot;,&quot;voter 回复 yes&quot;,536870996]],[&quot;^17&quot;,[404,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[404,&quot;^F&quot;,423,536870996]],[&quot;^17&quot;,[404,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[404,&quot;^W&quot;,423,536870996]],[&quot;^17&quot;,[404,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[404,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[404,&quot;^;&quot;,&quot;~u62d35827-e251-4bab-b125-930e86b2f0fc&quot;,536870996]],[&quot;^17&quot;,[405,&quot;^R&quot;,&quot;一切可能导致事务的中间状态的情况都似乎依然有可能出现！要理解 2PC 的正确性，我们还需要深入理解其中的细节&quot;,536870996]],[&quot;^17&quot;,[405,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[405,&quot;^F&quot;,420,536870996]],[&quot;^17&quot;,[405,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[405,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[405,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[405,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[405,&quot;^;&quot;,&quot;~u62d35827-77eb-45d2-990b-e2170b121838&quot;,536870996]],[&quot;^17&quot;,[406,&quot;^R&quot;,&quot;在网络中，假设其中一个节点想要在某个点上与其它节点达成共识，就成为 coordinator，而其它节点自动成为 voter。进入到 Propose Phase，coordinator 向其它节点发送 propose 消息；\\n![image.png](../assets/image_1657377106677_0.png)&quot;,536870996]],[&quot;^17&quot;,[406,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[406,&quot;^F&quot;,422,536870996]],[&quot;^17&quot;,[406,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[406,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[406,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[406,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[406,&quot;^;&quot;,&quot;~u62d35827-6c8b-491d-b97c-248a89e867bb&quot;,536870996]],[&quot;^17&quot;,[407,&quot;^R&quot;,&quot;coordinator 在 commit phase 中刚告诉一个 voter 消息后崩溃了怎么办？&quot;,536870996]],[&quot;^17&quot;,[407,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[407,&quot;^F&quot;,417,536870996]],[&quot;^17&quot;,[407,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[407,&quot;^W&quot;,420,536870996]],[&quot;^17&quot;,[407,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[407,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[407,&quot;^;&quot;,&quot;~u62d35827-7764-4a9c-bcb9-0cdf29751a8e&quot;,536870996]],[&quot;^17&quot;,[408,&quot;^R&quot;,&quot;期间任何消息超时怎么办？&quot;,536870996]],[&quot;^17&quot;,[408,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[408,&quot;^F&quot;,407,536870996]],[&quot;^17&quot;,[408,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[408,&quot;^W&quot;,420,536870996]],[&quot;^17&quot;,[408,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[408,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[408,&quot;^;&quot;,&quot;~u62d35827-e2d7-458c-bce8-b2f5a8139e2d&quot;,536870996]],[&quot;^17&quot;,[409,&quot;^R&quot;,&quot;[[Two Generals&apos; Problem]] 是引出 2PC 和 [[3PC]] 的思想实验&quot;,536870996]],[&quot;^17&quot;,[409,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[409,&quot;^F&quot;,4527,536896949]],[&quot;^17&quot;,[409,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[409,&quot;^W&quot;,401,536870996]],[&quot;^17&quot;,[409,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[409,&quot;^V&quot;,402,536870996]],[&quot;^17&quot;,[409,&quot;^V&quot;,403,536870996]],[&quot;^17&quot;,[409,&quot;^H&quot;,402,536870996]],[&quot;^17&quot;,[409,&quot;^H&quot;,403,536870996]],[&quot;^17&quot;,[409,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[409,&quot;^;&quot;,&quot;~u62d35827-82e9-4ae3-8b4a-6473a48973b3&quot;,536870996]],[&quot;^17&quot;,[410,&quot;^R&quot;,&quot;**小结**\\n2PC 是人们可以想象到的最简单的共识协议，如果系统中有 N 个节点，它可以通过 2N 次通信达成一次共识，效率很高。但它的缺点就是可能因为 coordinator 和 voters 崩溃而出现停滞的现象。&quot;,536870996]],[&quot;^17&quot;,[410,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[410,&quot;^F&quot;,419,536870996]],[&quot;^17&quot;,[410,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[410,&quot;^W&quot;,401,536870996]],[&quot;^17&quot;,[410,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[410,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[410,&quot;^;&quot;,&quot;~u62d35827-34fe-410d-9c23-e2ab81366225&quot;,536870996]],[&quot;^17&quot;,[411,&quot;^R&quot;,&quot;节点可能会崩溃，通常有两种崩溃的方式：&quot;,536870996]],[&quot;^17&quot;,[411,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[411,&quot;^F&quot;,432,536870996]],[&quot;^17&quot;,[411,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[411,&quot;^W&quot;,432,536870996]],[&quot;^17&quot;,[411,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[411,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[411,&quot;^;&quot;,&quot;~u62d35827-1bd3-4ca4-a037-11e9ed6a0b90&quot;,536870996]],[&quot;^17&quot;,[412,&quot;^R&quot;,&quot;# Consensus Problem&quot;,536870996]],[&quot;^17&quot;,[412,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[412,&quot;^X&quot;,1,536870996]],[&quot;^17&quot;,[412,&quot;^F&quot;,409,536870996]],[&quot;^17&quot;,[412,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[412,&quot;^W&quot;,401,536870996]],[&quot;^17&quot;,[412,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[412,&quot;^1&gt;&quot;,1,536870996]],[&quot;^17&quot;,[412,&quot;^Y&quot;,&quot;^1?&quot;,536870996]],[&quot;^17&quot;,[412,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[412,&quot;^;&quot;,&quot;~u62d35827-a41f-4885-a00c-2f2b63fb7169&quot;,536870996]],[&quot;^17&quot;,[413,&quot;^R&quot;,&quot;.......&quot;,536870996]],[&quot;^17&quot;,[413,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[413,&quot;^F&quot;,408,536870996]],[&quot;^17&quot;,[413,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[413,&quot;^W&quot;,420,536870996]],[&quot;^17&quot;,[413,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[413,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[413,&quot;^;&quot;,&quot;~u62d35827-05a6-4f6d-9b73-897b46044f50&quot;,536870996]],[&quot;^17&quot;,[414,&quot;^R&quot;,&quot;Two Generals&apos; Problem 模拟了两个节点在不可靠网络下达成共识的问题，这个问题可以进一步被泛化：\\n\\n#+BEGIN_QUOTE\\n多个节点如何在可能出现节点崩溃、网络不可靠的情况下达成共识，即 Consensus Problem。\\n#+END_QUOTE\\nConsensus Problem 是分布式系统实现可靠性的基石，典型的应用包括：\\n1. commit a transaction to a databaseleader election\\n2. leader election\\n3. state machine replication\\n4. atomic broadcasts\\n本文要讨论的是 consensus problem 的子问题：achieving atomic transaction commit across multiple nodes。 分布式事务问题：如何保证多个节点的写操作的原子性。典型方案 2PC 3PC&quot;,536870996]],[&quot;^17&quot;,[414,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[414,&quot;^F&quot;,412,536870996]],[&quot;^17&quot;,[414,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[414,&quot;^W&quot;,412,536870996]],[&quot;^17&quot;,[414,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[414,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[414,&quot;^;&quot;,&quot;~u62d35827-f9dc-4d82-b9fa-2b771b5a8edd&quot;,536870996]],[&quot;^17&quot;,[415,&quot;^R&quot;,&quot;prepare 请求失败或超时，coordinator 可以 abort 事务&quot;,536870996]],[&quot;^17&quot;,[415,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[415,&quot;^F&quot;,424,536870996]],[&quot;^17&quot;,[415,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[415,&quot;^W&quot;,424,536870996]],[&quot;^17&quot;,[415,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[415,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[415,&quot;^;&quot;,&quot;~u62d35827-9aac-4c3b-9536-df72439e17ae&quot;,536870996]],[&quot;^17&quot;,[416,&quot;^R&quot;,&quot;coordinator 决定 commit/abort&quot;,536870996]],[&quot;^17&quot;,[416,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[416,&quot;^F&quot;,404,536870996]],[&quot;^17&quot;,[416,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[416,&quot;^W&quot;,423,536870996]],[&quot;^17&quot;,[416,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[416,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[416,&quot;^;&quot;,&quot;~u62d35827-204c-47a4-9003-ca4d0f409989&quot;,536870996]],[&quot;^17&quot;,[417,&quot;^R&quot;,&quot;voter 同意以后崩溃了怎么办？&quot;,536870996]],[&quot;^17&quot;,[417,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[417,&quot;^F&quot;,420,536870996]],[&quot;^17&quot;,[417,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[417,&quot;^W&quot;,420,536870996]],[&quot;^17&quot;,[417,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[417,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[417,&quot;^;&quot;,&quot;~u62d35827-579c-4c62-8d2a-f12b3f2e5dc7&quot;,536870996]],[&quot;^17&quot;,[418,&quot;^R&quot;,&quot;Early Acknowledgement After Prepare：实际上在准备阶段完成后，如果所有节点都已经回复 OK，即认为事务可以安全提交，此时 coordinator 可以直接回复应用程序事务提交已经成功。这符合 2PC 的语义，只要 Prepare Phase 通过，那么所有节点必须保证能够提交事务，Commit Phase 无论如何必须执行成功。&quot;,536870996]],[&quot;^17&quot;,[418,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[418,&quot;^F&quot;,428,536870996]],[&quot;^17&quot;,[418,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[418,&quot;^W&quot;,429,536870996]],[&quot;^17&quot;,[418,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[418,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[418,&quot;^;&quot;,&quot;~u62d35827-25e7-460d-ba11-ccdcb9e9364f&quot;,536870996]],[&quot;^17&quot;,[419,&quot;^R&quot;,&quot;## 2PC Optimizations&quot;,536870996]],[&quot;^17&quot;,[419,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[419,&quot;^X&quot;,2,536870996]],[&quot;^17&quot;,[419,&quot;^F&quot;,431,536870996]],[&quot;^17&quot;,[419,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[419,&quot;^W&quot;,401,536870996]],[&quot;^17&quot;,[419,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[419,&quot;^1&gt;&quot;,2,536870996]],[&quot;^17&quot;,[419,&quot;^Y&quot;,&quot;^1?&quot;,536870996]],[&quot;^17&quot;,[419,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[419,&quot;^;&quot;,&quot;~u62d35827-0614-4b14-a0bf-75f2bc401929&quot;,536870996]],[&quot;^17&quot;,[420,&quot;^R&quot;,&quot;以上就是 2PC 的概述，但这样就能保证跨节点分布式事务的原子性了吗？光从以上的描述中似乎并不能让我们说服自己：&quot;,536870996]],[&quot;^17&quot;,[420,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[420,&quot;^F&quot;,406,536870996]],[&quot;^17&quot;,[420,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[420,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[420,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[420,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[420,&quot;^;&quot;,&quot;~u62d35827-0115-4849-9d88-0e8841791224&quot;,536870996]],[&quot;^17&quot;,[421,&quot;^R&quot;,&quot;一旦 voter 回复 prepare 请求 yes 后，voter 就放弃了主动 abort 事务的权力。它必须等待 coordinator 的下一步指令。如果 coordinator 宕机或者网络中断，voter 无能为力。解决这种问题必须等待 coordinator 故障恢复。&quot;,536870996]],[&quot;^17&quot;,[421,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[421,&quot;^F&quot;,426,536870996]],[&quot;^17&quot;,[421,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[421,&quot;^W&quot;,434,536870996]],[&quot;^17&quot;,[421,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[421,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[421,&quot;^;&quot;,&quot;~u62d35827-edc7-4279-94c1-d29f24c1667b&quot;,536870996]],[&quot;^17&quot;,[422,&quot;^R&quot;,&quot;2PC 的过程看起来很简单，分为两个阶段，Propose 和 Commit。在 2PC 中除了执行写操作的节点之外 (voters)，还需要一个新的角色 --- coordinator/transaction manager，负责协调事务推进。以足球队为例，教练为 coordinator，队员为 voter，教练组织队员比赛时，他可以先一个一个地给队员打电话，询问是否能参加，即 Propose 阶段。若所有队员同意，则一个一个地给队员打电话，告知确认其它队员都能参赛；若有至少一名队员不同意，则一个一个地给队员打电话，告知比赛因有队员缺席而取消。整个过程如下图所示：\\n![image.png](../assets/image_1657377020397_0.png)&quot;,536870996]],[&quot;^17&quot;,[422,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[422,&quot;^F&quot;,431,536870996]],[&quot;^17&quot;,[422,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[422,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[422,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[422,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[422,&quot;^;&quot;,&quot;~u62d35827-5a6f-44fe-81cf-873ac4def79b&quot;,536870996]],[&quot;^17&quot;,[423,&quot;^R&quot;,&quot;因此 2PC 实际上包括 2 个无法反悔的决定：&quot;,536870996]],[&quot;^17&quot;,[423,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[423,&quot;^F&quot;,405,536870996]],[&quot;^17&quot;,[423,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[423,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[423,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[423,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[423,&quot;^;&quot;,&quot;~u62d35827-21ab-4f29-8456-e7ffd748a4de&quot;,536870996]],[&quot;^17&quot;,[424,&quot;^R&quot;,&quot;voter 崩溃&quot;,536870996]],[&quot;^17&quot;,[424,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[424,&quot;^F&quot;,425,536870996]],[&quot;^17&quot;,[424,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[424,&quot;^W&quot;,432,536870996]],[&quot;^17&quot;,[424,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[424,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[424,&quot;^;&quot;,&quot;~u62d35827-043c-4caf-b952-95e872515b01&quot;,536870996]],[&quot;^17&quot;,[425,&quot;^R&quot;,&quot;考虑两种情况：voter 崩溃和 coordinator 崩溃：&quot;,536870996]],[&quot;^17&quot;,[425,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[425,&quot;^F&quot;,411,536870996]],[&quot;^17&quot;,[425,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[425,&quot;^W&quot;,432,536870996]],[&quot;^17&quot;,[425,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[425,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[425,&quot;^;&quot;,&quot;~u62d35827-07b1-466c-9a96-ddae88e90bde&quot;,536870996]],[&quot;^17&quot;,[426,&quot;^R&quot;,&quot;在 voter 回复 prepare 请求之前就崩溃，每个 voter 各自可以 abort 事务（如超时自动 abort）&quot;,536870996]],[&quot;^17&quot;,[426,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[426,&quot;^F&quot;,434,536870996]],[&quot;^17&quot;,[426,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[426,&quot;^W&quot;,434,536870996]],[&quot;^17&quot;,[426,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[426,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[426,&quot;^;&quot;,&quot;~u62d35827-acea-4665-a16b-d2c078f8325d&quot;,536870996]],[&quot;^17&quot;,[427,&quot;^R&quot;,&quot;fail-stop：崩溃以后再也无法恢复&quot;,536870996]],[&quot;^17&quot;,[427,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[427,&quot;^F&quot;,411,536870996]],[&quot;^17&quot;,[427,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[427,&quot;^W&quot;,411,536870996]],[&quot;^17&quot;,[427,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[427,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[427,&quot;^;&quot;,&quot;~u62d35827-8722-4c43-b841-c898f65ea4cc&quot;,536870996]],[&quot;^17&quot;,[428,&quot;^R&quot;,&quot;Early Prepare Voting：假如你向远端节点发送的请求是最后一个 (尚未发送提交请求)，远端节点就可以利用这个信息直接在最后一次响应后返回 Prepare 阶段的响应，即直接告诉 coordinator 事务是否可以提交。&quot;,536870996]],[&quot;^17&quot;,[428,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[428,&quot;^F&quot;,429,536870996]],[&quot;^17&quot;,[428,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[428,&quot;^W&quot;,429,536870996]],[&quot;^17&quot;,[428,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[428,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[428,&quot;^;&quot;,&quot;~u62d35827-0ab5-4a51-a42d-924cc27d1a2f&quot;,536870996]],[&quot;^17&quot;,[429,&quot;^R&quot;,&quot;2PC 有两个优化技巧：&quot;,536870996]],[&quot;^17&quot;,[429,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[429,&quot;^F&quot;,419,536870996]],[&quot;^17&quot;,[429,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[429,&quot;^W&quot;,419,536870996]],[&quot;^17&quot;,[429,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[429,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[429,&quot;^;&quot;,&quot;~u62d35827-ec12-48c4-a56d-6e638b0d4658&quot;,536870996]],[&quot;^17&quot;,[430,&quot;^R&quot;,&quot;abort/requests 请求失败或超时，coordinator 就不断重试直到成功执行&quot;,536870996]],[&quot;^17&quot;,[430,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[430,&quot;^F&quot;,415,536870996]],[&quot;^17&quot;,[430,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[430,&quot;^W&quot;,424,536870996]],[&quot;^17&quot;,[430,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[430,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[430,&quot;^;&quot;,&quot;~u62d35827-b35d-48ed-a39e-6024aa91c2b8&quot;,536870996]],[&quot;^17&quot;,[431,&quot;^R&quot;,&quot;# Two Phase Commit&quot;,536870996]],[&quot;^17&quot;,[431,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[431,&quot;^X&quot;,1,536870996]],[&quot;^17&quot;,[431,&quot;^F&quot;,412,536870996]],[&quot;^17&quot;,[431,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[431,&quot;^W&quot;,401,536870996]],[&quot;^17&quot;,[431,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[431,&quot;^1&gt;&quot;,1,536870996]],[&quot;^17&quot;,[431,&quot;^Y&quot;,&quot;^1?&quot;,536870996]],[&quot;^17&quot;,[431,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[431,&quot;^;&quot;,&quot;~u62d35827-62ab-41f9-8fb3-51a1fa2917fc&quot;,536870996]],[&quot;^17&quot;,[432,&quot;^R&quot;,&quot;### Crash and Failures&quot;,536870996]],[&quot;^17&quot;,[432,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[432,&quot;^X&quot;,3,536870996]],[&quot;^17&quot;,[432,&quot;^F&quot;,423,536870996]],[&quot;^17&quot;,[432,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[432,&quot;^W&quot;,431,536870996]],[&quot;^17&quot;,[432,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[432,&quot;^1&gt;&quot;,3,536870996]],[&quot;^17&quot;,[432,&quot;^Y&quot;,&quot;^1?&quot;,536870996]],[&quot;^17&quot;,[432,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[432,&quot;^;&quot;,&quot;~u62d35827-d334-4c6c-b31b-bf1ad634e8a6&quot;,536870996]],[&quot;^17&quot;,[433,&quot;^R&quot;,&quot;fail-recover：崩溃一段时间后恢复正常&quot;,536870996]],[&quot;^17&quot;,[433,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[433,&quot;^F&quot;,427,536870996]],[&quot;^17&quot;,[433,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[433,&quot;^W&quot;,411,536870996]],[&quot;^17&quot;,[433,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[433,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[433,&quot;^;&quot;,&quot;~u62d35827-7b69-4a37-bd7b-d536ad719fcb&quot;,536870996]],[&quot;^17&quot;,[434,&quot;^R&quot;,&quot;coordinator 崩溃&quot;,536870996]],[&quot;^17&quot;,[434,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[434,&quot;^F&quot;,424,536870996]],[&quot;^17&quot;,[434,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[434,&quot;^W&quot;,432,536870996]],[&quot;^17&quot;,[434,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[434,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[434,&quot;^;&quot;,&quot;~u62d35827-4c6e-4704-9eee-027ef4da5bfd&quot;,536870996]],[&quot;^17&quot;,[435,&quot;^R&quot;,&quot;1. 当应用想要启动一个分布式事务时，它需要从 coordinator 处获得一个全局唯一的 transactionID\\n2. 应用在每个节点上分别启动单节点事务，并将 transactionID 传入其中，单节点所涉及的所有读写操作都应该在一个事务中进行，在这个过程中任意节点出问题，coordinator 或节点本身都可以 abort\\n3. 当应用已经为 commit 做好准备时，coordinator 发送 prepare 请求到所有节点，并带上 transactionID 信息，其中任何一个请求失败或者超时，coordinator 就发送 abort 请求到所有节点，并带上 transactionID 信息。\\n4. 当任意一个节点收到 prepare 请求时，它必须保证在未来发生任何事情时都能成功 commit 这个事务，包括节点崩溃、违反约束、断电、磁盘空间不足等等。因此节点实际上需要预留出相关的资源保证事务可以推进。一旦该节点回复 yes 给 coordinator，就意味着他一定可以完成这个事务，尽管当下不完成。\\n5. 当 coordinator 收到所有 prepare 请求的回复后，就做出 commit 或者 abort 的决定。coordinator 必须将该决定写入日志并落盘后，才能继续推进。决定日志落盘被称为 commit point。\\n6. 一旦 coordinator 的决定落盘，commit/abort 决定被发送给所有其它节点，任何请求失败或者超时都必须被永久重试直到成功为止。过了 commit point 就没有回头路，必须执行。有节点崩溃则 coordinator 会等待它恢复后才 commit。&quot;,536870996]],[&quot;^17&quot;,[435,&quot;^P&quot;,&quot;^19&quot;,536870996]],[&quot;^17&quot;,[435,&quot;^F&quot;,405,536870996]],[&quot;^17&quot;,[435,&quot;^Z&quot;,401,536870996]],[&quot;^17&quot;,[435,&quot;^W&quot;,405,536870996]],[&quot;^17&quot;,[435,&quot;^V&quot;,401,536870996]],[&quot;^17&quot;,[435,&quot;^1@&quot;,true,536870996]],[&quot;^17&quot;,[435,&quot;^;&quot;,&quot;~u62d35827-83c6-45b0-a5da-93f982575be7&quot;,536870996]],[&quot;^17&quot;,[445,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[445,&quot;^@&quot;,false,536871000]],[&quot;^17&quot;,[445,&quot;^[&quot;,&quot;acid&quot;,536871000]],[&quot;^17&quot;,[445,&quot;^13&quot;,&quot;ACID&quot;,536871000]],[&quot;^17&quot;,[445,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896841]],[&quot;^17&quot;,[445,&quot;^B&quot;,1657955666079,536871263]],[&quot;^17&quot;,[445,&quot;^;&quot;,&quot;~u62d3582c-e74d-468b-8cd5-74ab377963ac&quot;,536871230]],[&quot;^17&quot;,[446,&quot;^R&quot;,&quot;Optimistic: 乐观，假设问题很罕见，一旦出现问题再处理&quot;,536871000]],[&quot;^17&quot;,[446,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[446,&quot;^F&quot;,451,536871000]],[&quot;^17&quot;,[446,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[446,&quot;^W&quot;,465,536871000]],[&quot;^17&quot;,[446,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[446,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[446,&quot;^;&quot;,&quot;~u62d35827-b314-416b-8873-4aeb878f8052&quot;,536871000]],[&quot;^17&quot;,[447,&quot;^R&quot;,&quot;&quot;,536871000]],[&quot;^17&quot;,[447,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[447,&quot;^F&quot;,459,536871000]],[&quot;^17&quot;,[447,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[447,&quot;^W&quot;,457,536871000]],[&quot;^17&quot;,[447,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[447,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[447,&quot;^;&quot;,&quot;~u62d35827-b5ae-4d3a-80f6-41c840200f37&quot;,536871000]],[&quot;^17&quot;,[448,&quot;^R&quot;,&quot;Consistency: \\&quot;it look correct to me\\&quot;&quot;,536871000]],[&quot;^17&quot;,[448,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[448,&quot;^F&quot;,468,536871000]],[&quot;^17&quot;,[448,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[448,&quot;^W&quot;,445,536871000]],[&quot;^17&quot;,[448,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[448,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[448,&quot;^;&quot;,&quot;~u62d35827-f078-4bd5-9bb0-e5e92abeb277&quot;,536871000]],[&quot;^17&quot;,[449,&quot;^R&quot;,&quot;Write-Read Conflicts (W-R)&quot;,536871000]],[&quot;^17&quot;,[449,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[449,&quot;^F&quot;,452,536871000]],[&quot;^17&quot;,[449,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[449,&quot;^W&quot;,459,536871000]],[&quot;^17&quot;,[449,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[449,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[449,&quot;^;&quot;,&quot;~u62d35827-762a-486b-b288-e80ef4ae93e7&quot;,536871000]],[&quot;^17&quot;,[450,&quot;^R&quot;,&quot;Durability: \\&quot;survive failures\\&quot;&quot;,536871000]],[&quot;^17&quot;,[450,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[450,&quot;^F&quot;,463,536871000]],[&quot;^17&quot;,[450,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[450,&quot;^W&quot;,445,536871000]],[&quot;^17&quot;,[450,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[450,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[450,&quot;^;&quot;,&quot;~u62d35827-ea57-48c8-9fa0-0eef74e31c8f&quot;,536871000]],[&quot;^17&quot;,[451,&quot;^R&quot;,&quot;Pessimistic : 悲观。 不让问题出现，将问题扼杀在摇篮里&quot;,536871000]],[&quot;^17&quot;,[451,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[451,&quot;^F&quot;,465,536871000]],[&quot;^17&quot;,[451,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[451,&quot;^W&quot;,465,536871000]],[&quot;^17&quot;,[451,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[451,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[451,&quot;^;&quot;,&quot;~u62d35827-d76d-4ef0-a2da-2434230c0c54&quot;,536871000]],[&quot;^17&quot;,[452,&quot;^R&quot;,&quot;Read-Write Conflicts (R-W)&quot;,536871000]],[&quot;^17&quot;,[452,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[452,&quot;^F&quot;,459,536871000]],[&quot;^17&quot;,[452,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[452,&quot;^W&quot;,459,536871000]],[&quot;^17&quot;,[452,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[452,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[452,&quot;^;&quot;,&quot;~u62d35827-56dc-4217-a338-c9879e658b57&quot;,536871000]],[&quot;^17&quot;,[453,&quot;^R&quot;,&quot;**logging**\\nDBMS 在日志顺序记录所有action，undo所有aborted transaction 已经执行的actions， redo所有提交且未落盘actions&quot;,536871000]],[&quot;^17&quot;,[453,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[453,&quot;^F&quot;,466,536871000]],[&quot;^17&quot;,[453,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[453,&quot;^W&quot;,466,536871000]],[&quot;^17&quot;,[453,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[453,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[453,&quot;^;&quot;,&quot;~u62d35827-923a-4b25-8a69-de7b5b7f2ead&quot;,536871000]],[&quot;^17&quot;,[454,&quot;^R&quot;,&quot;Write-Write Conflicts (W-W)&quot;,536871000]],[&quot;^17&quot;,[454,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[454,&quot;^F&quot;,449,536871000]],[&quot;^17&quot;,[454,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[454,&quot;^W&quot;,459,536871000]],[&quot;^17&quot;,[454,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[454,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[454,&quot;^;&quot;,&quot;~u62d35827-1504-4d31-b3de-c5f680f22cd8&quot;,536871000]],[&quot;^17&quot;,[455,&quot;^R&quot;,&quot;如何判断重叠schedule 是否正确？&quot;,536871000]],[&quot;^17&quot;,[455,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[455,&quot;^F&quot;,465,536871000]],[&quot;^17&quot;,[455,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[455,&quot;^W&quot;,463,536871000]],[&quot;^17&quot;,[455,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[455,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[455,&quot;^;&quot;,&quot;~u62d35827-468f-41f4-9a0e-7ddf86e10644&quot;,536871000]],[&quot;^17&quot;,[456,&quot;^R&quot;,&quot;Serial Schedule: 不同 txn 之间没有重叠&quot;,536871000]],[&quot;^17&quot;,[456,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[456,&quot;^F&quot;,455,536871000]],[&quot;^17&quot;,[456,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[456,&quot;^W&quot;,455,536871000]],[&quot;^17&quot;,[456,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[456,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[456,&quot;^;&quot;,&quot;~u62d35827-2e8a-46a5-90f3-7af64041ca42&quot;,536871000]],[&quot;^17&quot;,[457,&quot;^R&quot;,&quot;**Conflicting Operations**&quot;,536871000]],[&quot;^17&quot;,[457,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[457,&quot;^F&quot;,455,536871000]],[&quot;^17&quot;,[457,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[457,&quot;^W&quot;,463,536871000]],[&quot;^17&quot;,[457,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[457,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[457,&quot;^;&quot;,&quot;~u62d35827-e5f0-44ed-b9aa-92bcdd7657aa&quot;,536871000]],[&quot;^17&quot;,[458,&quot;^R&quot;,&quot;Serializable Schedule: 如果一个schedule 与 txn 之间某种serial execution 效果一致， 则称schedule 为 serializable schedule&quot;,536871000]],[&quot;^17&quot;,[458,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[458,&quot;^F&quot;,464,536871000]],[&quot;^17&quot;,[458,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[458,&quot;^W&quot;,455,536871000]],[&quot;^17&quot;,[458,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[458,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[458,&quot;^;&quot;,&quot;~u62d35827-b2fe-4aad-9cd1-86c26f8e01b5&quot;,536871000]],[&quot;^17&quot;,[459,&quot;^R&quot;,&quot;可以穷举出这几种情况：&quot;,536871000]],[&quot;^17&quot;,[459,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[459,&quot;^F&quot;,461,536871000]],[&quot;^17&quot;,[459,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[459,&quot;^W&quot;,457,536871000]],[&quot;^17&quot;,[459,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[459,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[459,&quot;^;&quot;,&quot;~u62d35827-6124-4eb0-b6f8-58784b655c45&quot;,536871000]],[&quot;^17&quot;,[460,&quot;^R&quot;,&quot;**Shadow paging**\\ntransaction 执行前，DBMS复制所有的pages，让transaction修改，只有commit 后，才会对外部可见。效率很低，现代系统很少使用，包括CouchDB， LMDB&quot;,536871000]],[&quot;^17&quot;,[460,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[460,&quot;^F&quot;,453,536871000]],[&quot;^17&quot;,[460,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[460,&quot;^W&quot;,466,536871000]],[&quot;^17&quot;,[460,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[460,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[460,&quot;^;&quot;,&quot;~u62d35827-c703-45a1-ad2b-62ba370ef10a&quot;,536871000]],[&quot;^17&quot;,[461,&quot;^R&quot;,&quot;在对 schedules 作等价分析前，需要了解 conflicting operations。当两个 operations 满足以下条件时，我们认为它们是 conflicting operations：&quot;,536871000]],[&quot;^17&quot;,[461,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[461,&quot;^F&quot;,457,536871000]],[&quot;^17&quot;,[461,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[461,&quot;^W&quot;,457,536871000]],[&quot;^17&quot;,[461,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[461,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[461,&quot;^;&quot;,&quot;~u62d35827-0874-4813-8293-33068ff4711c&quot;,536871000]],[&quot;^17&quot;,[462,&quot;^R&quot;,&quot;来自不同的 transactions\\n对同一个对象操作\\n两个 operations 至少有一个是 write 操作&quot;,536871000]],[&quot;^17&quot;,[462,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[462,&quot;^F&quot;,461,536871000]],[&quot;^17&quot;,[462,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[462,&quot;^W&quot;,461,536871000]],[&quot;^17&quot;,[462,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[462,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[462,&quot;^;&quot;,&quot;~u62d35827-0f75-478b-a01f-9af13e042c17&quot;,536871000]],[&quot;^17&quot;,[463,&quot;^R&quot;,&quot;Isolation: “as if alone”&quot;,536871000]],[&quot;^17&quot;,[463,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[463,&quot;^F&quot;,448,536871000]],[&quot;^17&quot;,[463,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[463,&quot;^W&quot;,445,536871000]],[&quot;^17&quot;,[463,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[463,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[463,&quot;^;&quot;,&quot;~u62d35827-de0e-4360-b04e-7c54e53472f5&quot;,536871000]],[&quot;^17&quot;,[464,&quot;^R&quot;,&quot;Equivalent Schedules: 对于任意数据库起始状态，若两个schedule 分别执行所达到的数据库最终状态相同，则称两个schedule 等价&quot;,536871000]],[&quot;^17&quot;,[464,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[464,&quot;^F&quot;,456,536871000]],[&quot;^17&quot;,[464,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[464,&quot;^W&quot;,455,536871000]],[&quot;^17&quot;,[464,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[464,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[464,&quot;^;&quot;,&quot;~u62d35827-2db9-4b58-a439-63a2abdb2f72&quot;,536871000]],[&quot;^17&quot;,[465,&quot;^R&quot;,&quot;用户提交transaction， 不同 txn 执行过程应当互相隔离，以为只有自己在执行。但为了提高并发性能，我们需要恰如其分给不同 txn 分配资源。总体又两种策略&quot;,536871000]],[&quot;^17&quot;,[465,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[465,&quot;^F&quot;,463,536871000]],[&quot;^17&quot;,[465,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[465,&quot;^W&quot;,463,536871000]],[&quot;^17&quot;,[465,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[465,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[465,&quot;^;&quot;,&quot;~u62d35827-fafe-4add-a5b1-975d6616757a&quot;,536871000]],[&quot;^17&quot;,[466,&quot;^R&quot;,&quot;DBMS需要保证原子性，在使用者眼里一个txn操作要么都执行，要么都没有执行。并且如果发生宕机，能够恢复到原子状态，如何保证？&quot;,536871000]],[&quot;^17&quot;,[466,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[466,&quot;^F&quot;,468,536871000]],[&quot;^17&quot;,[466,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[466,&quot;^W&quot;,468,536871000]],[&quot;^17&quot;,[466,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[466,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[466,&quot;^;&quot;,&quot;~u62d35827-4a17-4000-baa6-2481c3a2fae0&quot;,536871000]],[&quot;^17&quot;,[467,&quot;^R&quot;,&quot;如果DBMS 在 transaction 开始前是 consistent， 那么执行完毕也应该是 consistent。一致性是DBMS必须保证的事情&quot;,536871000]],[&quot;^17&quot;,[467,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[467,&quot;^F&quot;,448,536871000]],[&quot;^17&quot;,[467,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[467,&quot;^W&quot;,448,536871000]],[&quot;^17&quot;,[467,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[467,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[467,&quot;^;&quot;,&quot;~u62d35827-b570-4793-ae98-03fbeab93312&quot;,536871000]],[&quot;^17&quot;,[468,&quot;^R&quot;,&quot;Atomicity: \\&quot;all or nothing\\&quot;&quot;,536871000]],[&quot;^17&quot;,[468,&quot;^P&quot;,&quot;^19&quot;,536871000]],[&quot;^17&quot;,[468,&quot;^F&quot;,4508,536896841]],[&quot;^17&quot;,[468,&quot;^Z&quot;,445,536871000]],[&quot;^17&quot;,[468,&quot;^W&quot;,445,536871000]],[&quot;^17&quot;,[468,&quot;^V&quot;,445,536871000]],[&quot;^17&quot;,[468,&quot;^1@&quot;,true,536871000]],[&quot;^17&quot;,[468,&quot;^;&quot;,&quot;~u62d35827-3993-4caf-ad46-e19bccacbb85&quot;,536871000]],[&quot;^17&quot;,[499,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[499,&quot;^@&quot;,false,536871004]],[&quot;^17&quot;,[499,&quot;^[&quot;,&quot;oltp&quot;,536871004]],[&quot;^17&quot;,[499,&quot;^13&quot;,&quot;OLTP&quot;,536871004]],[&quot;^17&quot;,[499,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896766]],[&quot;^17&quot;,[499,&quot;^B&quot;,1657955666079,536871263]],[&quot;^17&quot;,[499,&quot;^;&quot;,&quot;~u62d3582c-8305-479b-98d6-f1e9ce72f767&quot;,536871230]],[&quot;^17&quot;,[503,&quot;^R&quot;,&quot;Maintenance Buffers&quot;,536871004]],[&quot;^17&quot;,[503,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[503,&quot;^F&quot;,554,536871004]],[&quot;^17&quot;,[503,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[503,&quot;^W&quot;,565,536871004]],[&quot;^17&quot;,[503,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[503,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[503,&quot;^;&quot;,&quot;~u62d35828-bd66-4771-9413-45493ea7aac3&quot;,536871004]],[&quot;^17&quot;,[504,&quot;^R&quot;,&quot;但我遇到了一个bug，卡了我很久: 在`NewPgImp` 和 `FetchPgImp` 中调用 `FlushPgImp`，代码运行会卡死，我怀疑是测试样例为 `BufferMananger` 类，无法直接使用子类的方法&quot;,536871004]],[&quot;^17&quot;,[504,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[504,&quot;^F&quot;,539,536871004]],[&quot;^17&quot;,[504,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[504,&quot;^W&quot;,578,536871004]],[&quot;^17&quot;,[504,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[504,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[504,&quot;^;&quot;,&quot;~u62d35828-d78b-4989-93ec-0187017953c6&quot;,536871004]],[&quot;^17&quot;,[505,&quot;^R&quot;,&quot;Page table vs. Page directory\\npage directory 更像是文件系统里的概念，找到file对应的page\\n![image.png](../assets/image_1653731843914_0.png)&quot;,536871004]],[&quot;^17&quot;,[505,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[505,&quot;^F&quot;,596,536871004]],[&quot;^17&quot;,[505,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[505,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[505,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[505,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[505,&quot;^;&quot;,&quot;~u62d35828-bb74-4a4b-a10d-10e36a4e03c4&quot;,536871004]],[&quot;^17&quot;,[506,&quot;^R&quot;,&quot;每当需要移除 page 时，从上次访问的位置开始，按顺序轮询每个 page 的 reference bit，若该 bit 为 1，则重置为 0；若该 bit 为 0，则移除该 page&quot;,536871004]],[&quot;^17&quot;,[506,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[506,&quot;^F&quot;,563,536871004]],[&quot;^17&quot;,[506,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[506,&quot;^W&quot;,590,536871004]],[&quot;^17&quot;,[506,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[506,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[506,&quot;^;&quot;,&quot;~u62d35828-c969-4565-95b0-06a5e35bb838&quot;,536871004]],[&quot;^17&quot;,[507,&quot;^R&quot;,&quot;((6291f25b-e065-4712-8d64-2cf4e9ed40b0))&quot;,536871004]],[&quot;^17&quot;,[507,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[507,&quot;^F&quot;,510,536871004]],[&quot;^17&quot;,[507,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[507,&quot;^W&quot;,537,536871004]],[&quot;^17&quot;,[507,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[507,&quot;^H&quot;,518,536871004]],[&quot;^17&quot;,[507,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[507,&quot;^;&quot;,&quot;~u62d35828-2c6b-47dd-9fe1-3984481705fa&quot;,536871004]],[&quot;^17&quot;,[508,&quot;^R&quot;,&quot;代码逻辑与leetcode经典题一样[146. LRU 缓存 - 力扣（LeetCode）](https://leetcode.cn/problems/lru-cache/)，但是得加锁保证并发时没有错误&quot;,536871004]],[&quot;^17&quot;,[508,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[508,&quot;^F&quot;,555,536871004]],[&quot;^17&quot;,[508,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[508,&quot;^W&quot;,555,536871004]],[&quot;^17&quot;,[508,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[508,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[508,&quot;^;&quot;,&quot;~u62d35828-d2ba-4d88-bd1f-d12e29381548&quot;,536871004]],[&quot;^17&quot;,[509,&quot;^R&quot;,&quot;实现一个buffer pool manager 的实例，用于管理用户使用的页id与frame id的翻译，内存的读入和写回&quot;,536871004]],[&quot;^17&quot;,[509,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[509,&quot;^F&quot;,578,536871004]],[&quot;^17&quot;,[509,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[509,&quot;^W&quot;,578,536871004]],[&quot;^17&quot;,[509,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[509,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[509,&quot;^;&quot;,&quot;~u62d35828-5bb8-4b99-9869-64265b74c1aa&quot;,536871004]],[&quot;^17&quot;,[510,&quot;^R&quot;,&quot;((6291edce-dac3-47a2-82f0-0669e68dd8d7))&quot;,536871004]],[&quot;^17&quot;,[510,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[510,&quot;^F&quot;,537,536871004]],[&quot;^17&quot;,[510,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[510,&quot;^W&quot;,537,536871004]],[&quot;^17&quot;,[510,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[510,&quot;^H&quot;,524,536871004]],[&quot;^17&quot;,[510,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[510,&quot;^;&quot;,&quot;~u62d35828-16d7-4bdd-83ac-4bfc4310048f&quot;,536871004]],[&quot;^17&quot;,[511,&quot;^R&quot;,&quot;-&gt; Make decisions for all active txns&quot;,536871004]],[&quot;^17&quot;,[511,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[511,&quot;^F&quot;,574,536871004]],[&quot;^17&quot;,[511,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[511,&quot;^W&quot;,574,536871004]],[&quot;^17&quot;,[511,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[511,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[511,&quot;^;&quot;,&quot;~u62d35828-658f-41a0-923e-862179314e49&quot;,536871004]],[&quot;^17&quot;,[512,&quot;^R&quot;,&quot;## Replacement Policies\\nid:: 6292e996-d521-409e-a598-4f37ac2fdb37&quot;,536871004]],[&quot;^17&quot;,[512,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[512,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[512,&quot;^F&quot;,518,536871004]],[&quot;^17&quot;,[512,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[512,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[512,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[512,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;6292e996-d521-409e-a598-4f37ac2fdb37&quot;],536871004]],[&quot;^17&quot;,[512,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871004]],[&quot;^17&quot;,[512,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[512,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[512,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[512,&quot;^;&quot;,&quot;~u6292e996-d521-409e-a598-4f37ac2fdb37&quot;,536871004]],[&quot;^17&quot;,[513,&quot;^R&quot;,&quot;DBMS还维护了一个页表[[page-table]]，用于记录每个页在内存中的位置，还有每个页额外的 meta-date&quot;,536871004]],[&quot;^17&quot;,[513,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[513,&quot;^F&quot;,572,536871004]],[&quot;^17&quot;,[513,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[513,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[513,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[513,&quot;^V&quot;,501,536871004]],[&quot;^17&quot;,[513,&quot;^H&quot;,501,536871004]],[&quot;^17&quot;,[513,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[513,&quot;^;&quot;,&quot;~u62d35828-06a4-49e5-9c98-7b12352b08bb&quot;,536871004]],[&quot;^17&quot;,[514,&quot;^R&quot;,&quot;每个Database 分配一个 Buffer Pool&quot;,536871004]],[&quot;^17&quot;,[514,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[514,&quot;^F&quot;,577,536871004]],[&quot;^17&quot;,[514,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[514,&quot;^W&quot;,587,536871004]],[&quot;^17&quot;,[514,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[514,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[514,&quot;^;&quot;,&quot;~u62d35828-fbb0-482a-bc00-33f7d99bf641&quot;,536871004]],[&quot;^17&quot;,[515,&quot;^R&quot;,&quot;Dirty Flag&quot;,536871004]],[&quot;^17&quot;,[515,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[515,&quot;^F&quot;,513,536871004]],[&quot;^17&quot;,[515,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[515,&quot;^W&quot;,513,536871004]],[&quot;^17&quot;,[515,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[515,&quot;^V&quot;,501,536871004]],[&quot;^17&quot;,[515,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[515,&quot;^;&quot;,&quot;~u62d35828-859c-4ec7-8a83-6d9bbe255a00&quot;,536871004]],[&quot;^17&quot;,[516,&quot;^R&quot;,&quot;那么管理数据在内存和磁盘之间的移动又分两个方面;&quot;,536871004]],[&quot;^17&quot;,[516,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[516,&quot;^F&quot;,559,536871004]],[&quot;^17&quot;,[516,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[516,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[516,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[516,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[516,&quot;^;&quot;,&quot;~u62d35828-7169-4242-adb5-a233bf345994&quot;,536871004]],[&quot;^17&quot;,[517,&quot;^R&quot;,&quot;### Buffer Pool Optimizations\\nid:: 629585f8-d7c2-4a82-aadb-78ad0f868f34&quot;,536871004]],[&quot;^17&quot;,[517,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[517,&quot;^X&quot;,3,536871004]],[&quot;^17&quot;,[517,&quot;^F&quot;,579,536871004]],[&quot;^17&quot;,[517,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[517,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[517,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[517,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;629585f8-d7c2-4a82-aadb-78ad0f868f34&quot;],536871004]],[&quot;^17&quot;,[517,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871004]],[&quot;^17&quot;,[517,&quot;^1&gt;&quot;,3,536871004]],[&quot;^17&quot;,[517,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[517,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[517,&quot;^;&quot;,&quot;~u629585f8-d7c2-4a82-aadb-78ad0f868f34&quot;,536871004]],[&quot;^17&quot;,[518,&quot;^R&quot;,&quot;## Allocation Policies\\nid:: 6291f25b-e065-4712-8d64-2cf4e9ed40b0&quot;,536871004]],[&quot;^17&quot;,[518,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[518,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[518,&quot;^F&quot;,524,536871004]],[&quot;^17&quot;,[518,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[518,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[518,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[518,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;6291f25b-e065-4712-8d64-2cf4e9ed40b0&quot;],536871004]],[&quot;^17&quot;,[518,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871004]],[&quot;^17&quot;,[518,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[518,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[518,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[518,&quot;^;&quot;,&quot;~u6291f25b-e065-4712-8d64-2cf4e9ed40b0&quot;,536871004]],[&quot;^17&quot;,[519,&quot;^R&quot;,&quot;## Overview&quot;,536871004]],[&quot;^17&quot;,[519,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[519,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[519,&quot;^F&quot;,392,536871004]],[&quot;^17&quot;,[519,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[519,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[519,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[519,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[519,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[519,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[519,&quot;^;&quot;,&quot;~u62d35828-a321-4e78-853f-66ba621f356c&quot;,536871004]],[&quot;^17&quot;,[520,&quot;^R&quot;,&quot;Index Scans ![image.png](../assets/image_1653792836657_0.png)&quot;,536871004]],[&quot;^17&quot;,[520,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[520,&quot;^F&quot;,532,536871004]],[&quot;^17&quot;,[520,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[520,&quot;^W&quot;,583,536871004]],[&quot;^17&quot;,[520,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[520,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[520,&quot;^;&quot;,&quot;~u62d35828-852d-44b1-9f27-ddf43e624d86&quot;,536871004]],[&quot;^17&quot;,[521,&quot;^R&quot;,&quot;((6292ed11-b7b1-430a-ac1d-4d1df6a50eca))&quot;,536871004]],[&quot;^17&quot;,[521,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[521,&quot;^F&quot;,546,536871004]],[&quot;^17&quot;,[521,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[521,&quot;^W&quot;,537,536871004]],[&quot;^17&quot;,[521,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[521,&quot;^H&quot;,535,536871004]],[&quot;^17&quot;,[521,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[521,&quot;^;&quot;,&quot;~u62d35828-a94a-4edd-bfeb-b15f4cdd63ae&quot;,536871004]],[&quot;^17&quot;,[522,&quot;^R&quot;,&quot;![image.png](../assets/image_1653661825549_0.png)&quot;,536871004]],[&quot;^17&quot;,[522,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[522,&quot;^F&quot;,562,536871004]],[&quot;^17&quot;,[522,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[522,&quot;^W&quot;,568,536871004]],[&quot;^17&quot;,[522,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[522,&quot;^V&quot;,498,536871004]],[&quot;^17&quot;,[522,&quot;^V&quot;,499,536871004]],[&quot;^17&quot;,[522,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[522,&quot;^;&quot;,&quot;~u62d35828-19ca-4c04-a182-8c99ea4fbc52&quot;,536871004]],[&quot;^17&quot;,[523,&quot;^R&quot;,&quot;每种 page 类型一个 buffer pool&quot;,536871004]],[&quot;^17&quot;,[523,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[523,&quot;^F&quot;,514,536871004]],[&quot;^17&quot;,[523,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[523,&quot;^W&quot;,587,536871004]],[&quot;^17&quot;,[523,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[523,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[523,&quot;^;&quot;,&quot;~u62d35828-ee09-4ae8-af96-4680b06da53c&quot;,536871004]],[&quot;^17&quot;,[524,&quot;^R&quot;,&quot;## Buffer Pool Manager\\nid:: 6291edce-dac3-47a2-82f0-0669e68dd8d7&quot;,536871004]],[&quot;^17&quot;,[524,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[524,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[524,&quot;^F&quot;,537,536871004]],[&quot;^17&quot;,[524,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[524,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[524,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[524,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;6291edce-dac3-47a2-82f0-0669e68dd8d7&quot;],536871004]],[&quot;^17&quot;,[524,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871004]],[&quot;^17&quot;,[524,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[524,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[524,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[524,&quot;^;&quot;,&quot;~u6291edce-dac3-47a2-82f0-0669e68dd8d7&quot;,536871004]],[&quot;^17&quot;,[525,&quot;^R&quot;,&quot;Dirty Pages&quot;,536871004]],[&quot;^17&quot;,[525,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[525,&quot;^F&quot;,557,536871004]],[&quot;^17&quot;,[525,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[525,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[525,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[525,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[525,&quot;^;&quot;,&quot;~u62d35828-511b-4404-a233-24233ae95ddb&quot;,536871004]],[&quot;^17&quot;,[526,&quot;^R&quot;,&quot;Local Policies:&quot;,536871004]],[&quot;^17&quot;,[526,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[526,&quot;^F&quot;,574,536871004]],[&quot;^17&quot;,[526,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[526,&quot;^W&quot;,518,536871004]],[&quot;^17&quot;,[526,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[526,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[526,&quot;^;&quot;,&quot;~u62d35828-74e9-4f0f-a1d1-50ae852c755e&quot;,536871004]],[&quot;^17&quot;,[527,&quot;^R&quot;,&quot;Dictionary Caches&quot;,536871004]],[&quot;^17&quot;,[527,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[527,&quot;^F&quot;,545,536871004]],[&quot;^17&quot;,[527,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[527,&quot;^W&quot;,565,536871004]],[&quot;^17&quot;,[527,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[527,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[527,&quot;^;&quot;,&quot;~u62d35828-b1e7-4d6b-a524-2b4493f8a511&quot;,536871004]],[&quot;^17&quot;,[528,&quot;^R&quot;,&quot;((6291eba0-e236-4319-9971-95753c766371))&quot;,536871004]],[&quot;^17&quot;,[528,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[528,&quot;^F&quot;,538,536871004]],[&quot;^17&quot;,[528,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[528,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[528,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[528,&quot;^H&quot;,392,536871004]],[&quot;^17&quot;,[528,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[528,&quot;^;&quot;,&quot;~u62d35828-9377-4a8d-9e42-d6fe6f0941d2&quot;,536871004]],[&quot;^17&quot;,[529,&quot;^R&quot;,&quot;&quot;,536871004]],[&quot;^17&quot;,[529,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[529,&quot;^F&quot;,543,536871004]],[&quot;^17&quot;,[529,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[529,&quot;^W&quot;,536,536871004]],[&quot;^17&quot;,[529,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[529,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[529,&quot;^;&quot;,&quot;~u62d35828-e17c-4759-a3ab-87213f27910f&quot;,536871004]],[&quot;^17&quot;,[530,&quot;^R&quot;,&quot;→ Also called synchronized scans&quot;,536871004]],[&quot;^17&quot;,[530,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[530,&quot;^F&quot;,536,536871004]],[&quot;^17&quot;,[530,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[530,&quot;^W&quot;,536,536871004]],[&quot;^17&quot;,[530,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[530,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[530,&quot;^;&quot;,&quot;~u62d35828-2a22-4b8f-91fe-22acad995bd0&quot;,536871004]],[&quot;^17&quot;,[531,&quot;^R&quot;,&quot;&quot;,536871004]],[&quot;^17&quot;,[531,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[531,&quot;^F&quot;,569,536871004]],[&quot;^17&quot;,[531,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[531,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[531,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[531,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[531,&quot;^;&quot;,&quot;~u62d35828-f0b9-4407-9150-aed0edf4b76d&quot;,536871004]],[&quot;^17&quot;,[532,&quot;^R&quot;,&quot;Sequential Scan&quot;,536871004]],[&quot;^17&quot;,[532,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[532,&quot;^F&quot;,583,536871004]],[&quot;^17&quot;,[532,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[532,&quot;^W&quot;,583,536871004]],[&quot;^17&quot;,[532,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[532,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[532,&quot;^;&quot;,&quot;~u62d35828-cf44-43f4-9abe-41fe78b820c6&quot;,536871004]],[&quot;^17&quot;,[533,&quot;^R&quot;,&quot;我的debug方式是打日志，通过日志和测试提醒，找到问题所在位置，然后判断错误原因&quot;,536871004]],[&quot;^17&quot;,[533,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[533,&quot;^F&quot;,581,536871004]],[&quot;^17&quot;,[533,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[533,&quot;^W&quot;,570,536871004]],[&quot;^17&quot;,[533,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[533,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[533,&quot;^;&quot;,&quot;~u62d35828-ef77-440e-b81e-59c407aaebe2&quot;,536871004]],[&quot;^17&quot;,[534,&quot;^R&quot;,&quot;每个页维护了一个最近使用时间戳&quot;,536871004]],[&quot;^17&quot;,[534,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[534,&quot;^F&quot;,553,536871004]],[&quot;^17&quot;,[534,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[534,&quot;^W&quot;,553,536871004]],[&quot;^17&quot;,[534,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[534,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[534,&quot;^;&quot;,&quot;~u62d35828-e1dd-4909-98d9-61f480d8da39&quot;,536871004]],[&quot;^17&quot;,[535,&quot;^R&quot;,&quot;## Other Memory Pools\\nid:: 6292ed11-b7b1-430a-ac1d-4d1df6a50eca&quot;,536871004]],[&quot;^17&quot;,[535,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[535,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[535,&quot;^F&quot;,512,536871004]],[&quot;^17&quot;,[535,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[535,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[535,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[535,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;6292ed11-b7b1-430a-ac1d-4d1df6a50eca&quot;],536871004]],[&quot;^17&quot;,[535,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871004]],[&quot;^17&quot;,[535,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[535,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[535,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[535,&quot;^;&quot;,&quot;~u6292ed11-b7b1-430a-ac1d-4d1df6a50eca&quot;,536871004]],[&quot;^17&quot;,[536,&quot;^R&quot;,&quot;Scan Sharing : 主要用于多个查询存在数据共同情况。两个不同查询A,B需要使用一部分共同数据，B 先与A共同 cursor, 等A扫描完，在扫描自己需要的其他数据。&quot;,536871004]],[&quot;^17&quot;,[536,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[536,&quot;^F&quot;,583,536871004]],[&quot;^17&quot;,[536,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[536,&quot;^W&quot;,517,536871004]],[&quot;^17&quot;,[536,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[536,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[536,&quot;^;&quot;,&quot;~u62d35828-b626-4c7a-9a9b-88cab38070e7&quot;,536871004]],[&quot;^17&quot;,[537,&quot;^R&quot;,&quot;AGENDA&quot;,536871004]],[&quot;^17&quot;,[537,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[537,&quot;^F&quot;,560,536871004]],[&quot;^17&quot;,[537,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[537,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[537,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[537,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[537,&quot;^;&quot;,&quot;~u62d35828-d4af-4ffe-ab3a-4c804a14a1f9&quot;,536871004]],[&quot;^17&quot;,[538,&quot;^R&quot;,&quot;alias:: cmu15-445proj1&quot;,536871004]],[&quot;^17&quot;,[538,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[538,&quot;^F&quot;,4485,536896716]],[&quot;^17&quot;,[538,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[538,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[538,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[538,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;cmu15-445proj1&quot;]]],536871004]],[&quot;^17&quot;,[538,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871004]],[&quot;^17&quot;,[538,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[538,&quot;^;&quot;,&quot;~u62d35828-8fee-46bd-b8ea-f55685b381ed&quot;,536871004]],[&quot;^17&quot;,[539,&quot;^R&quot;,&quot;函数签名都很清晰，每个方法还有注释提示我们写代码，实现起来不算难&quot;,536871004]],[&quot;^17&quot;,[539,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[539,&quot;^F&quot;,509,536871004]],[&quot;^17&quot;,[539,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[539,&quot;^W&quot;,578,536871004]],[&quot;^17&quot;,[539,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[539,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[539,&quot;^;&quot;,&quot;~u62d35828-5b2f-4845-ba53-f3d4fe79e6ec&quot;,536871004]],[&quot;^17&quot;,[540,&quot;^R&quot;,&quot;除了直接在 Replacement Policies 中考虑，有的 DBMS 使用 Background Writing 的方式来处理。它们定期扫描 page table，发现 dirty page 就写入 disk，在 Replacement 发生时就无需考虑脏数据带来的问题。&quot;,536871004]],[&quot;^17&quot;,[540,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[540,&quot;^F&quot;,594,536871004]],[&quot;^17&quot;,[540,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[540,&quot;^W&quot;,525,536871004]],[&quot;^17&quot;,[540,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[540,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[540,&quot;^;&quot;,&quot;~u62d35828-4c43-4664-bd8b-13cd9a77727b&quot;,536871004]],[&quot;^17&quot;,[541,&quot;^R&quot;,&quot;LRU CLOCK 问题&quot;,536871004]],[&quot;^17&quot;,[541,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[541,&quot;^F&quot;,542,536871004]],[&quot;^17&quot;,[541,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[541,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[541,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[541,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[541,&quot;^;&quot;,&quot;~u62d35828-d964-48c4-b696-46125de5b2d8&quot;,536871004]],[&quot;^17&quot;,[542,&quot;^R&quot;,&quot;CLOCK&quot;,536871004]],[&quot;^17&quot;,[542,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[542,&quot;^F&quot;,553,536871004]],[&quot;^17&quot;,[542,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[542,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[542,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[542,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[542,&quot;^;&quot;,&quot;~u62d35828-65c6-45e7-a2fb-adcbe35f5fd5&quot;,536871004]],[&quot;^17&quot;,[543,&quot;^R&quot;,&quot;![image.png](../assets/image_1653793193033_0.png){:height 387, :width 666} ![image.png](../assets/image_1653793198913_0.png)&quot;,536871004]],[&quot;^17&quot;,[543,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[543,&quot;^F&quot;,530,536871004]],[&quot;^17&quot;,[543,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[543,&quot;^W&quot;,536,536871004]],[&quot;^17&quot;,[543,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[543,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[543,&quot;^;&quot;,&quot;~u62d35828-4f54-4392-afae-68e448123187&quot;,536871004]],[&quot;^17&quot;,[544,&quot;^R&quot;,&quot;主要有三个bug：&quot;,536871004]],[&quot;^17&quot;,[544,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[544,&quot;^F&quot;,567,536871004]],[&quot;^17&quot;,[544,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[544,&quot;^W&quot;,567,536871004]],[&quot;^17&quot;,[544,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[544,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[544,&quot;^;&quot;,&quot;~u62d35828-4ffc-476f-994e-a1ae8327aa06&quot;,536871004]],[&quot;^17&quot;,[545,&quot;^R&quot;,&quot;Log Buffers&quot;,536871004]],[&quot;^17&quot;,[545,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[545,&quot;^F&quot;,503,536871004]],[&quot;^17&quot;,[545,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[545,&quot;^W&quot;,565,536871004]],[&quot;^17&quot;,[545,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[545,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[545,&quot;^;&quot;,&quot;~u62d35828-b637-4815-8a18-c49f095a6d4a&quot;,536871004]],[&quot;^17&quot;,[546,&quot;^R&quot;,&quot;((6292e996-d521-409e-a598-4f37ac2fdb37))&quot;,536871004]],[&quot;^17&quot;,[546,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[546,&quot;^F&quot;,507,536871004]],[&quot;^17&quot;,[546,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[546,&quot;^W&quot;,537,536871004]],[&quot;^17&quot;,[546,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[546,&quot;^H&quot;,512,536871004]],[&quot;^17&quot;,[546,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[546,&quot;^;&quot;,&quot;~u62d35828-4f12-42f3-be38-ae5b3079c60b&quot;,536871004]],[&quot;^17&quot;,[547,&quot;^R&quot;,&quot;→ Still need to support sharing pages.&quot;,536871004]],[&quot;^17&quot;,[547,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[547,&quot;^F&quot;,571,536871004]],[&quot;^17&quot;,[547,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[547,&quot;^W&quot;,526,536871004]],[&quot;^17&quot;,[547,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[547,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[547,&quot;^;&quot;,&quot;~u62d35828-3bbf-49c8-80c1-0ca48dedd231&quot;,536871004]],[&quot;^17&quot;,[548,&quot;^R&quot;,&quot;LRU-K&quot;,536871004]],[&quot;^17&quot;,[548,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[548,&quot;^F&quot;,541,536871004]],[&quot;^17&quot;,[548,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[548,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[548,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[548,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[548,&quot;^;&quot;,&quot;~u62d35828-e13f-4c4e-ad63-96815999c29f&quot;,536871004]],[&quot;^17&quot;,[549,&quot;^R&quot;,&quot;Sorting + Join Buffers&quot;,536871004]],[&quot;^17&quot;,[549,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[549,&quot;^F&quot;,565,536871004]],[&quot;^17&quot;,[549,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[549,&quot;^W&quot;,565,536871004]],[&quot;^17&quot;,[549,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[549,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[549,&quot;^;&quot;,&quot;~u62d35828-1759-4d3d-93ab-075533a4431f&quot;,536871004]],[&quot;^17&quot;,[550,&quot;^R&quot;,&quot;Temporal Control: 什么时候将页读到内存，什么时候将页写会磁盘？目标是最小化读写次数，提高I/O效率&quot;,536871004]],[&quot;^17&quot;,[550,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[550,&quot;^F&quot;,552,536871004]],[&quot;^17&quot;,[550,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[550,&quot;^W&quot;,516,536871004]],[&quot;^17&quot;,[550,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[550,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[550,&quot;^;&quot;,&quot;~u62d35828-468d-4810-8c13-a597b9f9811b&quot;,536871004]],[&quot;^17&quot;,[551,&quot;^R&quot;,&quot;OS PAGE CACHE： 大部分 disk operations 都是通过系统调用完成，通常系统会维护自身的数据缓存，这会导致一份数据分别在操作系统和 DMBS 中被缓存两次。大多数 DBMS 都会使用 (O_DIRECT) 来告诉 OS 不要缓存这些数据，除了 Postgres （会带来一定的性能损失）&quot;,536871004]],[&quot;^17&quot;,[551,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[551,&quot;^F&quot;,593,536871004]],[&quot;^17&quot;,[551,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[551,&quot;^W&quot;,517,536871004]],[&quot;^17&quot;,[551,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[551,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[551,&quot;^;&quot;,&quot;~u62d35828-1596-4068-b797-4aea529f51b5&quot;,536871004]],[&quot;^17&quot;,[552,&quot;^R&quot;,&quot;Spatial Control: pages写到磁盘哪里？目标是将经常一起使用的页写到磁盘相近的位置&quot;,536871004]],[&quot;^17&quot;,[552,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[552,&quot;^F&quot;,516,536871004]],[&quot;^17&quot;,[552,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[552,&quot;^W&quot;,516,536871004]],[&quot;^17&quot;,[552,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[552,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[552,&quot;^;&quot;,&quot;~u62d35828-27fc-4917-8e95-266ee835b956&quot;,536871004]],[&quot;^17&quot;,[553,&quot;^R&quot;,&quot;### LEAST-RECENTLY USED&quot;,536871004]],[&quot;^17&quot;,[553,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[553,&quot;^X&quot;,3,536871004]],[&quot;^17&quot;,[553,&quot;^F&quot;,512,536871004]],[&quot;^17&quot;,[553,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[553,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[553,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[553,&quot;^1&gt;&quot;,3,536871004]],[&quot;^17&quot;,[553,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[553,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[553,&quot;^;&quot;,&quot;~u62d35828-ea92-455a-8328-19fb1c6055ef&quot;,536871004]],[&quot;^17&quot;,[554,&quot;^R&quot;,&quot;Query Caches&quot;,536871004]],[&quot;^17&quot;,[554,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[554,&quot;^F&quot;,549,536871004]],[&quot;^17&quot;,[554,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[554,&quot;^W&quot;,565,536871004]],[&quot;^17&quot;,[554,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[554,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[554,&quot;^;&quot;,&quot;~u62d35828-9bdd-47a4-8ace-95b90f12993f&quot;,536871004]],[&quot;^17&quot;,[555,&quot;^R&quot;,&quot;## lru_replacer&quot;,536871004]],[&quot;^17&quot;,[555,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[555,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[555,&quot;^F&quot;,519,536871004]],[&quot;^17&quot;,[555,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[555,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[555,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[555,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[555,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[555,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[555,&quot;^;&quot;,&quot;~u62d35828-3b2c-45ce-aa90-3080f0defded&quot;,536871004]],[&quot;^17&quot;,[556,&quot;^R&quot;,&quot;Need to make sure that critical sections are protected with [latched](https://stackoverflow.com/a/42464336)&quot;,536871004]],[&quot;^17&quot;,[556,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[556,&quot;^F&quot;,576,536871004]],[&quot;^17&quot;,[556,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[556,&quot;^W&quot;,519,536871004]],[&quot;^17&quot;,[556,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[556,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[556,&quot;^;&quot;,&quot;~u62d35828-1ce0-47d5-8a02-4d2e1673a8a4&quot;,536871004]],[&quot;^17&quot;,[557,&quot;^R&quot;,&quot;Priority Hints&quot;,536871004]],[&quot;^17&quot;,[557,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[557,&quot;^F&quot;,582,536871004]],[&quot;^17&quot;,[557,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[557,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[557,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[557,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[557,&quot;^;&quot;,&quot;~u62d35828-078c-467b-9094-3db87752c715&quot;,536871004]],[&quot;^17&quot;,[558,&quot;^R&quot;,&quot;容易被 sequential flooding, 导致最近被访问的 page 实际上最不可能需要， LRU-K 用来解决这个问题&quot;,536871004]],[&quot;^17&quot;,[558,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[558,&quot;^F&quot;,541,536871004]],[&quot;^17&quot;,[558,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[558,&quot;^W&quot;,541,536871004]],[&quot;^17&quot;,[558,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[558,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[558,&quot;^;&quot;,&quot;~u62d35828-1a95-4f23-8ee3-8e84b3ff6173&quot;,536871004]],[&quot;^17&quot;,[559,&quot;^R&quot;,&quot;我们要解决的的问题\\n![image.png](../assets/image_1653730272205_0.png)&quot;,536871004]],[&quot;^17&quot;,[559,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[559,&quot;^F&quot;,568,536871004]],[&quot;^17&quot;,[559,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[559,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[559,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[559,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[559,&quot;^;&quot;,&quot;~u62d35828-d7c6-46fa-a5bf-4e179dc1f6a8&quot;,536871004]],[&quot;^17&quot;,[560,&quot;^R&quot;,&quot;流程图如下:\\n![image.png](../assets/image_1653730610251_0.png)&quot;,536871004]],[&quot;^17&quot;,[560,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[560,&quot;^F&quot;,516,536871004]],[&quot;^17&quot;,[560,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[560,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[560,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[560,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[560,&quot;^;&quot;,&quot;~u62d35828-a703-4ca7-bffa-392a63a5d404&quot;,536871004]],[&quot;^17&quot;,[561,&quot;^R&quot;,&quot;第三个：`NewPgImp` 没有判断是否有空间，直接调用了`AllocatePage()` 导致 page_id 虚空增长&quot;,536871004]],[&quot;^17&quot;,[561,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[561,&quot;^F&quot;,592,536871004]],[&quot;^17&quot;,[561,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[561,&quot;^W&quot;,544,536871004]],[&quot;^17&quot;,[561,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[561,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[561,&quot;^;&quot;,&quot;~u62d35828-eb72-4b75-8df1-0a2041fc4457&quot;,536871004]],[&quot;^17&quot;,[562,&quot;^R&quot;,&quot;[OLTP 和 OLAP 的区别-阿里云开发者社区](https://developer.aliyun.com/article/377022)&quot;,536871004]],[&quot;^17&quot;,[562,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[562,&quot;^F&quot;,568,536871004]],[&quot;^17&quot;,[562,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[562,&quot;^W&quot;,568,536871004]],[&quot;^17&quot;,[562,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[562,&quot;^V&quot;,498,536871004]],[&quot;^17&quot;,[562,&quot;^V&quot;,499,536871004]],[&quot;^17&quot;,[562,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[562,&quot;^;&quot;,&quot;~u62d35828-0d40-4a86-9c7d-69de549be9f3&quot;,536871004]],[&quot;^17&quot;,[563,&quot;^R&quot;,&quot;每当 page 被访问时，reference bit 设置为 1&quot;,536871004]],[&quot;^17&quot;,[563,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[563,&quot;^F&quot;,590,536871004]],[&quot;^17&quot;,[563,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[563,&quot;^W&quot;,590,536871004]],[&quot;^17&quot;,[563,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[563,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[563,&quot;^;&quot;,&quot;~u62d35828-e6df-4c6d-923a-55605aa665b3&quot;,536871004]],[&quot;^17&quot;,[564,&quot;^R&quot;,&quot;## PARALLEL BUFFER POOL MANAGER&quot;,536871004]],[&quot;^17&quot;,[564,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[564,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[564,&quot;^F&quot;,578,536871004]],[&quot;^17&quot;,[564,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[564,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[564,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[564,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[564,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[564,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[564,&quot;^;&quot;,&quot;~u62d35828-ede9-4810-88b1-7f233fbd57b3&quot;,536871004]],[&quot;^17&quot;,[565,&quot;^R&quot;,&quot;DBMS 中，不仅 tuple and indexes 需要memory,  还需要其他的 memory pools，根据实现的不同&quot;,536871004]],[&quot;^17&quot;,[565,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[565,&quot;^F&quot;,535,536871004]],[&quot;^17&quot;,[565,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[565,&quot;^W&quot;,535,536871004]],[&quot;^17&quot;,[565,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[565,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[565,&quot;^;&quot;,&quot;~u62d35828-e0da-4aab-93fb-3fa0205b22ab&quot;,536871004]],[&quot;^17&quot;,[566,&quot;^R&quot;,&quot;这个task很简单，可以使用`std::atomic`来设置一个 Round-Robin 计数器&quot;,536871004]],[&quot;^17&quot;,[566,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[566,&quot;^F&quot;,564,536871004]],[&quot;^17&quot;,[566,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[566,&quot;^W&quot;,564,536871004]],[&quot;^17&quot;,[566,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[566,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[566,&quot;^;&quot;,&quot;~u62d35828-61bd-44f9-88a2-276d42bb1b17&quot;,536871004]],[&quot;^17&quot;,[567,&quot;^R&quot;,&quot;## DEBUG&quot;,536871004]],[&quot;^17&quot;,[567,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[567,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[567,&quot;^F&quot;,564,536871004]],[&quot;^17&quot;,[567,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[567,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[567,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[567,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[567,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[567,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[567,&quot;^;&quot;,&quot;~u62d35828-a7aa-47f3-bb68-18a72f63c81c&quot;,536871004]],[&quot;^17&quot;,[568,&quot;^N&quot;,true,536871004]],[&quot;^17&quot;,[568,&quot;^R&quot;,&quot;OLTP&amp;&amp;OLAP #OLTP #OLAP\\nid:: 6290e044-172b-4915-8d0d-20fbc6c51754\\ncollapsed:: true&quot;,536871004]],[&quot;^17&quot;,[568,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[568,&quot;^F&quot;,528,536871004]],[&quot;^17&quot;,[568,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[568,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[568,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[568,&quot;^V&quot;,498,536871004]],[&quot;^17&quot;,[568,&quot;^V&quot;,499,536871004]],[&quot;^17&quot;,[568,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;6290e044-172b-4915-8d0d-20fbc6c51754&quot;],536871004]],[&quot;^17&quot;,[568,&quot;^K&quot;,[&quot;^1=&quot;],536871004]],[&quot;^17&quot;,[568,&quot;^H&quot;,498,536871004]],[&quot;^17&quot;,[568,&quot;^H&quot;,499,536871004]],[&quot;^17&quot;,[568,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[568,&quot;^;&quot;,&quot;~u6290e044-172b-4915-8d0d-20fbc6c51754&quot;,536871004]],[&quot;^17&quot;,[569,&quot;^R&quot;,&quot;&quot;,536871004]],[&quot;^17&quot;,[569,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[569,&quot;^F&quot;,392,536871004]],[&quot;^17&quot;,[569,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[569,&quot;^W&quot;,109,536871004]],[&quot;^17&quot;,[569,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[569,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[569,&quot;^;&quot;,&quot;~u62d35828-bbd2-4867-8860-a90f1e0ad4a6&quot;,536871004]],[&quot;^17&quot;,[570,&quot;^R&quot;,&quot;## 总结&quot;,536871004]],[&quot;^17&quot;,[570,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[570,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[570,&quot;^F&quot;,567,536871004]],[&quot;^17&quot;,[570,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[570,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[570,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[570,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[570,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[570,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[570,&quot;^;&quot;,&quot;~u62d35828-a8ae-482a-88fb-ad0941998ccf&quot;,536871004]],[&quot;^17&quot;,[571,&quot;^R&quot;,&quot;→ Allocate frames to a specific txn without considering the \\nbehavior of concurrent txns.&quot;,536871004]],[&quot;^17&quot;,[571,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[571,&quot;^F&quot;,526,536871004]],[&quot;^17&quot;,[571,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[571,&quot;^W&quot;,526,536871004]],[&quot;^17&quot;,[571,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[571,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[571,&quot;^;&quot;,&quot;~u62d35828-cf29-45b1-99b1-f7ad58606b41&quot;,536871004]],[&quot;^17&quot;,[572,&quot;^R&quot;,&quot;当DBMS启动时会申请一块内存，将其分成固定大小的pages，这样一个Array entry 被称为 [[frame]]。 当DBMS请求一个页时，会讲一个真正的复制放到frame中。\\n![image.png](../assets/image_1653731049782_0.png)&quot;,536871004]],[&quot;^17&quot;,[572,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[572,&quot;^F&quot;,524,536871004]],[&quot;^17&quot;,[572,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[572,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[572,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[572,&quot;^V&quot;,500,536871004]],[&quot;^17&quot;,[572,&quot;^H&quot;,500,536871004]],[&quot;^17&quot;,[572,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[572,&quot;^;&quot;,&quot;~u62d35828-0fdf-48d2-99c2-4a067288f01d&quot;,536871004]],[&quot;^17&quot;,[573,&quot;^R&quot;,&quot;Pin/Reference Counter&quot;,536871004]],[&quot;^17&quot;,[573,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[573,&quot;^F&quot;,515,536871004]],[&quot;^17&quot;,[573,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[573,&quot;^W&quot;,513,536871004]],[&quot;^17&quot;,[573,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[573,&quot;^V&quot;,501,536871004]],[&quot;^17&quot;,[573,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[573,&quot;^;&quot;,&quot;~u62d35828-ba82-4618-a0cc-2956785e9527&quot;,536871004]],[&quot;^17&quot;,[574,&quot;^R&quot;,&quot;Global Policies:&quot;,536871004]],[&quot;^17&quot;,[574,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[574,&quot;^F&quot;,518,536871004]],[&quot;^17&quot;,[574,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[574,&quot;^W&quot;,518,536871004]],[&quot;^17&quot;,[574,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[574,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[574,&quot;^;&quot;,&quot;~u62d35828-7a7a-427e-a0af-976f5d37845e&quot;,536871004]],[&quot;^17&quot;,[575,&quot;^R&quot;,&quot;通常K取一效果就不错&quot;,536871004]],[&quot;^17&quot;,[575,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[575,&quot;^F&quot;,597,536871004]],[&quot;^17&quot;,[575,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[575,&quot;^W&quot;,548,536871004]],[&quot;^17&quot;,[575,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[575,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[575,&quot;^;&quot;,&quot;~u62d35828-28ee-46ce-9d4b-4072ed179ef4&quot;,536871004]],[&quot;^17&quot;,[576,&quot;^R&quot;,&quot;目标是完成一个bufferpool，并且是线程安全，对数据库操作透明的。&quot;,536871004]],[&quot;^17&quot;,[576,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[576,&quot;^F&quot;,519,536871004]],[&quot;^17&quot;,[576,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[576,&quot;^W&quot;,519,536871004]],[&quot;^17&quot;,[576,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[576,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[576,&quot;^;&quot;,&quot;~u62d35828-ca97-4d67-b052-b5408c82391e&quot;,536871004]],[&quot;^17&quot;,[577,&quot;^R&quot;,&quot;多个 Buffer Pools 实例，相同的 page hash 到相同的实例上&quot;,536871004]],[&quot;^17&quot;,[577,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[577,&quot;^F&quot;,587,536871004]],[&quot;^17&quot;,[577,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[577,&quot;^W&quot;,587,536871004]],[&quot;^17&quot;,[577,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[577,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[577,&quot;^;&quot;,&quot;~u62d35828-70cc-4196-aa2f-b7399a703880&quot;,536871004]],[&quot;^17&quot;,[578,&quot;^R&quot;,&quot;## BUFFER POOL MANAGER INSTANCE&quot;,536871004]],[&quot;^17&quot;,[578,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[578,&quot;^X&quot;,2,536871004]],[&quot;^17&quot;,[578,&quot;^F&quot;,555,536871004]],[&quot;^17&quot;,[578,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[578,&quot;^W&quot;,392,536871004]],[&quot;^17&quot;,[578,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[578,&quot;^1&gt;&quot;,2,536871004]],[&quot;^17&quot;,[578,&quot;^Y&quot;,&quot;^1?&quot;,536871004]],[&quot;^17&quot;,[578,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[578,&quot;^;&quot;,&quot;~u62d35828-2a44-444e-b4a7-7b731c4a37c2&quot;,536871004]],[&quot;^17&quot;,[579,&quot;^R&quot;,&quot;&quot;,536871004]],[&quot;^17&quot;,[579,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[579,&quot;^F&quot;,505,536871004]],[&quot;^17&quot;,[579,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[579,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[579,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[579,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[579,&quot;^;&quot;,&quot;~u62d35828-b688-4218-b289-b3ef5636776b&quot;,536871004]],[&quot;^17&quot;,[580,&quot;^R&quot;,&quot;![image.png](../assets/image_1655704761931_0.png)&quot;,536871004]],[&quot;^17&quot;,[580,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[580,&quot;^F&quot;,591,536871004]],[&quot;^17&quot;,[580,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[580,&quot;^W&quot;,570,536871004]],[&quot;^17&quot;,[580,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[580,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[580,&quot;^;&quot;,&quot;~u62d35828-3525-4305-8af4-ca7ba9eb6358&quot;,536871004]],[&quot;^17&quot;,[581,&quot;^R&quot;,&quot;实现起来没有想象的那么难，虽然我C++苦手，实现只花了一下午；但debug花了我整整一天&quot;,536871004]],[&quot;^17&quot;,[581,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[581,&quot;^F&quot;,570,536871004]],[&quot;^17&quot;,[581,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[581,&quot;^W&quot;,570,536871004]],[&quot;^17&quot;,[581,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[581,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[581,&quot;^;&quot;,&quot;~u62d35828-c80a-4188-b764-75aee3428822&quot;,536871004]],[&quot;^17&quot;,[582,&quot;^R&quot;,&quot;LOCALIZATION&quot;,536871004]],[&quot;^17&quot;,[582,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[582,&quot;^F&quot;,548,536871004]],[&quot;^17&quot;,[582,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[582,&quot;^W&quot;,512,536871004]],[&quot;^17&quot;,[582,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[582,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[582,&quot;^;&quot;,&quot;~u62d35828-ce3a-485f-b02f-e897a5dc75ea&quot;,536871004]],[&quot;^17&quot;,[583,&quot;^R&quot;,&quot;Pre-Fetching: 可以通过查询计划来进行预期pages&quot;,536871004]],[&quot;^17&quot;,[583,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[583,&quot;^F&quot;,587,536871004]],[&quot;^17&quot;,[583,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[583,&quot;^W&quot;,517,536871004]],[&quot;^17&quot;,[583,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[583,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[583,&quot;^;&quot;,&quot;~u62d35828-0b73-458e-aa63-956c7a919fdf&quot;,536871004]],[&quot;^17&quot;,[584,&quot;^R&quot;,&quot;有时候 DBMS 知道每个 page 在查询执行过程中的上下文信息，因此它可以根据这些信息判断一个 page 是否重要。&quot;,536871004]],[&quot;^17&quot;,[584,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[584,&quot;^F&quot;,557,536871004]],[&quot;^17&quot;,[584,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[584,&quot;^W&quot;,557,536871004]],[&quot;^17&quot;,[584,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[584,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[584,&quot;^;&quot;,&quot;~u62d35828-1993-40ff-a223-5b4e61a3d439&quot;,536871004]],[&quot;^17&quot;,[585,&quot;^R&quot;,&quot;通常实现方法 ![image.png](../assets/image_1653792585138_0.png)&quot;,536871004]],[&quot;^17&quot;,[585,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[585,&quot;^F&quot;,523,536871004]],[&quot;^17&quot;,[585,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[585,&quot;^W&quot;,587,536871004]],[&quot;^17&quot;,[585,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[585,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[585,&quot;^;&quot;,&quot;~u62d35828-9986-47c2-b88c-71cb2d048d62&quot;,536871004]],[&quot;^17&quot;,[586,&quot;^R&quot;,&quot;第一个：就是这个：在`NewPgImp` 和 `FetchPgImp` 中调用 `FlushPgImp`，代码运行会卡死，我怀疑是测试样例为 `BufferMananger` 类，无法直接使用子类的方法&quot;,536871004]],[&quot;^17&quot;,[586,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[586,&quot;^F&quot;,544,536871004]],[&quot;^17&quot;,[586,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[586,&quot;^W&quot;,544,536871004]],[&quot;^17&quot;,[586,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[586,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[586,&quot;^;&quot;,&quot;~u62d35828-4784-4c21-81e0-21bd636fd85e&quot;,536871004]],[&quot;^17&quot;,[587,&quot;^R&quot;,&quot;Multiple Buffer Pools: 为了减少并发控制的开销以及利用数据的 locality，DBMS 可能在不同维度上维护多个 Buffer Pools：&quot;,536871004]],[&quot;^17&quot;,[587,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[587,&quot;^F&quot;,517,536871004]],[&quot;^17&quot;,[587,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[587,&quot;^W&quot;,517,536871004]],[&quot;^17&quot;,[587,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[587,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[587,&quot;^;&quot;,&quot;~u62d35828-c66c-4764-85b0-8a2f905502ca&quot;,536871004]],[&quot;^17&quot;,[588,&quot;^R&quot;,&quot;当DBMS 需要 evict 一个页，选择最旧的时间戳的：将pages 按时间戳排序减少搜索时间, 见leetcode题[146. LRU 缓存 - 力扣（LeetCode）](https://leetcode.cn/problems/lru-cache/)&quot;,536871004]],[&quot;^17&quot;,[588,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[588,&quot;^F&quot;,534,536871004]],[&quot;^17&quot;,[588,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[588,&quot;^W&quot;,553,536871004]],[&quot;^17&quot;,[588,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[588,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[588,&quot;^;&quot;,&quot;~u62d35828-2c2e-4cfb-91db-7188630f4bd8&quot;,536871004]],[&quot;^17&quot;,[589,&quot;^R&quot;,&quot;类似 rate limit&quot;,536871004]],[&quot;^17&quot;,[589,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[589,&quot;^F&quot;,595,536871004]],[&quot;^17&quot;,[589,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[589,&quot;^W&quot;,582,536871004]],[&quot;^17&quot;,[589,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[589,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[589,&quot;^;&quot;,&quot;~u62d35828-2199-47a7-8cbb-2efe2d68238e&quot;,536871004]],[&quot;^17&quot;,[590,&quot;^R&quot;,&quot;近似LRU，不需要维护分别的时间戳 -&gt; 每个页保存一个 reference bit&quot;,536871004]],[&quot;^17&quot;,[590,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[590,&quot;^F&quot;,542,536871004]],[&quot;^17&quot;,[590,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[590,&quot;^W&quot;,542,536871004]],[&quot;^17&quot;,[590,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[590,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[590,&quot;^;&quot;,&quot;~u62d35828-bbc1-4aa9-a899-95ace7de4503&quot;,536871004]],[&quot;^17&quot;,[591,&quot;^R&quot;,&quot;因为错误都是很细节的地方造成的，解决bug经常要靠灵光乍现，发现了某个没考虑的地方&quot;,536871004]],[&quot;^17&quot;,[591,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[591,&quot;^F&quot;,533,536871004]],[&quot;^17&quot;,[591,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[591,&quot;^W&quot;,570,536871004]],[&quot;^17&quot;,[591,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[591,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[591,&quot;^;&quot;,&quot;~u62d35828-9125-4092-929e-95ee3ea26192&quot;,536871004]],[&quot;^17&quot;,[592,&quot;^R&quot;,&quot;第二个：`parallel buffer pool manager` 初始化时，新建的buffer pool 实例初始化要声明编号&quot;,536871004]],[&quot;^17&quot;,[592,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[592,&quot;^F&quot;,586,536871004]],[&quot;^17&quot;,[592,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[592,&quot;^W&quot;,544,536871004]],[&quot;^17&quot;,[592,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[592,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[592,&quot;^;&quot;,&quot;~u62d35828-7a32-4fc7-92b6-c31595de0d0a&quot;,536871004]],[&quot;^17&quot;,[593,&quot;^R&quot;,&quot;Buffer Pool Bypass： 遇到大数据量的 Sequential Scan 时，如果pages顺序存入Buffer Pool，会污染后者，因为这些 pages 通常只使用一次，而它们的进入将导致一些可能在未来更需要的 pages 被移除。因此一些 DBMS 做了相应的优化，在这种查询出现时，为它单独分配一块局部内存，将其对 Buffer Pool 的影响隔离。&quot;,536871004]],[&quot;^17&quot;,[593,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[593,&quot;^F&quot;,536,536871004]],[&quot;^17&quot;,[593,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[593,&quot;^W&quot;,517,536871004]],[&quot;^17&quot;,[593,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[593,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[593,&quot;^;&quot;,&quot;~u62d35828-4e71-4a80-b5cb-17deede7ffdf&quot;,536871004]],[&quot;^17&quot;,[594,&quot;^R&quot;,&quot;移除一个 dirty page 的成本要高于移除一般 page，因为前者需要写 disk，后者可以直接 drop，因此 DBMS 在移除 page 的时候也需要考虑到这部分的影响&quot;,536871004]],[&quot;^17&quot;,[594,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[594,&quot;^F&quot;,525,536871004]],[&quot;^17&quot;,[594,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[594,&quot;^W&quot;,525,536871004]],[&quot;^17&quot;,[594,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[594,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[594,&quot;^;&quot;,&quot;~u62d35828-aa22-4227-8844-1db15b6bb9cf&quot;,536871004]],[&quot;^17&quot;,[595,&quot;^R&quot;,&quot;针对每个 txns\\\\query 做出移除 page的限制，最小化对 buffer pool 的污染&quot;,536871004]],[&quot;^17&quot;,[595,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[595,&quot;^F&quot;,582,536871004]],[&quot;^17&quot;,[595,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[595,&quot;^W&quot;,582,536871004]],[&quot;^17&quot;,[595,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[595,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[595,&quot;^;&quot;,&quot;~u62d35828-253a-40a8-b08e-3406068b5ce8&quot;,536871004]],[&quot;^17&quot;,[596,&quot;^R&quot;,&quot;当page table 中某个page被引用，会记录 pin/reference counter, 当空间不够时有pin counter的页不应该被移除 ; 当被请求的page不在page table 时， DBMS会先申请一个[[latch]],表示entry被占用，然后读取页到buffer pool，释放 [[latch]]\\n![image.png](../assets/image_1653731634278_0.png)&quot;,536871004]],[&quot;^17&quot;,[596,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[596,&quot;^F&quot;,513,536871004]],[&quot;^17&quot;,[596,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[596,&quot;^W&quot;,524,536871004]],[&quot;^17&quot;,[596,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[596,&quot;^V&quot;,502,536871004]],[&quot;^17&quot;,[596,&quot;^H&quot;,502,536871004]],[&quot;^17&quot;,[596,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[596,&quot;^;&quot;,&quot;~u62d35828-6206-4874-b00e-692953bff5c9&quot;,536871004]],[&quot;^17&quot;,[597,&quot;^R&quot;,&quot;保留最近K次访问时间戳，计算间隔来估计之后下次访问时间&quot;,536871004]],[&quot;^17&quot;,[597,&quot;^P&quot;,&quot;^19&quot;,536871004]],[&quot;^17&quot;,[597,&quot;^F&quot;,548,536871004]],[&quot;^17&quot;,[597,&quot;^Z&quot;,109,536871004]],[&quot;^17&quot;,[597,&quot;^W&quot;,548,536871004]],[&quot;^17&quot;,[597,&quot;^V&quot;,109,536871004]],[&quot;^17&quot;,[597,&quot;^1@&quot;,true,536871004]],[&quot;^17&quot;,[597,&quot;^;&quot;,&quot;~u62d35828-5063-4c06-a349-5979be423028&quot;,536871004]],[&quot;^17&quot;,[622,&quot;^L&quot;,1657955666076,536871263]],[&quot;^17&quot;,[622,&quot;^@&quot;,false,536871014]],[&quot;^17&quot;,[622,&quot;^[&quot;,&quot;dbms架构&quot;,536871014]],[&quot;^17&quot;,[622,&quot;^13&quot;,&quot;DBMS架构&quot;,536871014]],[&quot;^17&quot;,[622,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896710]],[&quot;^17&quot;,[622,&quot;^B&quot;,1657955666076,536871263]],[&quot;^17&quot;,[622,&quot;^;&quot;,&quot;~u62d3582c-7908-4af4-bca8-601884e4740b&quot;,536871230]],[&quot;^17&quot;,[624,&quot;^R&quot;,&quot;## 引子&quot;,536871014]],[&quot;^17&quot;,[624,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[624,&quot;^X&quot;,2,536871014]],[&quot;^17&quot;,[624,&quot;^F&quot;,4509,536896846]],[&quot;^17&quot;,[624,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[624,&quot;^W&quot;,67,536871014]],[&quot;^17&quot;,[624,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[624,&quot;^1&gt;&quot;,2,536871014]],[&quot;^17&quot;,[624,&quot;^Y&quot;,&quot;^1?&quot;,536871014]],[&quot;^17&quot;,[624,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[624,&quot;^;&quot;,&quot;~u62d35828-4d96-46ab-b884-2cb54284ad99&quot;,536871014]],[&quot;^17&quot;,[625,&quot;^R&quot;,&quot;![image.png](../assets/image_1657246819869_0.png)&quot;,536871014]],[&quot;^17&quot;,[625,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[625,&quot;^F&quot;,624,536871014]],[&quot;^17&quot;,[625,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[625,&quot;^W&quot;,624,536871014]],[&quot;^17&quot;,[625,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[625,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[625,&quot;^;&quot;,&quot;~u62d35828-5c2b-4b81-84b7-72b0d9c85f7b&quot;,536871014]],[&quot;^17&quot;,[626,&quot;^R&quot;,&quot;[[DBMS架构]]&quot;,536871014]],[&quot;^17&quot;,[626,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[626,&quot;^F&quot;,625,536871014]],[&quot;^17&quot;,[626,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[626,&quot;^W&quot;,624,536871014]],[&quot;^17&quot;,[626,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[626,&quot;^V&quot;,622,536871014]],[&quot;^17&quot;,[626,&quot;^H&quot;,622,536871014]],[&quot;^17&quot;,[626,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[626,&quot;^;&quot;,&quot;~u62d35828-c256-4b84-a11c-e3198825bda6&quot;,536871014]],[&quot;^17&quot;,[627,&quot;^R&quot;,&quot;[[ACID]]&quot;,536871014]],[&quot;^17&quot;,[627,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[627,&quot;^F&quot;,626,536871014]],[&quot;^17&quot;,[627,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[627,&quot;^W&quot;,624,536871014]],[&quot;^17&quot;,[627,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[627,&quot;^V&quot;,445,536871014]],[&quot;^17&quot;,[627,&quot;^H&quot;,445,536871014]],[&quot;^17&quot;,[627,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[627,&quot;^;&quot;,&quot;~u62d35828-2359-4179-8955-efdc6de0280a&quot;,536871014]],[&quot;^17&quot;,[628,&quot;^R&quot;,&quot;悲观 [[2PL]]&quot;,536871014]],[&quot;^17&quot;,[628,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[628,&quot;^F&quot;,624,536871014]],[&quot;^17&quot;,[628,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[628,&quot;^W&quot;,67,536871014]],[&quot;^17&quot;,[628,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[628,&quot;^V&quot;,623,536871014]],[&quot;^17&quot;,[628,&quot;^H&quot;,623,536871014]],[&quot;^17&quot;,[628,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[628,&quot;^;&quot;,&quot;~u62d35828-ab4e-42b8-8eb5-687a8f4b4a4a&quot;,536871014]],[&quot;^17&quot;,[629,&quot;^R&quot;,&quot;乐观 [[Timestamp Ordering Concurrency Control]]&quot;,536871014]],[&quot;^17&quot;,[629,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[629,&quot;^F&quot;,628,536871014]],[&quot;^17&quot;,[629,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[629,&quot;^W&quot;,67,536871014]],[&quot;^17&quot;,[629,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[629,&quot;^V&quot;,269,536871014]],[&quot;^17&quot;,[629,&quot;^H&quot;,269,536871014]],[&quot;^17&quot;,[629,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[629,&quot;^;&quot;,&quot;~u62d35828-7518-4240-841a-f4acfa55cafc&quot;,536871014]],[&quot;^17&quot;,[630,&quot;^R&quot;,&quot;&quot;,536871014]],[&quot;^17&quot;,[630,&quot;^P&quot;,&quot;^19&quot;,536871014]],[&quot;^17&quot;,[630,&quot;^F&quot;,629,536871014]],[&quot;^17&quot;,[630,&quot;^Z&quot;,67,536871014]],[&quot;^17&quot;,[630,&quot;^W&quot;,67,536871014]],[&quot;^17&quot;,[630,&quot;^V&quot;,67,536871014]],[&quot;^17&quot;,[630,&quot;^1@&quot;,true,536871014]],[&quot;^17&quot;,[630,&quot;^;&quot;,&quot;~u62d35828-4fbb-4c02-b58a-e4d2ecc2efa8&quot;,536871014]],[&quot;^17&quot;,[635,&quot;^L&quot;,1657955666073,536871263]],[&quot;^17&quot;,[635,&quot;^@&quot;,false,536871018]],[&quot;^17&quot;,[635,&quot;^[&quot;,&quot;transactions&quot;,536871018]],[&quot;^17&quot;,[635,&quot;^13&quot;,&quot;Transactions&quot;,536871018]],[&quot;^17&quot;,[635,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896836]],[&quot;^17&quot;,[635,&quot;^B&quot;,1657955666073,536871263]],[&quot;^17&quot;,[635,&quot;^;&quot;,&quot;~u62d3582c-332c-4e0a-9900-fd855d254244&quot;,536871230]],[&quot;^17&quot;,[636,&quot;^R&quot;,&quot;自底向上依次是 Disk Manager, [[BufferPool]] Manager, ((62ba4b81-7e78-43e3-94d1-91665d3ab05b)), Operator Execution, Query Planning([[Query Optimizer]])&quot;,536871018]],[&quot;^17&quot;,[636,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[636,&quot;^F&quot;,643,536871018]],[&quot;^17&quot;,[636,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[636,&quot;^W&quot;,641,536871018]],[&quot;^17&quot;,[636,&quot;^V&quot;,79,536871018]],[&quot;^17&quot;,[636,&quot;^V&quot;,109,536871018]],[&quot;^17&quot;,[636,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[636,&quot;^H&quot;,79,536871018]],[&quot;^17&quot;,[636,&quot;^H&quot;,109,536871018]],[&quot;^17&quot;,[636,&quot;^H&quot;,638,536871018]],[&quot;^17&quot;,[636,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[636,&quot;^;&quot;,&quot;~u62d35828-b461-4b7c-a9cb-b5108edcc51d&quot;,536871018]],[&quot;^17&quot;,[637,&quot;^R&quot;,&quot;![image.png](../assets/image_1657700918853_0.png)&quot;,536871018]],[&quot;^17&quot;,[637,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[637,&quot;^F&quot;,645,536871018]],[&quot;^17&quot;,[637,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[637,&quot;^W&quot;,645,536871018]],[&quot;^17&quot;,[637,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[637,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[637,&quot;^;&quot;,&quot;~u62d35828-6f11-4b85-b050-850ffc801c4d&quot;,536871018]],[&quot;^17&quot;,[638,&quot;^R&quot;,&quot;# Access Methods\\nid:: 62ba4b81-7e78-43e3-94d1-91665d3ab05b&quot;,536871086]],[&quot;^17&quot;,[638,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[638,&quot;^X&quot;,1,536871086]],[&quot;^17&quot;,[638,&quot;^F&quot;,1695,536871086]],[&quot;^17&quot;,[638,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[638,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[638,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[638,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ba4b81-7e78-43e3-94d1-91665d3ab05b&quot;],536871086]],[&quot;^17&quot;,[638,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871086]],[&quot;^17&quot;,[638,&quot;^1&gt;&quot;,1,536871086]],[&quot;^17&quot;,[638,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[638,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[638,&quot;^;&quot;,&quot;~u62ba4b81-7e78-43e3-94d1-91665d3ab05b&quot;,536871018]],[&quot;^17&quot;,[639,&quot;^R&quot;,&quot;两者都基础都是具备[[ACID]]特性的[[Transactions]]&quot;,536871018]],[&quot;^17&quot;,[639,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[639,&quot;^F&quot;,640,536871018]],[&quot;^17&quot;,[639,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[639,&quot;^W&quot;,636,536871018]],[&quot;^17&quot;,[639,&quot;^V&quot;,79,536871018]],[&quot;^17&quot;,[639,&quot;^V&quot;,109,536871018]],[&quot;^17&quot;,[639,&quot;^V&quot;,445,536871018]],[&quot;^17&quot;,[639,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[639,&quot;^V&quot;,635,536871018]],[&quot;^17&quot;,[639,&quot;^H&quot;,445,536871018]],[&quot;^17&quot;,[639,&quot;^H&quot;,635,536871018]],[&quot;^17&quot;,[639,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[639,&quot;^;&quot;,&quot;~u62d35828-31cb-4a17-bffc-a118370ad7e6&quot;,536871018]],[&quot;^17&quot;,[640,&quot;^R&quot;,&quot;面对故障，宕机，能恢复到之前状态 [[Recovery]]&quot;,536871018]],[&quot;^17&quot;,[640,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[640,&quot;^F&quot;,644,536871018]],[&quot;^17&quot;,[640,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[640,&quot;^W&quot;,636,536871018]],[&quot;^17&quot;,[640,&quot;^V&quot;,79,536871018]],[&quot;^17&quot;,[640,&quot;^V&quot;,109,536871018]],[&quot;^17&quot;,[640,&quot;^V&quot;,279,536871018]],[&quot;^17&quot;,[640,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[640,&quot;^H&quot;,279,536871018]],[&quot;^17&quot;,[640,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[640,&quot;^;&quot;,&quot;~u62d35828-39a1-4b17-b45d-51c3172ca1ad&quot;,536871018]],[&quot;^17&quot;,[641,&quot;^R&quot;,&quot;## cmu15445&quot;,536871018]],[&quot;^17&quot;,[641,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[641,&quot;^X&quot;,2,536871018]],[&quot;^17&quot;,[641,&quot;^F&quot;,4484,536896710]],[&quot;^17&quot;,[641,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[641,&quot;^W&quot;,622,536871018]],[&quot;^17&quot;,[641,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[641,&quot;^1&gt;&quot;,2,536871018]],[&quot;^17&quot;,[641,&quot;^Y&quot;,&quot;^1?&quot;,536871018]],[&quot;^17&quot;,[641,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[641,&quot;^;&quot;,&quot;~u62d35828-ba9c-44d0-afce-e4f03770600e&quot;,536871018]],[&quot;^17&quot;,[642,&quot;^R&quot;,&quot;&quot;,536871018]],[&quot;^17&quot;,[642,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[642,&quot;^F&quot;,637,536871018]],[&quot;^17&quot;,[642,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[642,&quot;^W&quot;,645,536871018]],[&quot;^17&quot;,[642,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[642,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[642,&quot;^;&quot;,&quot;~u62d35828-5d83-458d-b5ae-5329757304f3&quot;,536871018]],[&quot;^17&quot;,[643,&quot;^R&quot;,&quot;![image.png](../assets/image_1657246861094_0.png)&quot;,536871018]],[&quot;^17&quot;,[643,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[643,&quot;^F&quot;,641,536871018]],[&quot;^17&quot;,[643,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[643,&quot;^W&quot;,641,536871018]],[&quot;^17&quot;,[643,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[643,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[643,&quot;^;&quot;,&quot;~u62d35828-cb4b-44c1-b638-82dde47b39c1&quot;,536871018]],[&quot;^17&quot;,[644,&quot;^R&quot;,&quot;除此以外，还应该满足多个用户同时读写数据， [[Concurrency Control]]&quot;,536871018]],[&quot;^17&quot;,[644,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[644,&quot;^F&quot;,636,536871018]],[&quot;^17&quot;,[644,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[644,&quot;^W&quot;,636,536871018]],[&quot;^17&quot;,[644,&quot;^V&quot;,67,536871018]],[&quot;^17&quot;,[644,&quot;^V&quot;,79,536871018]],[&quot;^17&quot;,[644,&quot;^V&quot;,109,536871018]],[&quot;^17&quot;,[644,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[644,&quot;^H&quot;,67,536871018]],[&quot;^17&quot;,[644,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[644,&quot;^;&quot;,&quot;~u62d35828-d800-4e72-b5da-230b13d101ab&quot;,536871018]],[&quot;^17&quot;,[645,&quot;^R&quot;,&quot;## cs186&quot;,536871018]],[&quot;^17&quot;,[645,&quot;^P&quot;,&quot;^19&quot;,536871018]],[&quot;^17&quot;,[645,&quot;^X&quot;,2,536871018]],[&quot;^17&quot;,[645,&quot;^F&quot;,641,536871018]],[&quot;^17&quot;,[645,&quot;^Z&quot;,622,536871018]],[&quot;^17&quot;,[645,&quot;^W&quot;,622,536871018]],[&quot;^17&quot;,[645,&quot;^V&quot;,622,536871018]],[&quot;^17&quot;,[645,&quot;^1&gt;&quot;,2,536871018]],[&quot;^17&quot;,[645,&quot;^Y&quot;,&quot;^1?&quot;,536871018]],[&quot;^17&quot;,[645,&quot;^1@&quot;,true,536871018]],[&quot;^17&quot;,[645,&quot;^;&quot;,&quot;~u62d35828-b703-42e0-b8d1-c4f6ac1af01a&quot;,536871018]],[&quot;^17&quot;,[653,&quot;^L&quot;,1657955666074,536871263]],[&quot;^17&quot;,[653,&quot;^@&quot;,false,536871022]],[&quot;^17&quot;,[653,&quot;^[&quot;,&quot;data representation&quot;,536871022]],[&quot;^17&quot;,[653,&quot;^13&quot;,&quot;Data Representation&quot;,536871022]],[&quot;^17&quot;,[653,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896748]],[&quot;^17&quot;,[653,&quot;^B&quot;,1657955666074,536871263]],[&quot;^17&quot;,[653,&quot;^;&quot;,&quot;~u62d3582c-47bc-453c-8db4-e2d34288ac51&quot;,536871230]],[&quot;^17&quot;,[654,&quot;^R&quot;,&quot;## Tuple Storage\\n在文件中，一个 tuple 无非就是一串字节，而如何解读这些字节中隐含的数据类型和数据本身，就是 DBMS 的工作。DBMS 的 catelogs 保存着数据表的 schema 信息，有了这些信息，DBMS 就能够解读 tuple 数据。&quot;,536871022]],[&quot;^17&quot;,[654,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[654,&quot;^X&quot;,2,536871022]],[&quot;^17&quot;,[654,&quot;^F&quot;,4490,536896748]],[&quot;^17&quot;,[654,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[654,&quot;^W&quot;,653,536871022]],[&quot;^17&quot;,[654,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[654,&quot;^1&gt;&quot;,2,536871022]],[&quot;^17&quot;,[654,&quot;^Y&quot;,&quot;^1?&quot;,536871022]],[&quot;^17&quot;,[654,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[654,&quot;^;&quot;,&quot;~u62d35828-1464-4c0e-8438-0816cb609c0a&quot;,536871022]],[&quot;^17&quot;,[655,&quot;^R&quot;,&quot;**Data Representation**\\n数据库支持的数据类型主要包含：\\n![image.png](../assets/image_1657553031634_0.png)&quot;,536871022]],[&quot;^17&quot;,[655,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[655,&quot;^F&quot;,654,536871022]],[&quot;^17&quot;,[655,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[655,&quot;^W&quot;,653,536871022]],[&quot;^17&quot;,[655,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[655,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[655,&quot;^;&quot;,&quot;~u62d35828-b739-44ed-b879-cd821583f73b&quot;,536871022]],[&quot;^17&quot;,[656,&quot;^R&quot;,&quot;FLOAT/REAL/DOUBLE vs. NUMERIC/DECIMAL\\nfloat, real, double 类型的数字按照 IEEE-754 标准存储，它们都是 fixed-precision，在 range 和 precision 上作了取舍，无法保证精确度要求很高的计算的正确性，如：\\n``` cpp\\n#include &lt;stdio.h&gt;\\n\\nint main(int argc, char* argv[]) {\\n    float x = 0.1;\\n    float y = 0.2;\\n    printf(\\&quot;x+y = %.20f\\\\n\\&quot;, x+y)\\n    printf(\\&quot;0.3 = %.20f\\\\n\\&quot;, 0.3)\\n}\\n\\n// =&gt;\\n// x+y = 0.30000001192092895508\\n// 0.3 = 0.29999999999999998890\\n```&quot;,536871022]],[&quot;^17&quot;,[656,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[656,&quot;^F&quot;,655,536871022]],[&quot;^17&quot;,[656,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[656,&quot;^W&quot;,655,536871022]],[&quot;^17&quot;,[656,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[656,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[656,&quot;^;&quot;,&quot;~u62d35828-b446-4bed-b5cb-7f2e1fd3d896&quot;,536871022]],[&quot;^17&quot;,[657,&quot;^R&quot;,&quot;Large Values\\n![image.png](../assets/image_1657553111686_0.png)&quot;,536871022]],[&quot;^17&quot;,[657,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[657,&quot;^F&quot;,656,536871022]],[&quot;^17&quot;,[657,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[657,&quot;^W&quot;,655,536871022]],[&quot;^17&quot;,[657,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[657,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[657,&quot;^;&quot;,&quot;~u62d35828-a3bb-405e-ac69-026df53eed1b&quot;,536871022]],[&quot;^17&quot;,[658,&quot;^R&quot;,&quot;External Value Storage\\n一些 DBMSs 甚至允许你在外部存储二进制大文件，即 BLOB，但 DBMSs 一般不会负责管理外部文件，没有 durability protections 和 transaction protections，而且数据库的 dump 操作不会对外部文件起作用，转移数据时需要单独处理&quot;,536871022]],[&quot;^17&quot;,[658,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[658,&quot;^F&quot;,657,536871022]],[&quot;^17&quot;,[658,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[658,&quot;^W&quot;,655,536871022]],[&quot;^17&quot;,[658,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[658,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[658,&quot;^;&quot;,&quot;~u62d35828-5721-4973-8caa-b318a01d2e8e&quot;,536871022]],[&quot;^17&quot;,[659,&quot;^R&quot;,&quot;&quot;,536871022]],[&quot;^17&quot;,[659,&quot;^P&quot;,&quot;^19&quot;,536871022]],[&quot;^17&quot;,[659,&quot;^F&quot;,658,536871022]],[&quot;^17&quot;,[659,&quot;^Z&quot;,653,536871022]],[&quot;^17&quot;,[659,&quot;^W&quot;,655,536871022]],[&quot;^17&quot;,[659,&quot;^V&quot;,653,536871022]],[&quot;^17&quot;,[659,&quot;^1@&quot;,true,536871022]],[&quot;^17&quot;,[659,&quot;^;&quot;,&quot;~u62d35828-d48d-4de7-baf1-dc50e7c94923&quot;,536871022]],[&quot;^17&quot;,[746,&quot;^L&quot;,1657532397393,536871263]],[&quot;^17&quot;,[746,&quot;^@&quot;,false,536871026]],[&quot;^17&quot;,[746,&quot;^[&quot;,&quot;tuple layout&quot;,536871026]],[&quot;^17&quot;,[746,&quot;^13&quot;,&quot;Tuple Layout&quot;,536871026]],[&quot;^17&quot;,[746,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896743]],[&quot;^17&quot;,[746,&quot;^B&quot;,1657532917306,536871263]],[&quot;^17&quot;,[746,&quot;^;&quot;,&quot;~u62d3582c-1be2-436b-9d1c-182dad11ec80&quot;,536871230]],[&quot;^17&quot;,[747,&quot;^L&quot;,1657532003276,536871263]],[&quot;^17&quot;,[747,&quot;^@&quot;,false,536871026]],[&quot;^17&quot;,[747,&quot;^[&quot;,&quot;file storage&quot;,536871026]],[&quot;^17&quot;,[747,&quot;^13&quot;,&quot;File Storage&quot;,536871026]],[&quot;^17&quot;,[747,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896726]],[&quot;^17&quot;,[747,&quot;^B&quot;,1657615653383,536871263]],[&quot;^17&quot;,[747,&quot;^;&quot;,&quot;~u62d3582c-904c-4e9d-925e-1a266bc5dcdb&quot;,536871230]],[&quot;^17&quot;,[748,&quot;^L&quot;,1657532312642,536871263]],[&quot;^17&quot;,[748,&quot;^@&quot;,false,536871026]],[&quot;^17&quot;,[748,&quot;^[&quot;,&quot;page layout&quot;,536871026]],[&quot;^17&quot;,[748,&quot;^13&quot;,&quot;Page Layout&quot;,536871026]],[&quot;^17&quot;,[748,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896738]],[&quot;^17&quot;,[748,&quot;^B&quot;,1657532867711,536896731]],[&quot;^17&quot;,[748,&quot;^;&quot;,&quot;~u62d3582c-e502-4bc7-b01f-b491d0191f0f&quot;,536871230]],[&quot;^17&quot;,[749,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[749,&quot;^@&quot;,false,536871026]],[&quot;^17&quot;,[749,&quot;^[&quot;,&quot;system catalogs&quot;,536871026]],[&quot;^17&quot;,[749,&quot;^13&quot;,&quot;System Catalogs&quot;,536871026]],[&quot;^17&quot;,[749,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896753]],[&quot;^17&quot;,[749,&quot;^B&quot;,1657955666079,536871263]],[&quot;^17&quot;,[749,&quot;^;&quot;,&quot;~u62d3582c-4034-42c4-afd8-2da89b72a1f5&quot;,536871230]],[&quot;^17&quot;,[751,&quot;^L&quot;,1657955666074,536871263]],[&quot;^17&quot;,[751,&quot;^@&quot;,false,536871026]],[&quot;^17&quot;,[751,&quot;^[&quot;,&quot;storage models&quot;,536871026]],[&quot;^17&quot;,[751,&quot;^13&quot;,&quot;Storage Models&quot;,536871026]],[&quot;^17&quot;,[751,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896758]],[&quot;^17&quot;,[751,&quot;^B&quot;,1657955666074,536871263]],[&quot;^17&quot;,[751,&quot;^;&quot;,&quot;~u62d3582c-1f41-47cb-80b7-d7d148692970&quot;,536871230]],[&quot;^17&quot;,[752,&quot;^R&quot;,&quot;将 dirty pages 按正确地顺序写到磁盘&quot;,536871026]],[&quot;^17&quot;,[752,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[752,&quot;^F&quot;,766,536871026]],[&quot;^17&quot;,[752,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[752,&quot;^W&quot;,766,536871026]],[&quot;^17&quot;,[752,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[752,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[752,&quot;^;&quot;,&quot;~u62d35828-9d75-46d2-824b-4935833ddb2a&quot;,536871026]],[&quot;^17&quot;,[753,&quot;^R&quot;,&quot;[[OLAP]] [[OLTP]]&quot;,536871026]],[&quot;^17&quot;,[753,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[753,&quot;^F&quot;,767,536871026]],[&quot;^17&quot;,[753,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[753,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[753,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[753,&quot;^V&quot;,498,536871026]],[&quot;^17&quot;,[753,&quot;^V&quot;,499,536871026]],[&quot;^17&quot;,[753,&quot;^H&quot;,498,536871026]],[&quot;^17&quot;,[753,&quot;^H&quot;,499,536871026]],[&quot;^17&quot;,[753,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[753,&quot;^;&quot;,&quot;~u62d35828-7e14-4f9b-ba5c-4565201f6b4e&quot;,536871026]],[&quot;^17&quot;,[754,&quot;^R&quot;,&quot;## 为什么不使用 OS 自带的磁盘管理模块&quot;,536871026]],[&quot;^17&quot;,[754,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[754,&quot;^X&quot;,2,536871026]],[&quot;^17&quot;,[754,&quot;^F&quot;,770,536871026]],[&quot;^17&quot;,[754,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[754,&quot;^W&quot;,774,536871026]],[&quot;^17&quot;,[754,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[754,&quot;^1&gt;&quot;,2,536871026]],[&quot;^17&quot;,[754,&quot;^Y&quot;,&quot;^1?&quot;,536871026]],[&quot;^17&quot;,[754,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[754,&quot;^;&quot;,&quot;~u62d35828-4ed2-49be-bd7d-cad186f00d09&quot;,536871026]],[&quot;^17&quot;,[755,&quot;^R&quot;,&quot;根据具体情况预获取数据&quot;,536871026]],[&quot;^17&quot;,[755,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[755,&quot;^F&quot;,752,536871026]],[&quot;^17&quot;,[755,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[755,&quot;^W&quot;,766,536871026]],[&quot;^17&quot;,[755,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[755,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[755,&quot;^;&quot;,&quot;~u62d35828-3370-4f63-b11e-425197d6be99&quot;,536871026]],[&quot;^17&quot;,[756,&quot;^R&quot;,&quot;为什么需要将数据在不同的存储器之间移动？&quot;,536871026]],[&quot;^17&quot;,[756,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[756,&quot;^F&quot;,771,536871026]],[&quot;^17&quot;,[756,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[756,&quot;^W&quot;,771,536871026]],[&quot;^17&quot;,[756,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[756,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[756,&quot;^;&quot;,&quot;~u62d35828-6d33-4394-9e2e-881c2c0b5a1a&quot;,536871026]],[&quot;^17&quot;,[757,&quot;^R&quot;,&quot;DBMS 的磁盘管理模块主要解决两个问题：&quot;,536871026]],[&quot;^17&quot;,[757,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[757,&quot;^F&quot;,758,536871026]],[&quot;^17&quot;,[757,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[757,&quot;^W&quot;,758,536871026]],[&quot;^17&quot;,[757,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[757,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[757,&quot;^;&quot;,&quot;~u62d35828-74d9-4e9f-adf3-af89ca9d3af1&quot;,536871026]],[&quot;^17&quot;,[758,&quot;^R&quot;,&quot;## 磁盘管理模块的核心问题&quot;,536871026]],[&quot;^17&quot;,[758,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[758,&quot;^X&quot;,2,536871026]],[&quot;^17&quot;,[758,&quot;^F&quot;,754,536871026]],[&quot;^17&quot;,[758,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[758,&quot;^W&quot;,774,536871026]],[&quot;^17&quot;,[758,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[758,&quot;^1&gt;&quot;,2,536871026]],[&quot;^17&quot;,[758,&quot;^Y&quot;,&quot;^1?&quot;,536871026]],[&quot;^17&quot;,[758,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[758,&quot;^;&quot;,&quot;~u62d35828-bce9-4690-8ee6-4d7b17189bad&quot;,536871026]],[&quot;^17&quot;,[759,&quot;^R&quot;,&quot;定制化缓存置换（buffer replacement）策略&quot;,536871026]],[&quot;^17&quot;,[759,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[759,&quot;^F&quot;,755,536871026]],[&quot;^17&quot;,[759,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[759,&quot;^W&quot;,766,536871026]],[&quot;^17&quot;,[759,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[759,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[759,&quot;^;&quot;,&quot;~u62d35828-bfad-4f34-9c51-f1282fba4012&quot;,536871026]],[&quot;^17&quot;,[760,&quot;^R&quot;,&quot;# Agenda&quot;,536871026]],[&quot;^17&quot;,[760,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[760,&quot;^X&quot;,1,536871026]],[&quot;^17&quot;,[760,&quot;^F&quot;,774,536871026]],[&quot;^17&quot;,[760,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[760,&quot;^W&quot;,262,536871026]],[&quot;^17&quot;,[760,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[760,&quot;^1&gt;&quot;,1,536871026]],[&quot;^17&quot;,[760,&quot;^Y&quot;,&quot;^1?&quot;,536871026]],[&quot;^17&quot;,[760,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[760,&quot;^;&quot;,&quot;~u62d35828-9b99-4452-9d90-38c271010098&quot;,536871026]],[&quot;^17&quot;,[761,&quot;^R&quot;,&quot;[[System Catalogs]]&quot;,536871026]],[&quot;^17&quot;,[761,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[761,&quot;^F&quot;,772,536871026]],[&quot;^17&quot;,[761,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[761,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[761,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[761,&quot;^V&quot;,749,536871026]],[&quot;^17&quot;,[761,&quot;^H&quot;,749,536871026]],[&quot;^17&quot;,[761,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[761,&quot;^;&quot;,&quot;~u62d35828-5e28-4379-8c91-b6c4bd90f23c&quot;,536871026]],[&quot;^17&quot;,[762,&quot;^R&quot;,&quot;（本节）如何使用磁盘文件来表示数据库的数据（元数据、索引、数据表等）&quot;,536871026]],[&quot;^17&quot;,[762,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[762,&quot;^F&quot;,757,536871026]],[&quot;^17&quot;,[762,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[762,&quot;^W&quot;,757,536871026]],[&quot;^17&quot;,[762,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[762,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[762,&quot;^;&quot;,&quot;~u62d35828-b46a-4fd8-904e-5371eaf4f7a8&quot;,536871026]],[&quot;^17&quot;,[763,&quot;^R&quot;,&quot;&quot;,536871026]],[&quot;^17&quot;,[763,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[763,&quot;^F&quot;,760,536871026]],[&quot;^17&quot;,[763,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[763,&quot;^W&quot;,262,536871026]],[&quot;^17&quot;,[763,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[763,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[763,&quot;^;&quot;,&quot;~u62d35828-eca8-4a77-b0e5-ddc1c1c0f9bb&quot;,536871026]],[&quot;^17&quot;,[764,&quot;^R&quot;,&quot;如何管理数据在内存与磁盘之间的移动&quot;,536871026]],[&quot;^17&quot;,[764,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[764,&quot;^F&quot;,762,536871026]],[&quot;^17&quot;,[764,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[764,&quot;^W&quot;,757,536871026]],[&quot;^17&quot;,[764,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[764,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[764,&quot;^;&quot;,&quot;~u62d35828-d1b1-45b5-ae03-c9a35f2dd755&quot;,536871026]],[&quot;^17&quot;,[765,&quot;^R&quot;,&quot;[[Page Layout]]&quot;,536871026]],[&quot;^17&quot;,[765,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[765,&quot;^F&quot;,775,536871026]],[&quot;^17&quot;,[765,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[765,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[765,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[765,&quot;^V&quot;,748,536871026]],[&quot;^17&quot;,[765,&quot;^H&quot;,748,536871026]],[&quot;^17&quot;,[765,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[765,&quot;^;&quot;,&quot;~u62d35828-682e-4e2f-b199-3101c24da92c&quot;,536871026]],[&quot;^17&quot;,[766,&quot;^R&quot;,&quot;OS 为开发者提供了如 mmap 这样的系统调用，使开发者能够依赖 OS 自动管理数据在内外存之间的移动，那么 DBMS 为什么要重复造这样的轮子？主要原因在于，OS 的磁盘管理模块并没有、也不可能会有 DBMS 中的领域知识，因此 DBMS 比 OS 拥有更多、更充分的知识来决定数据移动的时机和数量，具体包括：&quot;,536871026]],[&quot;^17&quot;,[766,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[766,&quot;^F&quot;,754,536871026]],[&quot;^17&quot;,[766,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[766,&quot;^W&quot;,754,536871026]],[&quot;^17&quot;,[766,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[766,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[766,&quot;^;&quot;,&quot;~u62d35828-68a9-4e08-8cf6-0ea9ee7030a0&quot;,536871026]],[&quot;^17&quot;,[767,&quot;^R&quot;,&quot;[[Storage Models]]&quot;,536871026]],[&quot;^17&quot;,[767,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[767,&quot;^F&quot;,761,536871026]],[&quot;^17&quot;,[767,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[767,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[767,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[767,&quot;^V&quot;,751,536871026]],[&quot;^17&quot;,[767,&quot;^H&quot;,751,536871026]],[&quot;^17&quot;,[767,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[767,&quot;^;&quot;,&quot;~u62d35828-c5e0-4408-9a89-5ebfee3436a4&quot;,536871026]],[&quot;^17&quot;,[768,&quot;^R&quot;,&quot;&quot;,536871026]],[&quot;^17&quot;,[768,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[768,&quot;^F&quot;,753,536871026]],[&quot;^17&quot;,[768,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[768,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[768,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[768,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[768,&quot;^;&quot;,&quot;~u62d35828-62eb-45b9-a7a3-224c2d21cf54&quot;,536871026]],[&quot;^17&quot;,[769,&quot;^R&quot;,&quot;{{embed ((6290e044-172b-4915-8d0d-20fbc6c51754))}}&quot;,536871026]],[&quot;^17&quot;,[769,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[769,&quot;^F&quot;,4486,536896721]],[&quot;^17&quot;,[769,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[769,&quot;^W&quot;,262,536871026]],[&quot;^17&quot;,[769,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[769,&quot;^V&quot;,750,536871026]],[&quot;^17&quot;,[769,&quot;^H&quot;,568,536871026]],[&quot;^17&quot;,[769,&quot;^H&quot;,750,536871026]],[&quot;^17&quot;,[769,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[769,&quot;^;&quot;,&quot;~u62d35828-a53d-427f-82b1-dfeed7508d01&quot;,536871026]],[&quot;^17&quot;,[770,&quot;^R&quot;,&quot;## 计算机存储体系&quot;,536871026]],[&quot;^17&quot;,[770,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[770,&quot;^X&quot;,2,536871026]],[&quot;^17&quot;,[770,&quot;^F&quot;,771,536871026]],[&quot;^17&quot;,[770,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[770,&quot;^W&quot;,774,536871026]],[&quot;^17&quot;,[770,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[770,&quot;^1&gt;&quot;,2,536871026]],[&quot;^17&quot;,[770,&quot;^Y&quot;,&quot;^1?&quot;,536871026]],[&quot;^17&quot;,[770,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[770,&quot;^;&quot;,&quot;~u62d35828-78b6-43d1-8374-56c300dde290&quot;,536871026]],[&quot;^17&quot;,[771,&quot;^R&quot;,&quot;传统的 DBMS 架构都属于 **disk-oriented architecture**，即假设数据主要存储在非易失的磁盘（non-volatile disk）上。于是 DBMS 中一般都有磁盘管理模块（disk manager），它主要负责数据在非易失与易失（volatile）的存储器之间的移动。\\n这里需要理解两点：&quot;,536871026]],[&quot;^17&quot;,[771,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[771,&quot;^F&quot;,774,536871026]],[&quot;^17&quot;,[771,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[771,&quot;^W&quot;,774,536871026]],[&quot;^17&quot;,[771,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[771,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[771,&quot;^;&quot;,&quot;~u62d35828-1bba-4428-9a9f-e067e416cab5&quot;,536871026]],[&quot;^17&quot;,[772,&quot;^R&quot;,&quot;[[Data Representation]] Tuple Storage&quot;,536871026]],[&quot;^17&quot;,[772,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[772,&quot;^F&quot;,773,536871026]],[&quot;^17&quot;,[772,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[772,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[772,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[772,&quot;^V&quot;,653,536871026]],[&quot;^17&quot;,[772,&quot;^H&quot;,653,536871026]],[&quot;^17&quot;,[772,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[772,&quot;^;&quot;,&quot;~u62d35828-552b-48d9-ae6c-d60df71b2b7a&quot;,536871026]],[&quot;^17&quot;,[773,&quot;^R&quot;,&quot;[[Tuple Layout]]&quot;,536871026]],[&quot;^17&quot;,[773,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[773,&quot;^F&quot;,765,536871026]],[&quot;^17&quot;,[773,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[773,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[773,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[773,&quot;^V&quot;,746,536871026]],[&quot;^17&quot;,[773,&quot;^H&quot;,746,536871026]],[&quot;^17&quot;,[773,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[773,&quot;^;&quot;,&quot;~u62d35828-81c9-4e41-8827-e592ee6540db&quot;,536871026]],[&quot;^17&quot;,[774,&quot;^R&quot;,&quot;# 简介&quot;,536871026]],[&quot;^17&quot;,[774,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[774,&quot;^X&quot;,1,536871026]],[&quot;^17&quot;,[774,&quot;^F&quot;,769,536871026]],[&quot;^17&quot;,[774,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[774,&quot;^W&quot;,262,536871026]],[&quot;^17&quot;,[774,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[774,&quot;^1&gt;&quot;,1,536871026]],[&quot;^17&quot;,[774,&quot;^Y&quot;,&quot;^1?&quot;,536871026]],[&quot;^17&quot;,[774,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[774,&quot;^;&quot;,&quot;~u62d35828-0624-4566-b178-91b10cb801e9&quot;,536871026]],[&quot;^17&quot;,[775,&quot;^R&quot;,&quot;[[File Storage]]&quot;,536871026]],[&quot;^17&quot;,[775,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[775,&quot;^F&quot;,760,536871026]],[&quot;^17&quot;,[775,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[775,&quot;^W&quot;,760,536871026]],[&quot;^17&quot;,[775,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[775,&quot;^V&quot;,747,536871026]],[&quot;^17&quot;,[775,&quot;^H&quot;,747,536871026]],[&quot;^17&quot;,[775,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[775,&quot;^;&quot;,&quot;~u62d35828-7472-4bc3-95e3-549de947acbd&quot;,536871026]],[&quot;^17&quot;,[776,&quot;^R&quot;,&quot;为什么要自己来做数据移动的管理，而非利用 OS 自带的磁盘管理模块？&quot;,536871026]],[&quot;^17&quot;,[776,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[776,&quot;^F&quot;,756,536871026]],[&quot;^17&quot;,[776,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[776,&quot;^W&quot;,771,536871026]],[&quot;^17&quot;,[776,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[776,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[776,&quot;^;&quot;,&quot;~u62d35828-cf19-49f3-9721-b3e43941d543&quot;,536871026]],[&quot;^17&quot;,[777,&quot;^R&quot;,&quot;![image.png](../assets/image_1657529607641_0.png)\\n磁盘管理模块的存在就是为了**同时获得易失性存储器的性能和非易失性存储器的容量，让 DBMS 的数据看起来像在内存中一样。**&quot;,536871026]],[&quot;^17&quot;,[777,&quot;^P&quot;,&quot;^19&quot;,536871026]],[&quot;^17&quot;,[777,&quot;^F&quot;,770,536871026]],[&quot;^17&quot;,[777,&quot;^Z&quot;,262,536871026]],[&quot;^17&quot;,[777,&quot;^W&quot;,770,536871026]],[&quot;^17&quot;,[777,&quot;^V&quot;,262,536871026]],[&quot;^17&quot;,[777,&quot;^1@&quot;,true,536871026]],[&quot;^17&quot;,[777,&quot;^;&quot;,&quot;~u62d35828-10c3-4d5d-9bae-41aa0c11f4dc&quot;,536871026]],[&quot;^17&quot;,[779,&quot;^L&quot;,1657955666077,536871263]],[&quot;^17&quot;,[779,&quot;^@&quot;,false,536871028]],[&quot;^17&quot;,[779,&quot;^[&quot;,&quot;deadlock detection &amp; prevention&quot;,536871028]],[&quot;^17&quot;,[779,&quot;^13&quot;,&quot;Deadlock Detection &amp; Prevention&quot;,536871028]],[&quot;^17&quot;,[779,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896856]],[&quot;^17&quot;,[779,&quot;^B&quot;,1657955666077,536871263]],[&quot;^17&quot;,[779,&quot;^;&quot;,&quot;~u62d3582c-7aa3-4c7f-bfeb-a13383a7550a&quot;,536871230]],[&quot;^17&quot;,[780,&quot;^R&quot;,&quot;2PL 无法避免的一个问题是死锁\\n![image.png](../assets/image_1657265073637_0.png)&quot;,536871028]],[&quot;^17&quot;,[780,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[780,&quot;^F&quot;,4510,536896856]],[&quot;^17&quot;,[780,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[780,&quot;^W&quot;,779,536871028]],[&quot;^17&quot;,[780,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[780,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[780,&quot;^;&quot;,&quot;~u62d35828-6010-4e7f-a2f0-4ae231d201b5&quot;,536871028]],[&quot;^17&quot;,[781,&quot;^R&quot;,&quot;死锁检测是一种事后行为。为了检测死锁，DBMS会维护一张 waits-for graph, 来追踪每个事务正在等待（释放锁）的其他事务。系统定期检查 waits-for graph, 检测是否有环，如果成环就决定打破这个环\\n![image.png](../assets/image_1657265327714_0.png)&quot;,536871028]],[&quot;^17&quot;,[781,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[781,&quot;^F&quot;,787,536871028]],[&quot;^17&quot;,[781,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[781,&quot;^W&quot;,787,536871028]],[&quot;^17&quot;,[781,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[781,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[781,&quot;^;&quot;,&quot;~u62d35828-b407-4d5a-b70d-d1dfbd3412d5&quot;,536871028]],[&quot;^17&quot;,[782,&quot;^R&quot;,&quot;## Deadlock Prevention&quot;,536871028]],[&quot;^17&quot;,[782,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[782,&quot;^X&quot;,2,536871028]],[&quot;^17&quot;,[782,&quot;^F&quot;,787,536871028]],[&quot;^17&quot;,[782,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[782,&quot;^W&quot;,779,536871028]],[&quot;^17&quot;,[782,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[782,&quot;^1&gt;&quot;,2,536871028]],[&quot;^17&quot;,[782,&quot;^Y&quot;,&quot;^1?&quot;,536871028]],[&quot;^17&quot;,[782,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[782,&quot;^;&quot;,&quot;~u62d35828-9de5-4a4e-9350-0569718d869f&quot;,536871028]],[&quot;^17&quot;,[783,&quot;^R&quot;,&quot;无论是 Old Waits for Young 还是 Young Waits for Old，只要保证 prevention 的方向是一致的，就能阻止死锁发生，其原理类似哲学家就餐设定顺序的解决方案：先给哲学家排个序，遇到获取刀叉冲突时，顺序高的优先。&quot;,536871028]],[&quot;^17&quot;,[783,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[783,&quot;^F&quot;,785,536871028]],[&quot;^17&quot;,[783,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[783,&quot;^W&quot;,782,536871028]],[&quot;^17&quot;,[783,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[783,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[783,&quot;^;&quot;,&quot;~u62d35828-3a3c-422b-a531-79168a00f329&quot;,536871028]],[&quot;^17&quot;,[784,&quot;^R&quot;,&quot;检测死锁的频率越高，陷入死锁的事务等待的时间越短，但消耗的 cpu 也就越多。所以这是个典型的 trade-off，通常有一个调优的参数供用户配置。\\n选择 \\&quot;受害者\\&quot; 的指标可能有很多：事务持续时间、事务的进度、事务锁住的数据数量、级联事务的数量、事务曾经重启的次数等等。在选择完 \\&quot;受害者\\&quot; 后，DBMS 还有一个设计决定需要做：完全回滚还是回滚到足够消除环形依赖即可。&quot;,536871028]],[&quot;^17&quot;,[784,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[784,&quot;^F&quot;,791,536871028]],[&quot;^17&quot;,[784,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[784,&quot;^W&quot;,786,536871028]],[&quot;^17&quot;,[784,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[784,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[784,&quot;^;&quot;,&quot;~u62d35828-00aa-464e-bcc3-bb6f43505a4b&quot;,536871028]],[&quot;^17&quot;,[785,&quot;^R&quot;,&quot;![image.png](../assets/image_1657265649494_0.png)&quot;,536871028]],[&quot;^17&quot;,[785,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[785,&quot;^F&quot;,790,536871028]],[&quot;^17&quot;,[785,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[785,&quot;^W&quot;,782,536871028]],[&quot;^17&quot;,[785,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[785,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[785,&quot;^;&quot;,&quot;~u62d35828-b76c-4981-aa53-788cce5e505c&quot;,536871028]],[&quot;^17&quot;,[786,&quot;^R&quot;,&quot;Deadlock Handling\\n当DBMS检测到死锁时，它会选择一个受害者，将其回滚，打破唤醒依赖。而这个 \\&quot;受害者\\&quot; 将依靠配置或者应用层逻辑重试或中止。这里有两个设计决定&quot;,536871028]],[&quot;^17&quot;,[786,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[786,&quot;^F&quot;,781,536871028]],[&quot;^17&quot;,[786,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[786,&quot;^W&quot;,787,536871028]],[&quot;^17&quot;,[786,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[786,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[786,&quot;^;&quot;,&quot;~u62d35828-c89a-4d69-a8d8-7f9ca1c5565d&quot;,536871028]],[&quot;^17&quot;,[787,&quot;^R&quot;,&quot;## Deadlock Detection&quot;,536871028]],[&quot;^17&quot;,[787,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[787,&quot;^X&quot;,2,536871028]],[&quot;^17&quot;,[787,&quot;^F&quot;,780,536871028]],[&quot;^17&quot;,[787,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[787,&quot;^W&quot;,779,536871028]],[&quot;^17&quot;,[787,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[787,&quot;^1&gt;&quot;,2,536871028]],[&quot;^17&quot;,[787,&quot;^Y&quot;,&quot;^1?&quot;,536871028]],[&quot;^17&quot;,[787,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[787,&quot;^;&quot;,&quot;~u62d35828-cf57-4c61-82df-520b3e97393a&quot;,536871028]],[&quot;^17&quot;,[788,&quot;^R&quot;,&quot;## Hierarchical Locking&quot;,536871028]],[&quot;^17&quot;,[788,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[788,&quot;^X&quot;,2,536871028]],[&quot;^17&quot;,[788,&quot;^F&quot;,782,536871028]],[&quot;^17&quot;,[788,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[788,&quot;^W&quot;,779,536871028]],[&quot;^17&quot;,[788,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[788,&quot;^1&gt;&quot;,2,536871028]],[&quot;^17&quot;,[788,&quot;^Y&quot;,&quot;^1?&quot;,536871028]],[&quot;^17&quot;,[788,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[788,&quot;^;&quot;,&quot;~u62d35828-1d5a-457e-ae8a-9086d72d15f5&quot;,536871028]],[&quot;^17&quot;,[789,&quot;^R&quot;,&quot;死锁避免时一种事前行为，采用方案的不需要 wait-for-graph, 也不需要实现 detection算法，而是在事务尝试获取其他事务持有的锁时，直接决定将一个事务中止&quot;,536871028]],[&quot;^17&quot;,[789,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[789,&quot;^F&quot;,782,536871028]],[&quot;^17&quot;,[789,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[789,&quot;^W&quot;,782,536871028]],[&quot;^17&quot;,[789,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[789,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[789,&quot;^;&quot;,&quot;~u62d35828-c0de-47ab-8011-4f2930445a7a&quot;,536871028]],[&quot;^17&quot;,[790,&quot;^R&quot;,&quot;**Old Waits for Young**：如果 requesting txn 优先级比 holding txn 更高则等待后者释放锁；更低则自行中止\\n**Young Waits for Old**：如果 requesting txn 优先级比 holding txn 更高则后者自行中止释放锁，让前者获取锁，否则 requesting txn 等待 holding txn 释放锁&quot;,536871028]],[&quot;^17&quot;,[790,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[790,&quot;^F&quot;,789,536871028]],[&quot;^17&quot;,[790,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[790,&quot;^W&quot;,782,536871028]],[&quot;^17&quot;,[790,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[790,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[790,&quot;^;&quot;,&quot;~u62d35828-ed4b-4517-8d4e-000163acdd23&quot;,536871028]],[&quot;^17&quot;,[791,&quot;^R&quot;,&quot;1. 检测死锁的频率\\n2. 如何选择合适的受害者&quot;,536871028]],[&quot;^17&quot;,[791,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[791,&quot;^F&quot;,786,536871028]],[&quot;^17&quot;,[791,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[791,&quot;^W&quot;,786,536871028]],[&quot;^17&quot;,[791,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[791,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[791,&quot;^;&quot;,&quot;~u62d35828-f098-412e-94c3-c66bea9b8f1b&quot;,536871028]],[&quot;^17&quot;,[792,&quot;^R&quot;,&quot;上面的例子中所有的锁都是针对单条数据 (database object)，如果一个事务需要更新十亿条数据，那么 lock manager 中的 lock table 就要撑爆了。因此需要有一些手段能够将锁组织成树状/层级结构，减少一个事务运行过程中需要记录的锁的数量。&quot;,536871028]],[&quot;^17&quot;,[792,&quot;^P&quot;,&quot;^19&quot;,536871028]],[&quot;^17&quot;,[792,&quot;^F&quot;,788,536871028]],[&quot;^17&quot;,[792,&quot;^Z&quot;,779,536871028]],[&quot;^17&quot;,[792,&quot;^W&quot;,788,536871028]],[&quot;^17&quot;,[792,&quot;^V&quot;,779,536871028]],[&quot;^17&quot;,[792,&quot;^1@&quot;,true,536871028]],[&quot;^17&quot;,[792,&quot;^;&quot;,&quot;~u62d35828-1473-41dd-b594-0a8378217319&quot;,536871028]],[&quot;^17&quot;,[797,&quot;^L&quot;,1657377651122,536871263]],[&quot;^17&quot;,[797,&quot;^@&quot;,false,536871032]],[&quot;^17&quot;,[797,&quot;^[&quot;,&quot;paxos&quot;,536871032]],[&quot;^17&quot;,[797,&quot;^13&quot;,&quot;Paxos&quot;,536871032]],[&quot;^17&quot;,[797,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896944]],[&quot;^17&quot;,[797,&quot;^B&quot;,1657378018330,536871263]],[&quot;^17&quot;,[797,&quot;^;&quot;,&quot;~u62d3582c-f96d-4bea-8baf-c1a273328aa7&quot;,536871230]],[&quot;^17&quot;,[800,&quot;^R&quot;,&quot;## Conclusion\\n所有针对 Distributed OLTP 数据库的讨论都是基于节点友好的假设，只有区块链数据库假设节点是有恶意的。处理恶意节点问题需要使用不同的事务提交协议。&quot;,536871032]],[&quot;^17&quot;,[800,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[800,&quot;^X&quot;,2,536871032]],[&quot;^17&quot;,[800,&quot;^F&quot;,802,536871032]],[&quot;^17&quot;,[800,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[800,&quot;^W&quot;,61,536871032]],[&quot;^17&quot;,[800,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[800,&quot;^1&gt;&quot;,2,536871032]],[&quot;^17&quot;,[800,&quot;^Y&quot;,&quot;^1?&quot;,536871032]],[&quot;^17&quot;,[800,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[800,&quot;^;&quot;,&quot;~u62d35828-845e-455b-b77d-6d06f0d762f1&quot;,536871032]],[&quot;^17&quot;,[801,&quot;^R&quot;,&quot;[[Paxos]]&quot;,536871032]],[&quot;^17&quot;,[801,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[801,&quot;^F&quot;,807,536871032]],[&quot;^17&quot;,[801,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[801,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[801,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[801,&quot;^V&quot;,797,536871032]],[&quot;^17&quot;,[801,&quot;^H&quot;,797,536871032]],[&quot;^17&quot;,[801,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[801,&quot;^;&quot;,&quot;~u62d35828-4c99-4c0b-a28a-1d34f95cff02&quot;,536871032]],[&quot;^17&quot;,[802,&quot;^R&quot;,&quot;# Agenda&quot;,536871032]],[&quot;^17&quot;,[802,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[802,&quot;^X&quot;,1,536871032]],[&quot;^17&quot;,[802,&quot;^F&quot;,810,536871032]],[&quot;^17&quot;,[802,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[802,&quot;^W&quot;,61,536871032]],[&quot;^17&quot;,[802,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[802,&quot;^1&gt;&quot;,1,536871032]],[&quot;^17&quot;,[802,&quot;^Y&quot;,&quot;^1?&quot;,536871032]],[&quot;^17&quot;,[802,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[802,&quot;^;&quot;,&quot;~u62d35828-b4b2-4f7a-a11a-062bf0b7b182&quot;,536871032]],[&quot;^17&quot;,[803,&quot;^R&quot;,&quot;Viewstamped Replication&quot;,536871032]],[&quot;^17&quot;,[803,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[803,&quot;^F&quot;,804,536871032]],[&quot;^17&quot;,[803,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[803,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[803,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[803,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[803,&quot;^;&quot;,&quot;~u62d35828-aa82-49ff-96c2-2694df9305f2&quot;,536871032]],[&quot;^17&quot;,[804,&quot;^R&quot;,&quot;ZAB (Apache Zookeeper)&quot;,536871032]],[&quot;^17&quot;,[804,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[804,&quot;^F&quot;,806,536871032]],[&quot;^17&quot;,[804,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[804,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[804,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[804,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[804,&quot;^;&quot;,&quot;~u62d35828-c115-4673-a416-e2397c293344&quot;,536871032]],[&quot;^17&quot;,[805,&quot;^R&quot;,&quot;**Atomic Commit Protocols**\\n常见的 Atomic Commit Protocols 包括：&quot;,536871032]],[&quot;^17&quot;,[805,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[805,&quot;^F&quot;,802,536871032]],[&quot;^17&quot;,[805,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[805,&quot;^W&quot;,802,536871032]],[&quot;^17&quot;,[805,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[805,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[805,&quot;^;&quot;,&quot;~u62d35828-7e57-4f04-ba44-27b2352a3aa8&quot;,536871032]],[&quot;^17&quot;,[806,&quot;^R&quot;,&quot;Raft&quot;,536871032]],[&quot;^17&quot;,[806,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[806,&quot;^F&quot;,801,536871032]],[&quot;^17&quot;,[806,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[806,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[806,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[806,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[806,&quot;^;&quot;,&quot;~u62d35828-f26c-4bd6-b295-1ed8875a28cb&quot;,536871032]],[&quot;^17&quot;,[807,&quot;^R&quot;,&quot;[[3PC]]&quot;,536871032]],[&quot;^17&quot;,[807,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[807,&quot;^F&quot;,809,536871032]],[&quot;^17&quot;,[807,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[807,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[807,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[807,&quot;^V&quot;,402,536871032]],[&quot;^17&quot;,[807,&quot;^H&quot;,402,536871032]],[&quot;^17&quot;,[807,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[807,&quot;^;&quot;,&quot;~u62d35828-b79c-4df8-91de-28616918ae54&quot;,536871032]],[&quot;^17&quot;,[808,&quot;^R&quot;,&quot;**[[Federated Databases]]**&quot;,536871032]],[&quot;^17&quot;,[808,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[808,&quot;^F&quot;,812,536871032]],[&quot;^17&quot;,[808,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[808,&quot;^W&quot;,802,536871032]],[&quot;^17&quot;,[808,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[808,&quot;^V&quot;,799,536871032]],[&quot;^17&quot;,[808,&quot;^H&quot;,799,536871032]],[&quot;^17&quot;,[808,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[808,&quot;^;&quot;,&quot;~u62d35828-a921-4767-baeb-196640954d88&quot;,536871032]],[&quot;^17&quot;,[809,&quot;^R&quot;,&quot;[[2PC]]&quot;,536871032]],[&quot;^17&quot;,[809,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[809,&quot;^F&quot;,805,536871032]],[&quot;^17&quot;,[809,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[809,&quot;^W&quot;,805,536871032]],[&quot;^17&quot;,[809,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[809,&quot;^V&quot;,401,536871032]],[&quot;^17&quot;,[809,&quot;^H&quot;,401,536871032]],[&quot;^17&quot;,[809,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[809,&quot;^;&quot;,&quot;~u62d35828-f28f-47de-8f1d-f6de47a661cc&quot;,536871032]],[&quot;^17&quot;,[810,&quot;^R&quot;,&quot;# Assumption\\n我们首先需要假设在分布式数据库中，所有节点都是好孩子，都受到严格的控制，不会耍坏心眼，让它提交就提交，让它回滚就回滚。如果我们不能信任其它节点，那我们将需要 Byzantine Fault Tolerant 协议来实现分布式事务。几乎所有的分布式数据库都符合我们的假设，除了区块链。&quot;,536871032]],[&quot;^17&quot;,[810,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[810,&quot;^X&quot;,1,536871032]],[&quot;^17&quot;,[810,&quot;^F&quot;,4524,536896934]],[&quot;^17&quot;,[810,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[810,&quot;^W&quot;,61,536871032]],[&quot;^17&quot;,[810,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[810,&quot;^1&gt;&quot;,1,536871032]],[&quot;^17&quot;,[810,&quot;^Y&quot;,&quot;^1?&quot;,536871032]],[&quot;^17&quot;,[810,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[810,&quot;^;&quot;,&quot;~u62d35828-a7f3-45b9-b8b9-2cc38499e0ff&quot;,536871032]],[&quot;^17&quot;,[811,&quot;^R&quot;,&quot;**[[Replication]]**&quot;,536871032]],[&quot;^17&quot;,[811,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[811,&quot;^F&quot;,805,536871032]],[&quot;^17&quot;,[811,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[811,&quot;^W&quot;,802,536871032]],[&quot;^17&quot;,[811,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[811,&quot;^V&quot;,798,536871032]],[&quot;^17&quot;,[811,&quot;^H&quot;,798,536871032]],[&quot;^17&quot;,[811,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[811,&quot;^;&quot;,&quot;~u62d35828-4a31-43df-b35a-4c92d1210e3d&quot;,536871032]],[&quot;^17&quot;,[812,&quot;^R&quot;,&quot;**Consistency Issues** ([[CAP]])&quot;,536871032]],[&quot;^17&quot;,[812,&quot;^P&quot;,&quot;^19&quot;,536871032]],[&quot;^17&quot;,[812,&quot;^F&quot;,811,536871032]],[&quot;^17&quot;,[812,&quot;^Z&quot;,61,536871032]],[&quot;^17&quot;,[812,&quot;^W&quot;,802,536871032]],[&quot;^17&quot;,[812,&quot;^V&quot;,61,536871032]],[&quot;^17&quot;,[812,&quot;^V&quot;,600,536871032]],[&quot;^17&quot;,[812,&quot;^H&quot;,600,536871032]],[&quot;^17&quot;,[812,&quot;^1@&quot;,true,536871032]],[&quot;^17&quot;,[812,&quot;^;&quot;,&quot;~u62d35828-7e23-4c76-8b50-a6f7dc283eca&quot;,536871032]],[&quot;^17&quot;,[819,&quot;^R&quot;,&quot;### Heap File Organization&quot;,536871036]],[&quot;^17&quot;,[819,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[819,&quot;^X&quot;,3,536871036]],[&quot;^17&quot;,[819,&quot;^F&quot;,832,536871036]],[&quot;^17&quot;,[819,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[819,&quot;^W&quot;,747,536871036]],[&quot;^17&quot;,[819,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[819,&quot;^1&gt;&quot;,3,536871036]],[&quot;^17&quot;,[819,&quot;^Y&quot;,&quot;^1?&quot;,536871036]],[&quot;^17&quot;,[819,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[819,&quot;^;&quot;,&quot;~u62d35828-a956-40d0-a52a-b8039dac570c&quot;,536871036]],[&quot;^17&quot;,[820,&quot;^R&quot;,&quot;These files are implemented using Page Directories and enforce an ordering upon data pages based on how records are sorted. Searching through sorted files takes logN I/Os where N = # of pages since binary search can be used to find the page containing the record. Meanwhile, insertion, in the average case, takes $logN + N$ I/Os since binary search is needed to find the page to write to and that inserted record could potentially cause all later records to be pushed back by one. On average, $N / 2$ pages will need to be pushed back, and this involves a read and a write IO for each of those pages, which results in the $N$ I/Os term.&quot;,536871036]],[&quot;^17&quot;,[820,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[820,&quot;^F&quot;,841,536871036]],[&quot;^17&quot;,[820,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[820,&quot;^W&quot;,840,536871036]],[&quot;^17&quot;,[820,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[820,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[820,&quot;^;&quot;,&quot;~u62d35828-fdb4-4d08-beac-c1d84f6496b3&quot;,536871036]],[&quot;^17&quot;,[821,&quot;^R&quot;,&quot;**Page Directory**\\npages 管理模块维护着一些特殊的 pages（directory pages），它们负责记录 data pages 的使用情况，DBMS 需要保证 directory pages 与 data pages 同步。\\n![image.png](../assets/image_1657709798609_0.png)&quot;,536871036]],[&quot;^17&quot;,[821,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[821,&quot;^F&quot;,825,536871036]],[&quot;^17&quot;,[821,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[821,&quot;^W&quot;,819,536871036]],[&quot;^17&quot;,[821,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[821,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[821,&quot;^;&quot;,&quot;~u62d35828-00b2-4315-aee2-2a0ed756d797&quot;,536871036]],[&quot;^17&quot;,[822,&quot;^R&quot;,&quot;综合考虑，这不值得&quot;,536871036]],[&quot;^17&quot;,[822,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[822,&quot;^F&quot;,827,536871036]],[&quot;^17&quot;,[822,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[822,&quot;^W&quot;,747,536871036]],[&quot;^17&quot;,[822,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[822,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[822,&quot;^;&quot;,&quot;~u62d35828-4c0b-41db-a50b-ffd5dfb9b6d6&quot;,536871036]],[&quot;^17&quot;,[823,&quot;^R&quot;,&quot;OS 的文件系统通常将文件切分成 pages 进行管理，DBMS 也不例外。通常 page 是固定大小的一块数据，每个 page 内部可能存储着 tuples、meta-data、indexes 以及 logs 等等，大多数 DBMS 不会把不同类型数据存储在同一个 page 上。**每个 page 带着一个唯一的 id**，DBMS 使用一个 indirection layer 将 page id 与数据实际存储的物理位置关联起来。\\n注意：有几个不同的 page 概念需要分清楚&quot;,536871036]],[&quot;^17&quot;,[823,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[823,&quot;^F&quot;,832,536871036]],[&quot;^17&quot;,[823,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[823,&quot;^W&quot;,832,536871036]],[&quot;^17&quot;,[823,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[823,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[823,&quot;^;&quot;,&quot;~u62d35828-9c80-4d8d-9b5f-9015bfc69331&quot;,536871036]],[&quot;^17&quot;,[824,&quot;^R&quot;,&quot;不同 DBMS 管理 pages 的方式不同，主要分为以下几种：&quot;,536871036]],[&quot;^17&quot;,[824,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[824,&quot;^F&quot;,823,536871036]],[&quot;^17&quot;,[824,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[824,&quot;^W&quot;,832,536871036]],[&quot;^17&quot;,[824,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[824,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[824,&quot;^;&quot;,&quot;~u62d35828-a45d-436b-bb4a-b1597cd4a9f1&quot;,536871036]],[&quot;^17&quot;,[825,&quot;^R&quot;,&quot;**Linked List**&quot;,536871036]],[&quot;^17&quot;,[825,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[825,&quot;^F&quot;,838,536871036]],[&quot;^17&quot;,[825,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[825,&quot;^W&quot;,819,536871036]],[&quot;^17&quot;,[825,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[825,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[825,&quot;^;&quot;,&quot;~u62d35828-2015-449b-a3bb-271b880319c8&quot;,536871036]],[&quot;^17&quot;,[826,&quot;^R&quot;,&quot;OS Page: 通常大小为 4KB&quot;,536871036]],[&quot;^17&quot;,[826,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[826,&quot;^F&quot;,837,536871036]],[&quot;^17&quot;,[826,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[826,&quot;^W&quot;,823,536871036]],[&quot;^17&quot;,[826,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[826,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[826,&quot;^;&quot;,&quot;~u62d35828-d057-4467-ab0c-103489b61473&quot;,536871036]],[&quot;^17&quot;,[827,&quot;^R&quot;,&quot;DBMS 通常将自己的所有数据作为一个或多个文件存储在磁盘中，而 OS 只当它们是普通文件，并不知道如何解读这些文件。虽然 DBMS 自己造了磁盘管理模块，但 DBMS 一般不会自己造文件系统，主要原因如下：&quot;,536871036]],[&quot;^17&quot;,[827,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[827,&quot;^F&quot;,4487,536896726]],[&quot;^17&quot;,[827,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[827,&quot;^W&quot;,747,536871036]],[&quot;^17&quot;,[827,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[827,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[827,&quot;^;&quot;,&quot;~u62d35828-34dd-4f31-be23-301e5870dbe6&quot;,536871036]],[&quot;^17&quot;,[828,&quot;^R&quot;,&quot;Database Page：(1-16KB)&quot;,536871036]],[&quot;^17&quot;,[828,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[828,&quot;^F&quot;,826,536871036]],[&quot;^17&quot;,[828,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[828,&quot;^W&quot;,823,536871036]],[&quot;^17&quot;,[828,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[828,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[828,&quot;^;&quot;,&quot;~u62d35828-589a-41f6-936d-2bb4208ce013&quot;,536871036]],[&quot;^17&quot;,[829,&quot;^R&quot;,&quot;![image.png](../assets/image_1657532261178_0.png)&quot;,536871036]],[&quot;^17&quot;,[829,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[829,&quot;^F&quot;,825,536871036]],[&quot;^17&quot;,[829,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[829,&quot;^W&quot;,825,536871036]],[&quot;^17&quot;,[829,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[829,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[829,&quot;^;&quot;,&quot;~u62d35828-ce1d-48e3-aff1-6179583215f8&quot;,536871036]],[&quot;^17&quot;,[830,&quot;^R&quot;,&quot;通过 DIY 文件系统获得的性能提升在 10% - 15% 之间&quot;,536871036]],[&quot;^17&quot;,[830,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[830,&quot;^F&quot;,827,536871036]],[&quot;^17&quot;,[830,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[830,&quot;^W&quot;,827,536871036]],[&quot;^17&quot;,[830,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[830,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[830,&quot;^;&quot;,&quot;~u62d35828-0fb8-4a9c-99ec-b15b5e25e7fe&quot;,536871036]],[&quot;^17&quot;,[831,&quot;^R&quot;,&quot;使用 DIY 文件系统将使得 DBMS 的可移植性大大下降&quot;,536871036]],[&quot;^17&quot;,[831,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[831,&quot;^F&quot;,830,536871036]],[&quot;^17&quot;,[831,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[831,&quot;^W&quot;,827,536871036]],[&quot;^17&quot;,[831,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[831,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[831,&quot;^;&quot;,&quot;~u62d35828-4a8b-4db1-9858-ca42679c5369&quot;,536871036]],[&quot;^17&quot;,[832,&quot;^R&quot;,&quot;## Database Pages&quot;,536871036]],[&quot;^17&quot;,[832,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[832,&quot;^X&quot;,2,536871036]],[&quot;^17&quot;,[832,&quot;^F&quot;,822,536871036]],[&quot;^17&quot;,[832,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[832,&quot;^W&quot;,747,536871036]],[&quot;^17&quot;,[832,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[832,&quot;^1&gt;&quot;,2,536871036]],[&quot;^17&quot;,[832,&quot;^Y&quot;,&quot;^1?&quot;,536871036]],[&quot;^17&quot;,[832,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[832,&quot;^;&quot;,&quot;~u62d35828-beb6-439a-b2be-fe64fec2bf27&quot;,536871036]],[&quot;^17&quot;,[833,&quot;^R&quot;,&quot;Heap File Organization&quot;,536871036]],[&quot;^17&quot;,[833,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[833,&quot;^F&quot;,824,536871036]],[&quot;^17&quot;,[833,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[833,&quot;^W&quot;,824,536871036]],[&quot;^17&quot;,[833,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[833,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[833,&quot;^;&quot;,&quot;~u62d35828-d94c-4d88-99bc-325b743e7f5b&quot;,536871036]],[&quot;^17&quot;,[834,&quot;^R&quot;,&quot;&quot;,536871036]],[&quot;^17&quot;,[834,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[834,&quot;^F&quot;,835,536871036]],[&quot;^17&quot;,[834,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[834,&quot;^W&quot;,840,536871036]],[&quot;^17&quot;,[834,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[834,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[834,&quot;^;&quot;,&quot;~u62d35828-a808-4f9e-9be0-80599eecc4dc&quot;,536871036]],[&quot;^17&quot;,[835,&quot;^R&quot;,&quot;The example below illustrates the worst case. Each data page can store up to 2 records, so inserting a record in Data Page 1, requires a read and a write of all pages that follow, since the rest of the records need to be pushed back. \\n![image.png](../assets/image_1657615589521_0.png)&quot;,536871036]],[&quot;^17&quot;,[835,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[835,&quot;^F&quot;,820,536871036]],[&quot;^17&quot;,[835,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[835,&quot;^W&quot;,840,536871036]],[&quot;^17&quot;,[835,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[835,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[835,&quot;^;&quot;,&quot;~u62d35828-f564-4435-a59e-79dea1eb2f89&quot;,536871036]],[&quot;^17&quot;,[836,&quot;^R&quot;,&quot;Sequential/Sorted File Organization&quot;,536871036]],[&quot;^17&quot;,[836,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[836,&quot;^F&quot;,833,536871036]],[&quot;^17&quot;,[836,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[836,&quot;^W&quot;,824,536871036]],[&quot;^17&quot;,[836,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[836,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[836,&quot;^;&quot;,&quot;~u62d35828-3132-4e96-ab91-7cbe8f9316f3&quot;,536871036]],[&quot;^17&quot;,[837,&quot;^R&quot;,&quot;Hardware Page：通常大小为 4KB&quot;,536871036]],[&quot;^17&quot;,[837,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[837,&quot;^F&quot;,823,536871036]],[&quot;^17&quot;,[837,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[837,&quot;^W&quot;,823,536871036]],[&quot;^17&quot;,[837,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[837,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[837,&quot;^;&quot;,&quot;~u62d35828-3eaa-4f77-add9-6808e4d2032b&quot;,536871036]],[&quot;^17&quot;,[838,&quot;^R&quot;,&quot;heap file 指的是一个无序的 pages 集合，pages 管理模块需要记录哪些 pages 已经被使用，而哪些 pages 尚未被使用。那么具体如何来记录和管理呢？主要有以下两种方法 Linked List 和 Page Directory。&quot;,536871036]],[&quot;^17&quot;,[838,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[838,&quot;^F&quot;,819,536871036]],[&quot;^17&quot;,[838,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[838,&quot;^W&quot;,819,536871036]],[&quot;^17&quot;,[838,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[838,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[838,&quot;^;&quot;,&quot;~u62d35828-5392-4954-aa3e-01cbfc4e58e9&quot;,536871036]],[&quot;^17&quot;,[839,&quot;^R&quot;,&quot;Hashing File Organization&quot;,536871036]],[&quot;^17&quot;,[839,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[839,&quot;^F&quot;,836,536871036]],[&quot;^17&quot;,[839,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[839,&quot;^W&quot;,824,536871036]],[&quot;^17&quot;,[839,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[839,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[839,&quot;^;&quot;,&quot;~u62d35828-a254-4af3-b3e8-1de9b8aa4c1d&quot;,536871036]],[&quot;^17&quot;,[840,&quot;^R&quot;,&quot;### **Sorted Files**&quot;,536871036]],[&quot;^17&quot;,[840,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[840,&quot;^X&quot;,3,536871036]],[&quot;^17&quot;,[840,&quot;^F&quot;,819,536871036]],[&quot;^17&quot;,[840,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[840,&quot;^W&quot;,747,536871036]],[&quot;^17&quot;,[840,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[840,&quot;^1&gt;&quot;,3,536871036]],[&quot;^17&quot;,[840,&quot;^Y&quot;,&quot;^1?&quot;,536871036]],[&quot;^17&quot;,[840,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[840,&quot;^;&quot;,&quot;~u62d35828-7c0f-45a4-8044-20e2c083bcdc&quot;,536871036]],[&quot;^17&quot;,[841,&quot;^R&quot;,&quot;A sorted file is a file type where pages are ordered and records within each page are sorted by key(s).&quot;,536871036]],[&quot;^17&quot;,[841,&quot;^P&quot;,&quot;^19&quot;,536871036]],[&quot;^17&quot;,[841,&quot;^F&quot;,840,536871036]],[&quot;^17&quot;,[841,&quot;^Z&quot;,747,536871036]],[&quot;^17&quot;,[841,&quot;^W&quot;,840,536871036]],[&quot;^17&quot;,[841,&quot;^V&quot;,747,536871036]],[&quot;^17&quot;,[841,&quot;^1@&quot;,true,536871036]],[&quot;^17&quot;,[841,&quot;^;&quot;,&quot;~u62d35828-239d-40f5-adee-98d44f93ded5&quot;,536871036]],[&quot;^17&quot;,[972,&quot;^R&quot;,&quot;基本思想：维护一个指针，指向下一个将被拆分的 bucket，每当任意一个 bucket 溢出（标准自定，如利用率到达阈值等）时，将指针指向的 bucket 拆分。&quot;,536871040]],[&quot;^17&quot;,[972,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[972,&quot;^F&quot;,996,536871040]],[&quot;^17&quot;,[972,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[972,&quot;^W&quot;,996,536871040]],[&quot;^17&quot;,[972,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[972,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[972,&quot;^;&quot;,&quot;~u62d35829-ab75-406d-b74c-0c479912dd21&quot;,536871040]],[&quot;^17&quot;,[973,&quot;^R&quot;,&quot;Core Data Storage&quot;,536871040]],[&quot;^17&quot;,[973,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[973,&quot;^F&quot;,975,536871040]],[&quot;^17&quot;,[973,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[973,&quot;^W&quot;,1002,536871040]],[&quot;^17&quot;,[973,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[973,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[973,&quot;^;&quot;,&quot;~u62d35829-360c-4000-b73b-a22efd5c20b2&quot;,536871040]],[&quot;^17&quot;,[974,&quot;^R&quot;,&quot;### Hash Scheme\\nid:: 62b09238-6e5b-4ceb-9057-09c0fafb5a11&quot;,536871040]],[&quot;^17&quot;,[974,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[974,&quot;^X&quot;,3,536871040]],[&quot;^17&quot;,[974,&quot;^F&quot;,988,536871040]],[&quot;^17&quot;,[974,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[974,&quot;^W&quot;,976,536871040]],[&quot;^17&quot;,[974,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[974,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62b09238-6e5b-4ceb-9057-09c0fafb5a11&quot;],536871040]],[&quot;^17&quot;,[974,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871040]],[&quot;^17&quot;,[974,&quot;^1&gt;&quot;,3,536871040]],[&quot;^17&quot;,[974,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[974,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[974,&quot;^;&quot;,&quot;~u62b09238-6e5b-4ceb-9057-09c0fafb5a11&quot;,536871040]],[&quot;^17&quot;,[975,&quot;^R&quot;,&quot;Internal Meta-data&quot;,536871040]],[&quot;^17&quot;,[975,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[975,&quot;^F&quot;,1002,536871040]],[&quot;^17&quot;,[975,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[975,&quot;^W&quot;,1002,536871040]],[&quot;^17&quot;,[975,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[975,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[975,&quot;^;&quot;,&quot;~u62d35829-bb15-4fd7-9024-c107174c33fe&quot;,536871040]],[&quot;^17&quot;,[976,&quot;^R&quot;,&quot;## Hash Tables&quot;,536871040]],[&quot;^17&quot;,[976,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[976,&quot;^X&quot;,2,536871040]],[&quot;^17&quot;,[976,&quot;^F&quot;,979,536871040]],[&quot;^17&quot;,[976,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[976,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[976,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[976,&quot;^1&gt;&quot;,2,536871040]],[&quot;^17&quot;,[976,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[976,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[976,&quot;^;&quot;,&quot;~u62d35829-c29e-47c5-a1b6-89f546dd82b2&quot;,536871040]],[&quot;^17&quot;,[977,&quot;^R&quot;,&quot;## 总结&quot;,536871040]],[&quot;^17&quot;,[977,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[977,&quot;^X&quot;,2,536871040]],[&quot;^17&quot;,[977,&quot;^F&quot;,1003,536871040]],[&quot;^17&quot;,[977,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[977,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[977,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[977,&quot;^1&gt;&quot;,2,536871040]],[&quot;^17&quot;,[977,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[977,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[977,&quot;^;&quot;,&quot;~u62d35829-e4d4-482d-81b2-6dcf14c123fd&quot;,536871040]],[&quot;^17&quot;,[978,&quot;^R&quot;,&quot;数据组织：在内存/页中如何排列 data structure，以及什么信息被存储来支持高效访问&quot;,536871040]],[&quot;^17&quot;,[978,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[978,&quot;^F&quot;,979,536871040]],[&quot;^17&quot;,[978,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[978,&quot;^W&quot;,979,536871040]],[&quot;^17&quot;,[978,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[978,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[978,&quot;^;&quot;,&quot;~u62d35829-0805-4561-b27c-cf40c66e1b30&quot;,536871040]],[&quot;^17&quot;,[979,&quot;^R&quot;,&quot;我们要考虑两个方面：&quot;,536871040]],[&quot;^17&quot;,[979,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[979,&quot;^F&quot;,1002,536871040]],[&quot;^17&quot;,[979,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[979,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[979,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[979,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[979,&quot;^;&quot;,&quot;~u62d35829-7a79-4913-9388-0484010f8c89&quot;,536871040]],[&quot;^17&quot;,[980,&quot;^R&quot;,&quot;Temporary Data Structures&quot;,536871040]],[&quot;^17&quot;,[980,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[980,&quot;^F&quot;,973,536871040]],[&quot;^17&quot;,[980,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[980,&quot;^W&quot;,1002,536871040]],[&quot;^17&quot;,[980,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[980,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[980,&quot;^;&quot;,&quot;~u62d35829-1071-4b53-86f7-c4de6982f34c&quot;,536871040]],[&quot;^17&quot;,[981,&quot;^R&quot;,&quot;DBMS 内的 Hash Function 并不会暴露在外,因此没必要加密(cryptographic) hash function，希望速度更快，collision rate 越低越好&quot;,536871040]],[&quot;^17&quot;,[981,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[981,&quot;^F&quot;,988,536871040]],[&quot;^17&quot;,[981,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[981,&quot;^W&quot;,988,536871040]],[&quot;^17&quot;,[981,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[981,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[981,&quot;^;&quot;,&quot;~u62d35829-7bd6-4454-9e7b-e87b0718d7a6&quot;,536871040]],[&quot;^17&quot;,[982,&quot;^R&quot;,&quot;Hash Scheme\\n→ How to handle key collisions after hashing.\\n→ Trade-off between allocating a large hash table vs.  additional instructions to find/insert keys&quot;,536871040]],[&quot;^17&quot;,[982,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[982,&quot;^F&quot;,985,536871040]],[&quot;^17&quot;,[982,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[982,&quot;^W&quot;,976,536871040]],[&quot;^17&quot;,[982,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[982,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[982,&quot;^;&quot;,&quot;~u62d35829-e981-4244-bf3c-af7543b9f596&quot;,536871040]],[&quot;^17&quot;,[983,&quot;^R&quot;,&quot;一边扩容， 一边rehash&quot;,536871040]],[&quot;^17&quot;,[983,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[983,&quot;^F&quot;,1001,536871040]],[&quot;^17&quot;,[983,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[983,&quot;^W&quot;,1001,536871040]],[&quot;^17&quot;,[983,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[983,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[983,&quot;^;&quot;,&quot;~u62d35829-268c-43bf-b6f5-5b3e7c1e0209&quot;,536871040]],[&quot;^17&quot;,[984,&quot;^R&quot;,&quot;Approach 1: Linear Probe Hashing 线性探测法&quot;,536871040]],[&quot;^17&quot;,[984,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[984,&quot;^F&quot;,974,536871040]],[&quot;^17&quot;,[984,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[984,&quot;^W&quot;,974,536871040]],[&quot;^17&quot;,[984,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[984,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[984,&quot;^;&quot;,&quot;~u62d35829-a4a5-47fd-b518-f73bf3510509&quot;,536871040]],[&quot;^17&quot;,[985,&quot;^R&quot;,&quot;Hash Function: \\n-&gt; How to map a large key space into a smaller domain.\\n→ Trade-off between being fast vs. collision rate.&quot;,536871040]],[&quot;^17&quot;,[985,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[985,&quot;^F&quot;,990,536871040]],[&quot;^17&quot;,[985,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[985,&quot;^W&quot;,976,536871040]],[&quot;^17&quot;,[985,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[985,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[985,&quot;^;&quot;,&quot;~u62d35829-9a3b-4e32-bee2-f0912f8162ed&quot;,536871040]],[&quot;^17&quot;,[986,&quot;^R&quot;,&quot;与 Static Hash Tables 需要预判最终数据量大小的情况不同，Dynamic Hash Tables 可以按需扩容缩容，本节主要介绍 Chained Hashing，Extendible Hashing 和 Linear Hashing。&quot;,536871040]],[&quot;^17&quot;,[986,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[986,&quot;^F&quot;,1003,536871040]],[&quot;^17&quot;,[986,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[986,&quot;^W&quot;,1003,536871040]],[&quot;^17&quot;,[986,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[986,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[986,&quot;^;&quot;,&quot;~u62d35829-4245-4229-b3c1-f7bac7c2c20c&quot;,536871040]],[&quot;^17&quot;,[987,&quot;^R&quot;,&quot;&quot;,536871040]],[&quot;^17&quot;,[987,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[987,&quot;^F&quot;,1004,536871040]],[&quot;^17&quot;,[987,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[987,&quot;^W&quot;,977,536871040]],[&quot;^17&quot;,[987,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[987,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[987,&quot;^;&quot;,&quot;~u62d35829-abf3-491c-b80e-740c34ab3393&quot;,536871040]],[&quot;^17&quot;,[988,&quot;^R&quot;,&quot;### Hash Function&quot;,536871040]],[&quot;^17&quot;,[988,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[988,&quot;^X&quot;,3,536871040]],[&quot;^17&quot;,[988,&quot;^F&quot;,982,536871040]],[&quot;^17&quot;,[988,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[988,&quot;^W&quot;,976,536871040]],[&quot;^17&quot;,[988,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[988,&quot;^1&gt;&quot;,3,536871040]],[&quot;^17&quot;,[988,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[988,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[988,&quot;^;&quot;,&quot;~u62d35829-dd28-48cd-b4f3-07456e6c3a07&quot;,536871040]],[&quot;^17&quot;,[989,&quot;^R&quot;,&quot;Approach 3: Cuckoo Hashing\\n使用多个哈希表，每个有独自的hash function，发生冲突时，则使用另一个hash function [见pdf图片](https://15445.courses.cs.cmu.edu/fall2021/slides/06-hashtables.pdf)&quot;,536871040]],[&quot;^17&quot;,[989,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[989,&quot;^F&quot;,1000,536871040]],[&quot;^17&quot;,[989,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[989,&quot;^W&quot;,974,536871040]],[&quot;^17&quot;,[989,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[989,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[989,&quot;^;&quot;,&quot;~u62d35829-969b-43e0-9626-0519c9f1103b&quot;,536871040]],[&quot;^17&quot;,[990,&quot;^R&quot;,&quot;主要分为两个部分：&quot;,536871040]],[&quot;^17&quot;,[990,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[990,&quot;^F&quot;,976,536871040]],[&quot;^17&quot;,[990,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[990,&quot;^W&quot;,976,536871040]],[&quot;^17&quot;,[990,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[990,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[990,&quot;^;&quot;,&quot;~u62d35829-47f5-4d52-a145-4de111511688&quot;,536871040]],[&quot;^17&quot;,[991,&quot;^R&quot;,&quot;Table indexes&quot;,536871040]],[&quot;^17&quot;,[991,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[991,&quot;^F&quot;,980,536871040]],[&quot;^17&quot;,[991,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[991,&quot;^W&quot;,1002,536871040]],[&quot;^17&quot;,[991,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[991,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[991,&quot;^;&quot;,&quot;~u62d35829-ed25-434f-ae73-74bcdb7ea234&quot;,536871040]],[&quot;^17&quot;,[992,&quot;^R&quot;,&quot;删除怎么办？\\n坟墓法(Tomnstone) ![image.png](../assets/image_1655739221712_0.png)\\n移动法&quot;,536871040]],[&quot;^17&quot;,[992,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[992,&quot;^F&quot;,984,536871040]],[&quot;^17&quot;,[992,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[992,&quot;^W&quot;,984,536871040]],[&quot;^17&quot;,[992,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[992,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[992,&quot;^;&quot;,&quot;~u62d35829-633a-44a7-b26d-ff29a212d480&quot;,536871040]],[&quot;^17&quot;,[993,&quot;^R&quot;,&quot;为了更好的从数据库读/写数据，我们要使用一些数据结构，对于DBMS最重要的是 Hash Table and Trees&quot;,536871040]],[&quot;^17&quot;,[993,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[993,&quot;^F&quot;,4498,536896784]],[&quot;^17&quot;,[993,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[993,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[993,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[993,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[993,&quot;^;&quot;,&quot;~u62d35829-6ba8-4f24-ad41-7f47485491f6&quot;,536871040]],[&quot;^17&quot;,[994,&quot;^R&quot;,&quot;keys 可能出现重复, 两种方法\\n-&gt; Separate Linked List\\n-&gt; Redundant Keys&quot;,536871040]],[&quot;^17&quot;,[994,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[994,&quot;^F&quot;,992,536871040]],[&quot;^17&quot;,[994,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[994,&quot;^W&quot;,984,536871040]],[&quot;^17&quot;,[994,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[994,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[994,&quot;^;&quot;,&quot;~u62d35829-2fc9-4a2a-9020-44ef5b998fc2&quot;,536871040]],[&quot;^17&quot;,[995,&quot;^R&quot;,&quot;### Chained Hashing&quot;,536871040]],[&quot;^17&quot;,[995,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[995,&quot;^X&quot;,3,536871040]],[&quot;^17&quot;,[995,&quot;^F&quot;,986,536871040]],[&quot;^17&quot;,[995,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[995,&quot;^W&quot;,1003,536871040]],[&quot;^17&quot;,[995,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[995,&quot;^1&gt;&quot;,3,536871040]],[&quot;^17&quot;,[995,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[995,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[995,&quot;^;&quot;,&quot;~u62d35829-ac03-4402-80b3-f05b4657c6ab&quot;,536871040]],[&quot;^17&quot;,[996,&quot;^R&quot;,&quot;### Linear Hashing&quot;,536871040]],[&quot;^17&quot;,[996,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[996,&quot;^X&quot;,3,536871040]],[&quot;^17&quot;,[996,&quot;^F&quot;,1001,536871040]],[&quot;^17&quot;,[996,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[996,&quot;^W&quot;,1003,536871040]],[&quot;^17&quot;,[996,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[996,&quot;^1&gt;&quot;,3,536871040]],[&quot;^17&quot;,[996,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[996,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[996,&quot;^;&quot;,&quot;~u62d35829-3e72-4251-89ad-4265fcc004cb&quot;,536871040]],[&quot;^17&quot;,[997,&quot;^R&quot;,&quot;并发性：如何能够使多个线程能够并发访问数据且不出错误&quot;,536871040]],[&quot;^17&quot;,[997,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[997,&quot;^F&quot;,978,536871040]],[&quot;^17&quot;,[997,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[997,&quot;^W&quot;,979,536871040]],[&quot;^17&quot;,[997,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[997,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[997,&quot;^;&quot;,&quot;~u62d35829-fd81-4eba-b934-a02ed0e6b059&quot;,536871040]],[&quot;^17&quot;,[998,&quot;^R&quot;,&quot;每个key对应一个链表，需要空间时再申请latch \\n最坏情况下可能降级为链表 O(n)&quot;,536871040]],[&quot;^17&quot;,[998,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[998,&quot;^F&quot;,995,536871040]],[&quot;^17&quot;,[998,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[998,&quot;^W&quot;,995,536871040]],[&quot;^17&quot;,[998,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[998,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[998,&quot;^;&quot;,&quot;~u62d35829-3a48-43df-834a-44a44bd45b35&quot;,536871040]],[&quot;^17&quot;,[999,&quot;^R&quot;,&quot;常用hash 函数\\n![image.png](../assets/image_1655738935881_0.png)&quot;,536871040]],[&quot;^17&quot;,[999,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[999,&quot;^F&quot;,981,536871040]],[&quot;^17&quot;,[999,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[999,&quot;^W&quot;,988,536871040]],[&quot;^17&quot;,[999,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[999,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[999,&quot;^;&quot;,&quot;~u62d35829-115c-4ad0-9638-588ffdc3b754&quot;,536871040]],[&quot;^17&quot;,[1000,&quot;^R&quot;,&quot;Approach 2: Robin Hood Hashing\\nRobin Hood Hashing  是 Linear Probe Hashing 的变种，为了防止 Linear Probe Hashing 出现连续区域导致频繁的 probe 操作。基本思路是 “劫富济贫”，即每次比较的时候，同时需要比较每个 key 距离其原本位置的距离（越近越富余，越远越贫穷），如果遇到一个已经被占用的 slot，如果它比自己富余，则可以直接替代它的位置，然后把它顺延到新的位置。&quot;,536871040]],[&quot;^17&quot;,[1000,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[1000,&quot;^F&quot;,984,536871040]],[&quot;^17&quot;,[1000,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[1000,&quot;^W&quot;,974,536871040]],[&quot;^17&quot;,[1000,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[1000,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[1000,&quot;^;&quot;,&quot;~u62d35829-e1e5-4db0-8a31-66f3d38333aa&quot;,536871040]],[&quot;^17&quot;,[1001,&quot;^R&quot;,&quot;### Extendible Hashing&quot;,536871040]],[&quot;^17&quot;,[1001,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[1001,&quot;^X&quot;,3,536871040]],[&quot;^17&quot;,[1001,&quot;^F&quot;,995,536871040]],[&quot;^17&quot;,[1001,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[1001,&quot;^W&quot;,1003,536871040]],[&quot;^17&quot;,[1001,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[1001,&quot;^1&gt;&quot;,3,536871040]],[&quot;^17&quot;,[1001,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[1001,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[1001,&quot;^;&quot;,&quot;~u62d35829-413e-484f-bd5a-2e0df2f9f28e&quot;,536871040]],[&quot;^17&quot;,[1002,&quot;^R&quot;,&quot;它们可能被用在DBMS的多个方面：&quot;,536871040]],[&quot;^17&quot;,[1002,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[1002,&quot;^F&quot;,993,536871040]],[&quot;^17&quot;,[1002,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[1002,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[1002,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[1002,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[1002,&quot;^;&quot;,&quot;~u62d35829-409e-4b77-bf22-28a9a16fce91&quot;,536871040]],[&quot;^17&quot;,[1003,&quot;^R&quot;,&quot;## Dynamic Hash Tables&quot;,536871040]],[&quot;^17&quot;,[1003,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[1003,&quot;^X&quot;,2,536871040]],[&quot;^17&quot;,[1003,&quot;^F&quot;,976,536871040]],[&quot;^17&quot;,[1003,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[1003,&quot;^W&quot;,104,536871040]],[&quot;^17&quot;,[1003,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[1003,&quot;^1&gt;&quot;,2,536871040]],[&quot;^17&quot;,[1003,&quot;^Y&quot;,&quot;^1?&quot;,536871040]],[&quot;^17&quot;,[1003,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[1003,&quot;^;&quot;,&quot;~u62d35829-f33f-4a84-9659-b8f9cc5a3081&quot;,536871040]],[&quot;^17&quot;,[1004,&quot;^R&quot;,&quot;Hash Tables 提供*O(1)*的访问效率，因此它被大量地应用于 DBMS 的内部实现中。即便如此，它并不适合作为 table index 的数据结构，而 table index 的首选就是下节将介绍的 B+ Tree。&quot;,536871040]],[&quot;^17&quot;,[1004,&quot;^P&quot;,&quot;^19&quot;,536871040]],[&quot;^17&quot;,[1004,&quot;^F&quot;,977,536871040]],[&quot;^17&quot;,[1004,&quot;^Z&quot;,104,536871040]],[&quot;^17&quot;,[1004,&quot;^W&quot;,977,536871040]],[&quot;^17&quot;,[1004,&quot;^V&quot;,104,536871040]],[&quot;^17&quot;,[1004,&quot;^1@&quot;,true,536871040]],[&quot;^17&quot;,[1004,&quot;^;&quot;,&quot;~u62d35829-5183-4859-8103-36664b487442&quot;,536871040]],[&quot;^17&quot;,[1011,&quot;^R&quot;,&quot;更新操作每次都需要路径获取write latch 容易成为系统并发瓶颈&quot;,536871044]],[&quot;^17&quot;,[1011,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1011,&quot;^F&quot;,1038,536871044]],[&quot;^17&quot;,[1011,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1011,&quot;^W&quot;,1038,536871044]],[&quot;^17&quot;,[1011,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1011,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1011,&quot;^;&quot;,&quot;~u62d35829-a692-43eb-911b-4af1edb27529&quot;,536871044]],[&quot;^17&quot;,[1012,&quot;^R&quot;,&quot;## Better Latching Algorithm\\nid:: 62ba4b6f-c878-434e-bb8b-b6d1aa4e5275&quot;,536871044]],[&quot;^17&quot;,[1012,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1012,&quot;^X&quot;,2,536871044]],[&quot;^17&quot;,[1012,&quot;^F&quot;,1044,536871044]],[&quot;^17&quot;,[1012,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1012,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1012,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1012,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ba4b6f-c878-434e-bb8b-b6d1aa4e5275&quot;],536871044]],[&quot;^17&quot;,[1012,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871044]],[&quot;^17&quot;,[1012,&quot;^1&gt;&quot;,2,536871044]],[&quot;^17&quot;,[1012,&quot;^Y&quot;,&quot;^1?&quot;,536871044]],[&quot;^17&quot;,[1012,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1012,&quot;^;&quot;,&quot;~u62ba4b6f-c878-434e-bb8b-b6d1aa4e5275&quot;,536871044]],[&quot;^17&quot;,[1013,&quot;^R&quot;,&quot;基本思想如下：&quot;,536871044]],[&quot;^17&quot;,[1013,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1013,&quot;^F&quot;,1044,536871044]],[&quot;^17&quot;,[1013,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1013,&quot;^W&quot;,1044,536871044]],[&quot;^17&quot;,[1013,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1013,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1013,&quot;^;&quot;,&quot;~u62d35829-c867-494b-924e-a6b6d9543d57&quot;,536871044]],[&quot;^17&quot;,[1014,&quot;^R&quot;,&quot;![image.png](../assets/image_1656341911991_0.png)&quot;,536871044]],[&quot;^17&quot;,[1014,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1014,&quot;^F&quot;,1026,536871044]],[&quot;^17&quot;,[1014,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1014,&quot;^W&quot;,1020,536871044]],[&quot;^17&quot;,[1014,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1014,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1014,&quot;^;&quot;,&quot;~u62d35829-e6cb-428c-9184-7af8ba273350&quot;,536871044]],[&quot;^17&quot;,[1015,&quot;^R&quot;,&quot;主要考虑两种情况：&quot;,536871044]],[&quot;^17&quot;,[1015,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1015,&quot;^F&quot;,1042,536871044]],[&quot;^17&quot;,[1015,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1015,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1015,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1015,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1015,&quot;^;&quot;,&quot;~u62d35829-f7d7-4cc0-bcf2-c4327c19c87f&quot;,536871044]],[&quot;^17&quot;,[1016,&quot;^R&quot;,&quot;之前分析中我们仅仅关注从上到下的访问模式，而没有考虑到左右方向的访问模式，在range query 中，常常需要访问相邻的 nodes&quot;,536871044]],[&quot;^17&quot;,[1016,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1016,&quot;^F&quot;,1019,536871044]],[&quot;^17&quot;,[1016,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1016,&quot;^W&quot;,1019,536871044]],[&quot;^17&quot;,[1016,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1016,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1016,&quot;^;&quot;,&quot;~u62d35829-8e3e-4da0-b410-0a6b362d5ff9&quot;,536871044]],[&quot;^17&quot;,[1017,&quot;^R&quot;,&quot;public:: true\\nalias:: B+树并发&quot;,536896780]],[&quot;^17&quot;,[1017,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1017,&quot;^F&quot;,291,536871044]],[&quot;^17&quot;,[1017,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1017,&quot;^W&quot;,291,536871044]],[&quot;^17&quot;,[1017,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1017,&quot;^V&quot;,1010,536871044]],[&quot;^17&quot;,[1017,&quot;^:&quot;,true,536871044]],[&quot;^17&quot;,[1017,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;B+树并发&quot;]],&quot;^18&quot;,true],536896780]],[&quot;^17&quot;,[1017,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871044]],[&quot;^17&quot;,[1017,&quot;^H&quot;,1010,536871044]],[&quot;^17&quot;,[1017,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1017,&quot;^;&quot;,&quot;~u62d35829-ad7a-4d1a-8064-c7fe2135b9fc&quot;,536871044]],[&quot;^17&quot;,[1018,&quot;^R&quot;,&quot;获取child的 latch&quot;,536871044]],[&quot;^17&quot;,[1018,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1018,&quot;^F&quot;,1039,536871044]],[&quot;^17&quot;,[1018,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1018,&quot;^W&quot;,1013,536871044]],[&quot;^17&quot;,[1018,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1018,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1018,&quot;^;&quot;,&quot;~u62d35829-833f-493e-92ef-0b32435d809b&quot;,536871044]],[&quot;^17&quot;,[1019,&quot;^R&quot;,&quot;## Horizontal Scan&quot;,536871044]],[&quot;^17&quot;,[1019,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1019,&quot;^X&quot;,2,536871044]],[&quot;^17&quot;,[1019,&quot;^F&quot;,1012,536871044]],[&quot;^17&quot;,[1019,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1019,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1019,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1019,&quot;^1&gt;&quot;,2,536871044]],[&quot;^17&quot;,[1019,&quot;^Y&quot;,&quot;^1?&quot;,536871044]],[&quot;^17&quot;,[1019,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1019,&quot;^;&quot;,&quot;~u62d35829-6095-4ed4-ba3d-f54c6bf35df9&quot;,536871044]],[&quot;^17&quot;,[1020,&quot;^R&quot;,&quot;## Delayed Parent Updates\\nid:: 62ba4b6f-e99b-4820-83e9-118781332118&quot;,536871044]],[&quot;^17&quot;,[1020,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1020,&quot;^X&quot;,2,536871044]],[&quot;^17&quot;,[1020,&quot;^F&quot;,1019,536871044]],[&quot;^17&quot;,[1020,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1020,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1020,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1020,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ba4b6f-e99b-4820-83e9-118781332118&quot;],536871044]],[&quot;^17&quot;,[1020,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871044]],[&quot;^17&quot;,[1020,&quot;^1&gt;&quot;,2,536871044]],[&quot;^17&quot;,[1020,&quot;^Y&quot;,&quot;^1?&quot;,536871044]],[&quot;^17&quot;,[1020,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1020,&quot;^;&quot;,&quot;~u62ba4b6f-e99b-4820-83e9-118781332118&quot;,536871044]],[&quot;^17&quot;,[1021,&quot;^R&quot;,&quot;通常 Node 的大小为一个 page, 存储很多个keys, 因此更新操作出错频率不高&quot;,536871044]],[&quot;^17&quot;,[1021,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1021,&quot;^F&quot;,1011,536871044]],[&quot;^17&quot;,[1021,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1021,&quot;^W&quot;,1038,536871044]],[&quot;^17&quot;,[1021,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1021,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1021,&quot;^;&quot;,&quot;~u62d35829-dd54-4031-b9a7-55d0e9cd31d9&quot;,536871044]],[&quot;^17&quot;,[1022,&quot;^R&quot;,&quot;即将拆分 leaf node&quot;,536871044]],[&quot;^17&quot;,[1022,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1022,&quot;^F&quot;,1026,536871044]],[&quot;^17&quot;,[1022,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1022,&quot;^W&quot;,1026,536871044]],[&quot;^17&quot;,[1022,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1022,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1022,&quot;^;&quot;,&quot;~u62d35829-a0c9-4a81-b7cc-efa95d87ef7f&quot;,536871044]],[&quot;^17&quot;,[1023,&quot;^R&quot;,&quot;如果安全，则可以释放parent 的 latch&quot;,536871044]],[&quot;^17&quot;,[1023,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1023,&quot;^F&quot;,1018,536871044]],[&quot;^17&quot;,[1023,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1023,&quot;^W&quot;,1013,536871044]],[&quot;^17&quot;,[1023,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1023,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1023,&quot;^;&quot;,&quot;~u62d35829-51c4-4e35-b74b-a1c6f8045034&quot;,536871044]],[&quot;^17&quot;,[1024,&quot;^R&quot;,&quot;在删除节点时，节点数超过半数&quot;,536871044]],[&quot;^17&quot;,[1024,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1024,&quot;^F&quot;,1037,536871044]],[&quot;^17&quot;,[1024,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1024,&quot;^W&quot;,1043,536871044]],[&quot;^17&quot;,[1024,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1024,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1024,&quot;^;&quot;,&quot;~u62d35829-a73b-4a1a-8083-28d7f034f84e&quot;,536871044]],[&quot;^17&quot;,[1025,&quot;^R&quot;,&quot;parent node&quot;,536871044]],[&quot;^17&quot;,[1025,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1025,&quot;^F&quot;,1028,536871044]],[&quot;^17&quot;,[1025,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1025,&quot;^W&quot;,1026,536871044]],[&quot;^17&quot;,[1025,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1025,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1025,&quot;^;&quot;,&quot;~u62d35829-3160-47b4-ae5a-00bfd6b56841&quot;,536871044]],[&quot;^17&quot;,[1026,&quot;^R&quot;,&quot;从上文中，我们看到：每当leaf node 溢出时，我们都需要更新至少3个节点&quot;,536871044]],[&quot;^17&quot;,[1026,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1026,&quot;^F&quot;,1020,536871044]],[&quot;^17&quot;,[1026,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1026,&quot;^W&quot;,1020,536871044]],[&quot;^17&quot;,[1026,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1026,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1026,&quot;^;&quot;,&quot;~u62d35829-cfca-4113-bb31-38cce42d2f38&quot;,536871044]],[&quot;^17&quot;,[1027,&quot;^R&quot;,&quot;Physical Correctness: 数据内部表示是否安好？&quot;,536871044]],[&quot;^17&quot;,[1027,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1027,&quot;^F&quot;,1040,536871044]],[&quot;^17&quot;,[1027,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1027,&quot;^W&quot;,1029,536871044]],[&quot;^17&quot;,[1027,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1027,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1027,&quot;^;&quot;,&quot;~u62d35829-47fb-4716-b47f-fab24af6a8a3&quot;,536871044]],[&quot;^17&quot;,[1028,&quot;^R&quot;,&quot;新的 leaf node&quot;,536871044]],[&quot;^17&quot;,[1028,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1028,&quot;^F&quot;,1022,536871044]],[&quot;^17&quot;,[1028,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1028,&quot;^W&quot;,1026,536871044]],[&quot;^17&quot;,[1028,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1028,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1028,&quot;^;&quot;,&quot;~u62d35829-7d6c-4171-ab69-f9184e7c89bb&quot;,536871044]],[&quot;^17&quot;,[1029,&quot;^R&quot;,&quot;Concurrency Control 两个方面&quot;,536871044]],[&quot;^17&quot;,[1029,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1029,&quot;^F&quot;,1017,536871044]],[&quot;^17&quot;,[1029,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1029,&quot;^W&quot;,291,536871044]],[&quot;^17&quot;,[1029,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1029,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1029,&quot;^;&quot;,&quot;~u62d35829-1a85-4e22-886c-c430e7fe6f3c&quot;,536871044]],[&quot;^17&quot;,[1030,&quot;^R&quot;,&quot;当遇到横向扫描无法获取下一个节点的 latch 时，该线程将释放 latch 后自杀。这种策略逻辑简单，尽管有理论上的优化空间，但在实践中是常见的避免死锁的方式。&quot;,536871044]],[&quot;^17&quot;,[1030,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1030,&quot;^F&quot;,1034,536871044]],[&quot;^17&quot;,[1030,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1030,&quot;^W&quot;,1019,536871044]],[&quot;^17&quot;,[1030,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1030,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1030,&quot;^;&quot;,&quot;~u62d35829-a487-464a-b241-4b09a703648a&quot;,536871044]],[&quot;^17&quot;,[1031,&quot;^R&quot;,&quot;解决策略：沿着访问路径加锁的方法，Latch Crabbing/Coupling 蟹形协议&quot;,536871044]],[&quot;^17&quot;,[1031,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1031,&quot;^F&quot;,1032,536871044]],[&quot;^17&quot;,[1031,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1031,&quot;^W&quot;,1035,536871044]],[&quot;^17&quot;,[1031,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1031,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1031,&quot;^;&quot;,&quot;~u62d35829-9ceb-4e78-85af-9798fd250683&quot;,536871044]],[&quot;^17&quot;,[1032,&quot;^R&quot;,&quot;T1想要删除44，T2想要查询41。删除44时，要rebalance D节点,将H节点拆分。若拆分前，T2读取到D节点, 发现41在H; 此时换 T1，拆分H为H、I节点。再换回来时，T2读不到41，出现错误&quot;,536871044]],[&quot;^17&quot;,[1032,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1032,&quot;^F&quot;,1035,536871044]],[&quot;^17&quot;,[1032,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1032,&quot;^W&quot;,1035,536871044]],[&quot;^17&quot;,[1032,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1032,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1032,&quot;^;&quot;,&quot;~u62d35829-b534-4b4f-ad1b-32050be50950&quot;,536871044]],[&quot;^17&quot;,[1033,&quot;^R&quot;,&quot;我们采用乐观锁的思想,假设leaf node 安全,一路上获取、释放 read latch， 到达leaf node 时，若不会引发split/merge， 则只需要在leaf node 获得write latch然后更新。若会引发 merge/split， 则重新执行一遍&quot;,536871044]],[&quot;^17&quot;,[1033,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1033,&quot;^F&quot;,1038,536871044]],[&quot;^17&quot;,[1033,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1033,&quot;^W&quot;,1012,536871044]],[&quot;^17&quot;,[1033,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1033,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1033,&quot;^;&quot;,&quot;~u62d35829-abe2-4200-99fc-ad8f16a5003b&quot;,536871044]],[&quot;^17&quot;,[1034,&quot;^R&quot;,&quot;![image.png](../assets/image_1656341664734_0.png)&quot;,536871044]],[&quot;^17&quot;,[1034,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1034,&quot;^F&quot;,1016,536871044]],[&quot;^17&quot;,[1034,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1034,&quot;^W&quot;,1019,536871044]],[&quot;^17&quot;,[1034,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1034,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1034,&quot;^;&quot;,&quot;~u62d35829-c010-499c-955d-8de4b6f5e4f7&quot;,536871044]],[&quot;^17&quot;,[1035,&quot;^R&quot;,&quot;![image.png](../assets/image_1656339220709_0.png){:height 349, :width 713}&quot;,536871044]],[&quot;^17&quot;,[1035,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1035,&quot;^F&quot;,1015,536871044]],[&quot;^17&quot;,[1035,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1035,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1035,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1035,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1035,&quot;^;&quot;,&quot;~u62d35829-6212-4e6b-b7b0-2d11d742a04c&quot;,536871044]],[&quot;^17&quot;,[1036,&quot;^R&quot;,&quot;一个线程正在遍历B+ Tree 的同时，另一个线程正在 splits/merges nodes&quot;,536871044]],[&quot;^17&quot;,[1036,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1036,&quot;^F&quot;,1041,536871044]],[&quot;^17&quot;,[1036,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1036,&quot;^W&quot;,1015,536871044]],[&quot;^17&quot;,[1036,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1036,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1036,&quot;^;&quot;,&quot;~u62d35829-0a5e-4fd4-994d-93f41d268116&quot;,536871044]],[&quot;^17&quot;,[1037,&quot;^R&quot;,&quot;在插入节点时，节点未满&quot;,536871044]],[&quot;^17&quot;,[1037,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1037,&quot;^F&quot;,1043,536871044]],[&quot;^17&quot;,[1037,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1037,&quot;^W&quot;,1043,536871044]],[&quot;^17&quot;,[1037,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1037,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1037,&quot;^;&quot;,&quot;~u62d35829-631d-463b-8560-efb878e68242&quot;,536871044]],[&quot;^17&quot;,[1038,&quot;^R&quot;,&quot;实际应用中&quot;,536871044]],[&quot;^17&quot;,[1038,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1038,&quot;^F&quot;,1012,536871044]],[&quot;^17&quot;,[1038,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1038,&quot;^W&quot;,1012,536871044]],[&quot;^17&quot;,[1038,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1038,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1038,&quot;^;&quot;,&quot;~u62d35829-8dc9-4922-a41e-a19f330b3095&quot;,536871044]],[&quot;^17&quot;,[1039,&quot;^R&quot;,&quot;获取parent 的latch&quot;,536871044]],[&quot;^17&quot;,[1039,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1039,&quot;^F&quot;,1013,536871044]],[&quot;^17&quot;,[1039,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1039,&quot;^W&quot;,1013,536871044]],[&quot;^17&quot;,[1039,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1039,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1039,&quot;^;&quot;,&quot;~u62d35829-0fe8-444c-a2fa-be8c5cea9613&quot;,536871044]],[&quot;^17&quot;,[1040,&quot;^R&quot;,&quot;Logical Correctness: 我是否能看到我应该看到的数据？&quot;,536871044]],[&quot;^17&quot;,[1040,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1040,&quot;^F&quot;,1029,536871044]],[&quot;^17&quot;,[1040,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1040,&quot;^W&quot;,1029,536871044]],[&quot;^17&quot;,[1040,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1040,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1040,&quot;^;&quot;,&quot;~u62d35829-e782-40bc-b39c-38de66d06433&quot;,536871044]],[&quot;^17&quot;,[1041,&quot;^R&quot;,&quot;多个线程同时修改同一个node&quot;,536871044]],[&quot;^17&quot;,[1041,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1041,&quot;^F&quot;,1015,536871044]],[&quot;^17&quot;,[1041,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1041,&quot;^W&quot;,1015,536871044]],[&quot;^17&quot;,[1041,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1041,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1041,&quot;^;&quot;,&quot;~u62d35829-41a2-4acf-ba0b-27dca764e5f6&quot;,536871044]],[&quot;^17&quot;,[1042,&quot;^R&quot;,&quot;# B+ Tree Concurrency Control\\nid:: 62ba4b6f-2eb3-46c1-b1cc-986c6d9828f4&quot;,536871044]],[&quot;^17&quot;,[1042,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1042,&quot;^X&quot;,1,536871044]],[&quot;^17&quot;,[1042,&quot;^F&quot;,1029,536871044]],[&quot;^17&quot;,[1042,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1042,&quot;^W&quot;,291,536871044]],[&quot;^17&quot;,[1042,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1042,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ba4b6f-2eb3-46c1-b1cc-986c6d9828f4&quot;],536871044]],[&quot;^17&quot;,[1042,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871044]],[&quot;^17&quot;,[1042,&quot;^1&gt;&quot;,1,536871044]],[&quot;^17&quot;,[1042,&quot;^Y&quot;,&quot;^1?&quot;,536871044]],[&quot;^17&quot;,[1042,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1042,&quot;^;&quot;,&quot;~u62ba4b6f-2eb3-46c1-b1cc-986c6d9828f4&quot;,536871044]],[&quot;^17&quot;,[1043,&quot;^R&quot;,&quot;此处的“安全”指的是，当放生更新操作时，改节点不会发生split 或 merge操作，即：&quot;,536871044]],[&quot;^17&quot;,[1043,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1043,&quot;^F&quot;,1013,536871044]],[&quot;^17&quot;,[1043,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1043,&quot;^W&quot;,1044,536871044]],[&quot;^17&quot;,[1043,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1043,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1043,&quot;^;&quot;,&quot;~u62d35829-7953-4002-a266-73b04e04a85a&quot;,536871044]],[&quot;^17&quot;,[1044,&quot;^R&quot;,&quot;## Latch Crabbing/Couping\\nid:: 62ba4b6f-9b15-4fa3-824a-74d56cc9f63f&quot;,536871044]],[&quot;^17&quot;,[1044,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1044,&quot;^X&quot;,2,536871044]],[&quot;^17&quot;,[1044,&quot;^F&quot;,1035,536871044]],[&quot;^17&quot;,[1044,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1044,&quot;^W&quot;,1042,536871044]],[&quot;^17&quot;,[1044,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1044,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ba4b6f-9b15-4fa3-824a-74d56cc9f63f&quot;],536871044]],[&quot;^17&quot;,[1044,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871044]],[&quot;^17&quot;,[1044,&quot;^1&gt;&quot;,2,536871044]],[&quot;^17&quot;,[1044,&quot;^Y&quot;,&quot;^1?&quot;,536871044]],[&quot;^17&quot;,[1044,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1044,&quot;^;&quot;,&quot;~u62ba4b6f-9b15-4fa3-824a-74d56cc9f63f&quot;,536871044]],[&quot;^17&quot;,[1045,&quot;^R&quot;,&quot;修改的成本较高，因此 B-link Tree 提出了一种优化策略：每当 leaf node 溢出时，只是标记一下而暂时不更新 parent node，等下一次有别的线程获取 parnet node 的 write latch 时，一并修改&quot;,536871044]],[&quot;^17&quot;,[1045,&quot;^P&quot;,&quot;^19&quot;,536871044]],[&quot;^17&quot;,[1045,&quot;^F&quot;,1014,536871044]],[&quot;^17&quot;,[1045,&quot;^Z&quot;,291,536871044]],[&quot;^17&quot;,[1045,&quot;^W&quot;,1020,536871044]],[&quot;^17&quot;,[1045,&quot;^V&quot;,291,536871044]],[&quot;^17&quot;,[1045,&quot;^1@&quot;,true,536871044]],[&quot;^17&quot;,[1045,&quot;^;&quot;,&quot;~u62d35829-2f0f-4715-a453-b0a5b6323171&quot;,536871044]],[&quot;^17&quot;,[1047,&quot;^R&quot;,&quot;那么如何利用我们在这节课中介绍的单节点 DBMS 的知识，构建支持事务的 Distributed DBMS 呢？之前讨论过的很多话题：&quot;,536871046]],[&quot;^17&quot;,[1047,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1047,&quot;^F&quot;,1087,536871046]],[&quot;^17&quot;,[1047,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1047,&quot;^W&quot;,1048,536871046]],[&quot;^17&quot;,[1047,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1047,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1047,&quot;^;&quot;,&quot;~u62d35829-73f5-4590-8da4-cc708633ec32&quot;,536871046]],[&quot;^17&quot;,[1048,&quot;^R&quot;,&quot;# 引入&quot;,536871046]],[&quot;^17&quot;,[1048,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1048,&quot;^X&quot;,1,536871046]],[&quot;^17&quot;,[1048,&quot;^F&quot;,4525,536896939]],[&quot;^17&quot;,[1048,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1048,&quot;^W&quot;,284,536871046]],[&quot;^17&quot;,[1048,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1048,&quot;^1&gt;&quot;,1,536871046]],[&quot;^17&quot;,[1048,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1048,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1048,&quot;^;&quot;,&quot;~u62d35829-58b7-4c2b-887d-dac11c7d4833&quot;,536871046]],[&quot;^17&quot;,[1049,&quot;^R&quot;,&quot;**Middleware**\\n实现 Centralized Coordinator 的另一种方案是 Middleware，对于应用来说，Middleware 就是 Distributed Database 本身，Middleware 负责与后面的所有分片交互，协调事务的执行。如下图所示：\\n![image.png](../assets/image_1657371949587_0.png){:height 194, :width 422}\\nFacebook 运行着世界上最大的 MySQL 集群，采用的就是这种方案。它们的 Middleware 负责处理分布式事务、路由、分片等所有逻辑。&quot;,536871046]],[&quot;^17&quot;,[1049,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1049,&quot;^F&quot;,1082,536871046]],[&quot;^17&quot;,[1049,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1049,&quot;^W&quot;,1079,536871046]],[&quot;^17&quot;,[1049,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1049,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1049,&quot;^;&quot;,&quot;~u62d35829-f678-4f6b-8b40-1dfefa56755f&quot;,536871046]],[&quot;^17&quot;,[1050,&quot;^R&quot;,&quot;Decentralized Coordinator 的基本思路就是，执行某个事务时，会选择一个分片充当 Master，后者负责询问涉及事务的其它分片是否可以执行事务，完成事务的提交或中止&quot;,536871046]],[&quot;^17&quot;,[1050,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1050,&quot;^F&quot;,1062,536871046]],[&quot;^17&quot;,[1050,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1050,&quot;^W&quot;,1062,536871046]],[&quot;^17&quot;,[1050,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1050,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1050,&quot;^;&quot;,&quot;~u62d35829-5a14-4bbd-8c30-3cd756ce4889&quot;,536871046]],[&quot;^17&quot;,[1051,&quot;^R&quot;,&quot;Pull data to query&quot;,536871046]],[&quot;^17&quot;,[1051,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1051,&quot;^F&quot;,1077,536871046]],[&quot;^17&quot;,[1051,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1051,&quot;^W&quot;,1092,536871046]],[&quot;^17&quot;,[1051,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1051,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1051,&quot;^;&quot;,&quot;~u62d35829-43c9-46f6-8489-bafcb4ab4dba&quot;,536871046]],[&quot;^17&quot;,[1052,&quot;^R&quot;,&quot;分布式并发控制的难度在于：&quot;,536871046]],[&quot;^17&quot;,[1052,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1052,&quot;^F&quot;,1086,536871046]],[&quot;^17&quot;,[1052,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1052,&quot;^W&quot;,1086,536871046]],[&quot;^17&quot;,[1052,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1052,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1052,&quot;^;&quot;,&quot;~u62d35829-a99b-4fcf-98b6-81381fa96e36&quot;,536871046]],[&quot;^17&quot;,[1053,&quot;^R&quot;,&quot;Optimization &amp; Planning\\nConcurrency Control\\nLogging &amp; Recovery&quot;,536871046]],[&quot;^17&quot;,[1053,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1053,&quot;^F&quot;,1047,536871046]],[&quot;^17&quot;,[1053,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1053,&quot;^W&quot;,1047,536871046]],[&quot;^17&quot;,[1053,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1053,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1053,&quot;^;&quot;,&quot;~u62d35829-03b4-4d1a-8ce8-38a62f653065&quot;,536871046]],[&quot;^17&quot;,[1054,&quot;^R&quot;,&quot;Distributed DBMS 的系统架构主要指的是在哪一层上共享资源，主要分为以下 4 种：\\n![image.png](../assets/image_1657370771107_0.png)&quot;,536871046]],[&quot;^17&quot;,[1054,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1054,&quot;^F&quot;,1065,536871046]],[&quot;^17&quot;,[1054,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1054,&quot;^W&quot;,1065,536871046]],[&quot;^17&quot;,[1054,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1054,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1054,&quot;^;&quot;,&quot;~u62d35829-d302-43fb-9b63-164a116d2c2b&quot;,536871046]],[&quot;^17&quot;,[1055,&quot;^R&quot;,&quot;# Transaction Coordination&quot;,536871046]],[&quot;^17&quot;,[1055,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1055,&quot;^X&quot;,1,536871046]],[&quot;^17&quot;,[1055,&quot;^F&quot;,1066,536871046]],[&quot;^17&quot;,[1055,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1055,&quot;^W&quot;,284,536871046]],[&quot;^17&quot;,[1055,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1055,&quot;^1&gt;&quot;,1,536871046]],[&quot;^17&quot;,[1055,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1055,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1055,&quot;^;&quot;,&quot;~u62d35829-26a8-47e2-9993-aa99dc48ca76&quot;,536871046]],[&quot;^17&quot;,[1056,&quot;^R&quot;,&quot;既然要做 Distributed DBMS，势必要将数据库的资源分布到多个节点上，如磁盘、内存、CPU，这就是广义的分片，Partitioning 或 Sharding。DBMS 需要在各个分片上执行查询的一部分，然后将结果整合后得到最终答案。本节我们来关注数据如何在磁盘上分片。&quot;,536871046]],[&quot;^17&quot;,[1056,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1056,&quot;^F&quot;,1066,536871046]],[&quot;^17&quot;,[1056,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1056,&quot;^W&quot;,1066,536871046]],[&quot;^17&quot;,[1056,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1056,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1056,&quot;^;&quot;,&quot;~u62d35829-c6ad-4adb-98f6-a637a114ad23&quot;,536871046]],[&quot;^17&quot;,[1057,&quot;^R&quot;,&quot;Network Communication Overhead&quot;,536871046]],[&quot;^17&quot;,[1057,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1057,&quot;^F&quot;,1083,536871046]],[&quot;^17&quot;,[1057,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1057,&quot;^W&quot;,1052,536871046]],[&quot;^17&quot;,[1057,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1057,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1057,&quot;^;&quot;,&quot;~u62d35829-08cb-47d7-ba34-e0e4f50478ed&quot;,536871046]],[&quot;^17&quot;,[1058,&quot;^R&quot;,&quot;举个例子，假如我们要实现分布式的 2PL：\\n![image.png](../assets/image_1657372352332_0.png)&quot;,536871046]],[&quot;^17&quot;,[1058,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1058,&quot;^F&quot;,1052,536871046]],[&quot;^17&quot;,[1058,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1058,&quot;^W&quot;,1086,536871046]],[&quot;^17&quot;,[1058,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1058,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1058,&quot;^;&quot;,&quot;~u62d35829-2408-48f9-bc9a-80590b5ef8e9&quot;,536871046]],[&quot;^17&quot;,[1059,&quot;^R&quot;,&quot;应用如何获取数据？&quot;,536871046]],[&quot;^17&quot;,[1059,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1059,&quot;^F&quot;,1061,536871046]],[&quot;^17&quot;,[1059,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1059,&quot;^W&quot;,1061,536871046]],[&quot;^17&quot;,[1059,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1059,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1059,&quot;^;&quot;,&quot;~u62d35829-479b-46fe-9bc4-84dea6872b58&quot;,536871046]],[&quot;^17&quot;,[1060,&quot;^R&quot;,&quot;在 Shared Nothing 架构下，通常是物理分片：&quot;,536871046]],[&quot;^17&quot;,[1060,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1060,&quot;^F&quot;,1094,536871046]],[&quot;^17&quot;,[1060,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1060,&quot;^W&quot;,1072,536871046]],[&quot;^17&quot;,[1060,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1060,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1060,&quot;^;&quot;,&quot;~u62d35829-40b8-4684-964a-28a1a813359d&quot;,536871046]],[&quot;^17&quot;,[1061,&quot;^R&quot;,&quot;刚才已经提到 Distributed DBMS 的系统架构以及可能遇到的问题，本节就来讨论这些设计问题：&quot;,536871046]],[&quot;^17&quot;,[1061,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1061,&quot;^F&quot;,1084,536871046]],[&quot;^17&quot;,[1061,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1061,&quot;^W&quot;,1084,536871046]],[&quot;^17&quot;,[1061,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1061,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1061,&quot;^;&quot;,&quot;~u62d35829-3d9c-40e1-bf16-268139b2aa15&quot;,536871046]],[&quot;^17&quot;,[1062,&quot;^R&quot;,&quot;## Decentralized&quot;,536871046]],[&quot;^17&quot;,[1062,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1062,&quot;^X&quot;,2,536871046]],[&quot;^17&quot;,[1062,&quot;^F&quot;,1079,536871046]],[&quot;^17&quot;,[1062,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1062,&quot;^W&quot;,1075,536871046]],[&quot;^17&quot;,[1062,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1062,&quot;^1&gt;&quot;,2,536871046]],[&quot;^17&quot;,[1062,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1062,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1062,&quot;^;&quot;,&quot;~u62d35829-292e-4f99-a366-cafb8991c54d&quot;,536871046]],[&quot;^17&quot;,[1063,&quot;^R&quot;,&quot;### Shared Nothing\\nShared Nothing，顾名思义，每个 CPU 都拥有独立的内存、磁盘，节点之间仅通过网络通信共享消息。这种架构下，扩容和保证一致性的难度将变得很大。扩容时，DBMS 需要在不同节点间迁移、均衡数据，同时要保证服务在线，且数据一致，可以想象其复杂性。但解决这个难题带来的好处也很可观，整个 DBMS 的性能将得到提升，因为数据库可以控制存储层本身，就能够独立根据数据的局部性原理排列数据，从而最大程度上减少每次查询所消耗的通信成本。\\n使用 Shared Nothing 架构的数据库有很多，罗列如下：\\n![image.png](../assets/image_1657371010441_0.png)\\n一个 Shared Nothing 的 Distributed DBMS 需要将数据分片到不同的节点上，每个节点拥有整个数据库的一小部分，如果查询所需的数据只落在一个节点上，就与单节点数据库无二，如下图所示\\n![image.png](../assets/image_1657371105747_0.png) \\n![image.png](../assets/image_1657371097048_0.png)\\n![image.png](../assets/image_1657371118102_0.png)&quot;,536871046]],[&quot;^17&quot;,[1063,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1063,&quot;^X&quot;,3,536871046]],[&quot;^17&quot;,[1063,&quot;^F&quot;,1073,536871046]],[&quot;^17&quot;,[1063,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1063,&quot;^W&quot;,1065,536871046]],[&quot;^17&quot;,[1063,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1063,&quot;^1&gt;&quot;,3,536871046]],[&quot;^17&quot;,[1063,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1063,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1063,&quot;^;&quot;,&quot;~u62d35829-defa-40b9-b6e4-cfd1c7a35e21&quot;,536871046]],[&quot;^17&quot;,[1064,&quot;^R&quot;,&quot;假设单个节点有足够的容量存储单张表，我们可以简单地让每个节点只存储一张表：\\n![image.png](../assets/image_1657371714815_0.png)&quot;,536871046]],[&quot;^17&quot;,[1064,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1064,&quot;^F&quot;,1074,536871046]],[&quot;^17&quot;,[1064,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1064,&quot;^W&quot;,1074,536871046]],[&quot;^17&quot;,[1064,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1064,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1064,&quot;^;&quot;,&quot;~u62d35829-b23c-42b2-ba33-f3f0fc195d0e&quot;,536871046]],[&quot;^17&quot;,[1065,&quot;^R&quot;,&quot;# System Architechture&quot;,536871046]],[&quot;^17&quot;,[1065,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1065,&quot;^X&quot;,1,536871046]],[&quot;^17&quot;,[1065,&quot;^F&quot;,1048,536871046]],[&quot;^17&quot;,[1065,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1065,&quot;^W&quot;,284,536871046]],[&quot;^17&quot;,[1065,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1065,&quot;^1&gt;&quot;,1,536871046]],[&quot;^17&quot;,[1065,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1065,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1065,&quot;^;&quot;,&quot;~u62d35829-ba0a-459b-9ce8-54de4751e5b4&quot;,536871046]],[&quot;^17&quot;,[1066,&quot;^R&quot;,&quot;# Database Partitioning&quot;,536871046]],[&quot;^17&quot;,[1066,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1066,&quot;^X&quot;,1,536871046]],[&quot;^17&quot;,[1066,&quot;^F&quot;,1084,536871046]],[&quot;^17&quot;,[1066,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1066,&quot;^W&quot;,284,536871046]],[&quot;^17&quot;,[1066,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1066,&quot;^1&gt;&quot;,1,536871046]],[&quot;^17&quot;,[1066,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1066,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1066,&quot;^;&quot;,&quot;~u62d35829-57a8-4820-9ec6-78f03bc91274&quot;,536871046]],[&quot;^17&quot;,[1067,&quot;^R&quot;,&quot;![image.png](../assets/image_1657372273939_0.png)&quot;,536871046]],[&quot;^17&quot;,[1067,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1067,&quot;^F&quot;,1050,536871046]],[&quot;^17&quot;,[1067,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1067,&quot;^W&quot;,1062,536871046]],[&quot;^17&quot;,[1067,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1067,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1067,&quot;^;&quot;,&quot;~u62d35829-a41d-40aa-ad16-99b668930c8f&quot;,536871046]],[&quot;^17&quot;,[1068,&quot;^R&quot;,&quot;Clock Skew&quot;,536871046]],[&quot;^17&quot;,[1068,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1068,&quot;^F&quot;,1090,536871046]],[&quot;^17&quot;,[1068,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1068,&quot;^W&quot;,1052,536871046]],[&quot;^17&quot;,[1068,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1068,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1068,&quot;^;&quot;,&quot;~u62d35829-ceca-48be-b14c-fa4fbb241fc0&quot;,536871046]],[&quot;^17&quot;,[1069,&quot;^R&quot;,&quot;### Shared Memory \\n在 Shared Memory 架构下，不同的 CPU 通过网络访问同一块内存空间，每个 CPU 中都能看到所有内存数据结构，每个 DBMS 实例都知道其它实例的所有情况。这种架构实际上只出现在一些大型机上，在云原生环境下几乎见不到。&quot;,536871046]],[&quot;^17&quot;,[1069,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1069,&quot;^X&quot;,3,536871046]],[&quot;^17&quot;,[1069,&quot;^F&quot;,1095,536871046]],[&quot;^17&quot;,[1069,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1069,&quot;^W&quot;,1065,536871046]],[&quot;^17&quot;,[1069,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1069,&quot;^1&gt;&quot;,3,536871046]],[&quot;^17&quot;,[1069,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1069,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1069,&quot;^;&quot;,&quot;~u62d35829-1af1-4378-8c57-807d3388665a&quot;,536871046]],[&quot;^17&quot;,[1070,&quot;^R&quot;,&quot;Hash Partitioning：计算哈希值后分片\\nRange Partitioning：直接按号段分片&quot;,536871046]],[&quot;^17&quot;,[1070,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1070,&quot;^F&quot;,1085,536871046]],[&quot;^17&quot;,[1070,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1070,&quot;^W&quot;,1085,536871046]],[&quot;^17&quot;,[1070,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1070,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1070,&quot;^;&quot;,&quot;~u62d35829-837a-4302-aaa7-223c5d7c4f54&quot;,536871046]],[&quot;^17&quot;,[1071,&quot;^R&quot;,&quot;具体的分片案例如下：\\n![image.png](../assets/image_1657371773020_0.png)&quot;,536871046]],[&quot;^17&quot;,[1071,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1071,&quot;^F&quot;,1085,536871046]],[&quot;^17&quot;,[1071,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1071,&quot;^W&quot;,1072,536871046]],[&quot;^17&quot;,[1071,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1071,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1071,&quot;^;&quot;,&quot;~u62d35829-a40e-4a21-a492-ea42eb40996d&quot;,536871046]],[&quot;^17&quot;,[1072,&quot;^R&quot;,&quot;### Horizontal Partitioning&quot;,536871046]],[&quot;^17&quot;,[1072,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1072,&quot;^X&quot;,3,536871046]],[&quot;^17&quot;,[1072,&quot;^F&quot;,1074,536871046]],[&quot;^17&quot;,[1072,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1072,&quot;^W&quot;,1056,536871046]],[&quot;^17&quot;,[1072,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1072,&quot;^1&gt;&quot;,3,536871046]],[&quot;^17&quot;,[1072,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1072,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1072,&quot;^;&quot;,&quot;~u62d35829-d2b7-436f-b913-28b5113cb001&quot;,536871046]],[&quot;^17&quot;,[1073,&quot;^R&quot;,&quot;### Shared Disk\\n在 Shared Disk 架构下，不同的 CPU 通过网络访问同一块逻辑磁盘，但各自都有自己的内存空间。这种架构的好处就是计算和存储可以独立扩容，坏处就是 CPU 之间需要通过更多的通信来传递数据和元信息。采用这种架构的数据库有很多，罗列如下图所示：\\n![image.png](../assets/image_1657370875850_0.png)\\n主要以云厂商为主，因为它们已经搭建好了稳定、成熟、可伸缩的存储服务，基于此构建 Shared Disk 架构的 Distributed DBMS 符合整体生态和分层设计理念。但 Shared Disk 的坏处在于 DBMS 对存储层没有控制权，无法决定数据的分布，因此在查询数据时无法达到最优的性能。\\n一个 Shared Disk 的 Distributed DBMS 举例如下：\\n![image.png](../assets/image_1657370923255_0.png)\\n由于其它节点可能正缓存着 Page ABC，更新节点需要通过某种方式通知其它节点 Page ABC 已经被修改。由于既有的统一存储层不会再增加这样一层 Pub/Sub 逻辑，那么这种更新传播的逻辑就必须在计算层实现，且我们无法假设节点间的网络通信是可靠的，这也是 Shared-Disk 架构需要考虑的重要问题。&quot;,536871046]],[&quot;^17&quot;,[1073,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1073,&quot;^X&quot;,3,536871046]],[&quot;^17&quot;,[1073,&quot;^F&quot;,1069,536871046]],[&quot;^17&quot;,[1073,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1073,&quot;^W&quot;,1065,536871046]],[&quot;^17&quot;,[1073,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1073,&quot;^1&gt;&quot;,3,536871046]],[&quot;^17&quot;,[1073,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1073,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1073,&quot;^;&quot;,&quot;~u62d35829-b619-4547-92c7-7b1ab9ba418b&quot;,536871046]],[&quot;^17&quot;,[1074,&quot;^R&quot;,&quot;### Naive Table Partitioning&quot;,536871046]],[&quot;^17&quot;,[1074,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1074,&quot;^X&quot;,3,536871046]],[&quot;^17&quot;,[1074,&quot;^F&quot;,1056,536871046]],[&quot;^17&quot;,[1074,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1074,&quot;^W&quot;,1056,536871046]],[&quot;^17&quot;,[1074,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1074,&quot;^1&gt;&quot;,3,536871046]],[&quot;^17&quot;,[1074,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1074,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1074,&quot;^;&quot;,&quot;~u62d35829-0170-459b-a0f5-873407c08068&quot;,536871046]],[&quot;^17&quot;,[1075,&quot;^R&quot;,&quot;对于 Distributed DBMS 来说，如果一个写事务只涉及单个节点上的数据，那 DBMS 无需关心在其它节点上并发执行的事务状态；如果涉及多个节点数据，就需要去协调多个节点上的事务执行方案，即所谓的 Transaction Coordination，后者主要有两种方案：中心化 (Centralized) 和去中心化 (Decentralized)。&quot;,536871046]],[&quot;^17&quot;,[1075,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1075,&quot;^F&quot;,1055,536871046]],[&quot;^17&quot;,[1075,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1075,&quot;^W&quot;,1055,536871046]],[&quot;^17&quot;,[1075,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1075,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1075,&quot;^;&quot;,&quot;~u62d35829-3076-4bd2-8deb-b5513556db36&quot;,536871046]],[&quot;^17&quot;,[1076,&quot;^R&quot;,&quot;## Homogeneous VS. Heterogeneous&quot;,536871046]],[&quot;^17&quot;,[1076,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1076,&quot;^X&quot;,2,536871046]],[&quot;^17&quot;,[1076,&quot;^F&quot;,1061,536871046]],[&quot;^17&quot;,[1076,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1076,&quot;^W&quot;,1084,536871046]],[&quot;^17&quot;,[1076,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1076,&quot;^1&gt;&quot;,2,536871046]],[&quot;^17&quot;,[1076,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1076,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1076,&quot;^;&quot;,&quot;~u62d35829-730e-4fc1-bd0d-9f92bccf163c&quot;,536871046]],[&quot;^17&quot;,[1077,&quot;^R&quot;,&quot;Push query to data&quot;,536871046]],[&quot;^17&quot;,[1077,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1077,&quot;^F&quot;,1092,536871046]],[&quot;^17&quot;,[1077,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1077,&quot;^W&quot;,1092,536871046]],[&quot;^17&quot;,[1077,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1077,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1077,&quot;^;&quot;,&quot;~u62d35829-c6cb-4244-a842-ea8ad662ad82&quot;,536871046]],[&quot;^17&quot;,[1078,&quot;^R&quot;,&quot;![image.png](../assets/image_1657371255692_0.png)&quot;,536871046]],[&quot;^17&quot;,[1078,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1078,&quot;^F&quot;,1091,536871046]],[&quot;^17&quot;,[1078,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1078,&quot;^W&quot;,1076,536871046]],[&quot;^17&quot;,[1078,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1078,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1078,&quot;^;&quot;,&quot;~u62d35829-30f1-470d-8dd8-eefe19a7f4f6&quot;,536871046]],[&quot;^17&quot;,[1079,&quot;^R&quot;,&quot;## Centralized&quot;,536871046]],[&quot;^17&quot;,[1079,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1079,&quot;^X&quot;,2,536871046]],[&quot;^17&quot;,[1079,&quot;^F&quot;,1075,536871046]],[&quot;^17&quot;,[1079,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1079,&quot;^W&quot;,1075,536871046]],[&quot;^17&quot;,[1079,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1079,&quot;^1&gt;&quot;,2,536871046]],[&quot;^17&quot;,[1079,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1079,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1079,&quot;^;&quot;,&quot;~u62d35829-67b1-4aba-ac9a-b93da2378ce0&quot;,536871046]],[&quot;^17&quot;,[1080,&quot;^R&quot;,&quot;A 数据在 Node 1 上，B 数据在 Node 2 上，因为没有中心化的角色存在，一旦发现如上图所示的死锁，双方都不知道是应该中止还是继续等待。从这个例子我们可以看出将并发控制升级到分布式并发控制，有许多问题要解决。&quot;,536871046]],[&quot;^17&quot;,[1080,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1080,&quot;^F&quot;,1058,536871046]],[&quot;^17&quot;,[1080,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1080,&quot;^W&quot;,1086,536871046]],[&quot;^17&quot;,[1080,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1080,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1080,&quot;^;&quot;,&quot;~u62d35829-0a7b-4c8a-9b9c-5b805bb6627a&quot;,536871046]],[&quot;^17&quot;,[1081,&quot;^R&quot;,&quot;在 Shared Disk 架构下，通常是逻辑分片：&quot;,536871046]],[&quot;^17&quot;,[1081,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1081,&quot;^F&quot;,1060,536871046]],[&quot;^17&quot;,[1081,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1081,&quot;^W&quot;,1072,536871046]],[&quot;^17&quot;,[1081,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1081,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1081,&quot;^;&quot;,&quot;~u62d35829-1ffe-4bf1-95bf-7627d7f25093&quot;,536871046]],[&quot;^17&quot;,[1082,&quot;^R&quot;,&quot;**TP Monitor**\\n实现 Centralized Coordinator 的其中一种思路就是构建一个独立的组件负责管理事务，叫 Transaction Processing Monitor，即 TP Monitor。TP Monitor 与其之下运行的单节点 DBMS 无关，DBMS 无需感知 TP Monitor 的存在。每次应用在发送事务请求时，需要先通过 TP Monitor 确认事务是否可以执行。\\n举例如下：假设一个 DBMS 有 4 个分片，应用需要通过一个事务修改 P1、P3、P4 上的数据，首先需要从 Coordinator 上请求 P1、P3、P4 的锁，\\n![image.png](../assets/image_1657371921749_0.png)&quot;,536871046]],[&quot;^17&quot;,[1082,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1082,&quot;^F&quot;,1079,536871046]],[&quot;^17&quot;,[1082,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1082,&quot;^W&quot;,1079,536871046]],[&quot;^17&quot;,[1082,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1082,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1082,&quot;^;&quot;,&quot;~u62d35829-438f-4c14-9bd9-ba4942955f8c&quot;,536871046]],[&quot;^17&quot;,[1083,&quot;^R&quot;,&quot;Replication&quot;,536871046]],[&quot;^17&quot;,[1083,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1083,&quot;^F&quot;,1052,536871046]],[&quot;^17&quot;,[1083,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1083,&quot;^W&quot;,1052,536871046]],[&quot;^17&quot;,[1083,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1083,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1083,&quot;^;&quot;,&quot;~u62d35829-8ffa-4d25-b288-6bfb4d6d4cbb&quot;,536871046]],[&quot;^17&quot;,[1084,&quot;^R&quot;,&quot;# Design Issues&quot;,536871046]],[&quot;^17&quot;,[1084,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1084,&quot;^X&quot;,1,536871046]],[&quot;^17&quot;,[1084,&quot;^F&quot;,1065,536871046]],[&quot;^17&quot;,[1084,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1084,&quot;^W&quot;,284,536871046]],[&quot;^17&quot;,[1084,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1084,&quot;^1&gt;&quot;,1,536871046]],[&quot;^17&quot;,[1084,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1084,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1084,&quot;^;&quot;,&quot;~u62d35829-ed70-40bb-a072-420c034565c2&quot;,536871046]],[&quot;^17&quot;,[1085,&quot;^R&quot;,&quot;第二种就是我们常用的横向分片，将一张表的数据切分成多个不相交的子集。这种分片方式要求 DBMS 要找到在大小、负载上能均匀分配的键。常用的分片方案如下：&quot;,536871046]],[&quot;^17&quot;,[1085,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1085,&quot;^F&quot;,1072,536871046]],[&quot;^17&quot;,[1085,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1085,&quot;^W&quot;,1072,536871046]],[&quot;^17&quot;,[1085,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1085,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1085,&quot;^;&quot;,&quot;~u62d35829-7f71-4568-9710-2ac2c37c7f9c&quot;,536871046]],[&quot;^17&quot;,[1086,&quot;^R&quot;,&quot;## Distributed Concurrency Control&quot;,536871046]],[&quot;^17&quot;,[1086,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1086,&quot;^X&quot;,2,536871046]],[&quot;^17&quot;,[1086,&quot;^F&quot;,1075,536871046]],[&quot;^17&quot;,[1086,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1086,&quot;^W&quot;,1055,536871046]],[&quot;^17&quot;,[1086,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1086,&quot;^1&gt;&quot;,2,536871046]],[&quot;^17&quot;,[1086,&quot;^Y&quot;,&quot;^1?&quot;,536871046]],[&quot;^17&quot;,[1086,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1086,&quot;^;&quot;,&quot;~u62d35829-f693-4b48-98e4-7bf740c73b40&quot;,536871046]],[&quot;^17&quot;,[1087,&quot;^R&quot;,&quot;当我们在谈论分布式数据库时，首先明确什么是分布式系统：如果通信成本和通信的可靠性问题不可忽略，就是分布式系统。这也是区分 Parallel DBMS 和 Distributed DBMS 的依据所在\\n![image.png](../assets/image_1657370608079_0.png)&quot;,536871046]],[&quot;^17&quot;,[1087,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1087,&quot;^F&quot;,1048,536871046]],[&quot;^17&quot;,[1087,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1087,&quot;^W&quot;,1048,536871046]],[&quot;^17&quot;,[1087,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1087,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1087,&quot;^;&quot;,&quot;~u62d35829-d284-4194-95a4-cabcc621ee45&quot;,536871046]],[&quot;^17&quot;,[1088,&quot;^R&quot;,&quot;DBMS 如何保证正确性？&quot;,536871046]],[&quot;^17&quot;,[1088,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1088,&quot;^F&quot;,1092,536871046]],[&quot;^17&quot;,[1088,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1088,&quot;^W&quot;,1061,536871046]],[&quot;^17&quot;,[1088,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1088,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1088,&quot;^;&quot;,&quot;~u62d35829-1877-466f-8693-cf7cc73ba838&quot;,536871046]],[&quot;^17&quot;,[1089,&quot;^R&quot;,&quot;在分布式环境下都可能遇到新的挑战。&quot;,536871046]],[&quot;^17&quot;,[1089,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1089,&quot;^F&quot;,1047,536871046]],[&quot;^17&quot;,[1089,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1089,&quot;^W&quot;,1048,536871046]],[&quot;^17&quot;,[1089,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1089,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1089,&quot;^;&quot;,&quot;~u62d35829-30d0-4fcb-a467-808e9708b269&quot;,536871046]],[&quot;^17&quot;,[1090,&quot;^R&quot;,&quot;Node Failures&quot;,536871046]],[&quot;^17&quot;,[1090,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1090,&quot;^F&quot;,1057,536871046]],[&quot;^17&quot;,[1090,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1090,&quot;^W&quot;,1052,536871046]],[&quot;^17&quot;,[1090,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1090,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1090,&quot;^;&quot;,&quot;~u62d35829-2e94-4a54-8a20-94a527d21e07&quot;,536871046]],[&quot;^17&quot;,[1091,&quot;^R&quot;,&quot;如果系统中的每个节点角色、权限相同，那就是同质节点 (Homogeneous Node)；如果不同，就是异质节点。同质节点方案中，每个节点可以执行的任务集合是相同的，只是持有的数据不同，在处理扩容和故障恢复时比较简单；异质节点方案中，每个节点有各自的节点类型，可以执行的任务不同，允许在一个物理节点运行多个虚拟节点，执行不同任务。&quot;,536871046]],[&quot;^17&quot;,[1091,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1091,&quot;^F&quot;,1076,536871046]],[&quot;^17&quot;,[1091,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1091,&quot;^W&quot;,1076,536871046]],[&quot;^17&quot;,[1091,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1091,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1091,&quot;^;&quot;,&quot;~u62d35829-f82b-4fb0-8277-ab8d12363453&quot;,536871046]],[&quot;^17&quot;,[1092,&quot;^R&quot;,&quot;如何在分布式数据库上执行查询？&quot;,536871046]],[&quot;^17&quot;,[1092,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1092,&quot;^F&quot;,1059,536871046]],[&quot;^17&quot;,[1092,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1092,&quot;^W&quot;,1061,536871046]],[&quot;^17&quot;,[1092,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1092,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1092,&quot;^;&quot;,&quot;~u62d35829-57d0-484f-9631-ac024690b556&quot;,536871046]],[&quot;^17&quot;,[1093,&quot;^R&quot;,&quot;如果只存在单表查询，这种方案是最理想的。但问题也很多，如数据分布不均匀，只能在应用层做 Join 等等&quot;,536871046]],[&quot;^17&quot;,[1093,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1093,&quot;^F&quot;,1064,536871046]],[&quot;^17&quot;,[1093,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1093,&quot;^W&quot;,1074,536871046]],[&quot;^17&quot;,[1093,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1093,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1093,&quot;^;&quot;,&quot;~u62d35829-b456-4495-bdec-2f0ef9f9f0fa&quot;,536871046]],[&quot;^17&quot;,[1094,&quot;^R&quot;,&quot;![image.png](../assets/image_1657371809149_0.png)&quot;,536871046]],[&quot;^17&quot;,[1094,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1094,&quot;^F&quot;,1071,536871046]],[&quot;^17&quot;,[1094,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1094,&quot;^W&quot;,1072,536871046]],[&quot;^17&quot;,[1094,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1094,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1094,&quot;^;&quot;,&quot;~u62d35829-ba30-46a9-8a1b-408418cb8fa5&quot;,536871046]],[&quot;^17&quot;,[1095,&quot;^R&quot;,&quot;实际上 Shared Everything 就没有分布式可言了，因此严格来说，只有 Shared Memory、Shared Disk 和 Shared Disk 三种。&quot;,536871046]],[&quot;^17&quot;,[1095,&quot;^P&quot;,&quot;^19&quot;,536871046]],[&quot;^17&quot;,[1095,&quot;^F&quot;,1054,536871046]],[&quot;^17&quot;,[1095,&quot;^Z&quot;,284,536871046]],[&quot;^17&quot;,[1095,&quot;^W&quot;,1065,536871046]],[&quot;^17&quot;,[1095,&quot;^V&quot;,284,536871046]],[&quot;^17&quot;,[1095,&quot;^1@&quot;,true,536871046]],[&quot;^17&quot;,[1095,&quot;^;&quot;,&quot;~u62d35829-00e1-4004-9ff4-bee47018c283&quot;,536871046]],[&quot;^17&quot;,[1097,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[1097,&quot;^@&quot;,false,536871048]],[&quot;^17&quot;,[1097,&quot;^[&quot;,&quot;isolation level&quot;,536871048]],[&quot;^17&quot;,[1097,&quot;^13&quot;,&quot;Isolation Level&quot;,536871048]],[&quot;^17&quot;,[1097,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896872]],[&quot;^17&quot;,[1097,&quot;^B&quot;,1657955666079,536871263]],[&quot;^17&quot;,[1097,&quot;^;&quot;,&quot;~u62d3582c-a938-4b8c-8c9d-5df71acda1ee&quot;,536871230]],[&quot;^17&quot;,[1099,&quot;^R&quot;,&quot;以上 [[Schedules in DBMS]] [[Two phase locking]] [[Timestamp Ordering Concurrency Control]] 讨论的都是可序列化的并发控制方案。可序列化固然是一种很实用的特性，它可以将程序员从并发问题中解脱，但可序列化的方案要求比较严格，会对系统的并发度和性能造成较大的限制，因此我们也许能够用**更弱的数据一致性**保证去改善系统的扩展性。这也是所谓的数据库隔离级别。&quot;,536871048]],[&quot;^17&quot;,[1099,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1099,&quot;^F&quot;,4512,536896872]],[&quot;^17&quot;,[1099,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1099,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1099,&quot;^V&quot;,269,536871048]],[&quot;^17&quot;,[1099,&quot;^V&quot;,305,536871048]],[&quot;^17&quot;,[1099,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1099,&quot;^V&quot;,1098,536871048]],[&quot;^17&quot;,[1099,&quot;^H&quot;,269,536871048]],[&quot;^17&quot;,[1099,&quot;^H&quot;,305,536871048]],[&quot;^17&quot;,[1099,&quot;^H&quot;,1098,536871048]],[&quot;^17&quot;,[1099,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1099,&quot;^;&quot;,&quot;~u62d35829-5549-4f53-857d-bbf6559b244d&quot;,536871048]],[&quot;^17&quot;,[1100,&quot;^R&quot;,&quot;更弱的数据库隔离级别将事务修改的数据暴露给其它事务，以此提高整体并发度，但这种并发度可能造成一系列问题，如 Dirty Reads/Writes (脏读、脏写)、Unrepeatable Reads (不可重复读)、Phantom Reads (幻读) 等等。&quot;,536871048]],[&quot;^17&quot;,[1100,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1100,&quot;^F&quot;,1099,536871048]],[&quot;^17&quot;,[1100,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1100,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1100,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1100,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1100,&quot;^;&quot;,&quot;~u62d35829-e8cf-4f5a-b9ff-f7d9bb031479&quot;,536871048]],[&quot;^17&quot;,[1101,&quot;^R&quot;,&quot;常见的数据库隔离级别从弱到强依次包括：Read Uncommitted -&gt; Read Committed -&gt; Repeatable Reads -&gt; Serializable，总结如下表：\\n![image.png](../assets/image_1657290284330_0.png)\\n此表总结不完全，详见 DDIA 的 Transactions&quot;,536871048]],[&quot;^17&quot;,[1101,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1101,&quot;^F&quot;,1100,536871048]],[&quot;^17&quot;,[1101,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1101,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1101,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1101,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1101,&quot;^;&quot;,&quot;~u62d35829-fd8a-480f-95c2-711f0d944a6f&quot;,536871048]],[&quot;^17&quot;,[1102,&quot;^R&quot;,&quot;![image.png](../assets/image_1657290381814_0.png)&quot;,536871048]],[&quot;^17&quot;,[1102,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1102,&quot;^F&quot;,1101,536871048]],[&quot;^17&quot;,[1102,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1102,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1102,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1102,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1102,&quot;^;&quot;,&quot;~u62d35829-bfbf-4c6a-ac52-957c1315bec8&quot;,536871048]],[&quot;^17&quot;,[1103,&quot;^R&quot;,&quot;![image.png](../assets/image_1657290398348_0.png)&quot;,536871048]],[&quot;^17&quot;,[1103,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1103,&quot;^F&quot;,1102,536871048]],[&quot;^17&quot;,[1103,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1103,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1103,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1103,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1103,&quot;^;&quot;,&quot;~u62d35829-7652-4084-b10a-d93430229a5f&quot;,536871048]],[&quot;^17&quot;,[1104,&quot;^R&quot;,&quot;**Conclusion**\\n任意一种并发控制都可以被分解成前两节课中提到的基本概念。&quot;,536871048]],[&quot;^17&quot;,[1104,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1104,&quot;^F&quot;,1103,536871048]],[&quot;^17&quot;,[1104,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1104,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1104,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1104,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1104,&quot;^;&quot;,&quot;~u62d35829-d055-4324-8f61-f73acd02ca97&quot;,536871048]],[&quot;^17&quot;,[1105,&quot;^R&quot;,&quot;&quot;,536871048]],[&quot;^17&quot;,[1105,&quot;^P&quot;,&quot;^19&quot;,536871048]],[&quot;^17&quot;,[1105,&quot;^F&quot;,1104,536871048]],[&quot;^17&quot;,[1105,&quot;^Z&quot;,1097,536871048]],[&quot;^17&quot;,[1105,&quot;^W&quot;,1097,536871048]],[&quot;^17&quot;,[1105,&quot;^V&quot;,1097,536871048]],[&quot;^17&quot;,[1105,&quot;^1@&quot;,true,536871048]],[&quot;^17&quot;,[1105,&quot;^;&quot;,&quot;~u62d35829-9003-4923-bdb3-5968910c93cc&quot;,536871048]],[&quot;^17&quot;,[1109,&quot;^R&quot;,&quot;Full Tuple：可以避免在后续操作中再次获取数据，但需要占用更多的空间&quot;,536871050]],[&quot;^17&quot;,[1109,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1109,&quot;^F&quot;,1145,536871050]],[&quot;^17&quot;,[1109,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1109,&quot;^W&quot;,1145,536871050]],[&quot;^17&quot;,[1109,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1109,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1109,&quot;^;&quot;,&quot;~u62d35829-df1a-4560-afce-73cf84348578&quot;,536871050]],[&quot;^17&quot;,[1110,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500908416_0.png)&quot;,536871050]],[&quot;^17&quot;,[1110,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1110,&quot;^F&quot;,1150,536871050]],[&quot;^17&quot;,[1110,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1110,&quot;^W&quot;,1112,536871050]],[&quot;^17&quot;,[1110,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1110,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1110,&quot;^;&quot;,&quot;~u62d35829-f3c1-485f-8b28-ba6e7b77fc73&quot;,536871050]],[&quot;^17&quot;,[1111,&quot;^R&quot;,&quot;总是选择小表作为 Outer Table&quot;,536871050]],[&quot;^17&quot;,[1111,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1111,&quot;^F&quot;,1122,536871050]],[&quot;^17&quot;,[1111,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1111,&quot;^W&quot;,1122,536871050]],[&quot;^17&quot;,[1111,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1111,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1111,&quot;^;&quot;,&quot;~u62d35829-4c3d-42b9-9f1f-f277ae316697&quot;,536871050]],[&quot;^17&quot;,[1112,&quot;^R&quot;,&quot;## Grace Hash Join\\nid:: 62bc327d-34f8-4864-b7e6-0ad3fb6116ec\\n当两个 table 都无法放入 memory 时，我们可以：&quot;,536871050]],[&quot;^17&quot;,[1112,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1112,&quot;^X&quot;,2,536871050]],[&quot;^17&quot;,[1112,&quot;^F&quot;,1164,536871050]],[&quot;^17&quot;,[1112,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1112,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1112,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1112,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bc327d-34f8-4864-b7e6-0ad3fb6116ec&quot;],536871050]],[&quot;^17&quot;,[1112,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871050]],[&quot;^17&quot;,[1112,&quot;^1&gt;&quot;,2,536871050]],[&quot;^17&quot;,[1112,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1112,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1112,&quot;^;&quot;,&quot;~u62bc327d-34f8-4864-b7e6-0ad3fb6116ec&quot;,536871050]],[&quot;^17&quot;,[1113,&quot;^R&quot;,&quot;N = 500, n = 40,000&quot;,536871050]],[&quot;^17&quot;,[1113,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1113,&quot;^F&quot;,1123,536871050]],[&quot;^17&quot;,[1113,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1113,&quot;^W&quot;,1157,536871050]],[&quot;^17&quot;,[1113,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1113,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1113,&quot;^;&quot;,&quot;~u62d35829-e77d-4dfb-925e-2c0f0dddf878&quot;,536871050]],[&quot;^17&quot;,[1114,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500829916_0.png)&quot;,536871050]],[&quot;^17&quot;,[1114,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1114,&quot;^F&quot;,1115,536871050]],[&quot;^17&quot;,[1114,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1114,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1114,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1114,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1114,&quot;^;&quot;,&quot;~u62d35829-65dd-4c82-a7d5-66d567cce5f2&quot;,536871050]],[&quot;^17&quot;,[1115,&quot;^R&quot;,&quot;Phase 2: Probe\\n扫描 Inner Table，使用 hash function  获取每个 tuple 在 T 中的位置，在该位置上找到配对成功的 tuple(s)&quot;,536871050]],[&quot;^17&quot;,[1115,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1115,&quot;^F&quot;,1172,536871050]],[&quot;^17&quot;,[1115,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1115,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1115,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1115,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1115,&quot;^;&quot;,&quot;~u62d35829-ea09-4b13-93a4-1932702a27d0&quot;,536871050]],[&quot;^17&quot;,[1116,&quot;^R&quot;,&quot;成本：\\n M+(m×N)=1000+(100000×500)=50,000,100 I/Os\\n假设 0.1 ms/IO，则总时长约为 1.3 小时\\n如果我们使用小表 S 作为 Outer Table，那么：\\n N+(n×M)=500+(40000×1000)=40,000,500 I/Os\\n则总时长约为 1.1 小时。&quot;,536871050]],[&quot;^17&quot;,[1116,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1116,&quot;^F&quot;,1157,536871050]],[&quot;^17&quot;,[1116,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1116,&quot;^W&quot;,1176,536871050]],[&quot;^17&quot;,[1116,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1116,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1116,&quot;^;&quot;,&quot;~u62d35829-2057-4210-b7aa-0e06b1604c0a&quot;,536871050]],[&quot;^17&quot;,[1117,&quot;^R&quot;,&quot;Simple&quot;,536871050]],[&quot;^17&quot;,[1117,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1117,&quot;^F&quot;,1118,536871050]],[&quot;^17&quot;,[1117,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1117,&quot;^W&quot;,1118,536871050]],[&quot;^17&quot;,[1117,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1117,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1117,&quot;^;&quot;,&quot;~u62d35829-b2a7-4b79-8f82-99c7e0f3811e&quot;,536871050]],[&quot;^17&quot;,[1118,&quot;^R&quot;,&quot;Nested Loop Join&quot;,536871050]],[&quot;^17&quot;,[1118,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1118,&quot;^F&quot;,1152,536871050]],[&quot;^17&quot;,[1118,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1118,&quot;^W&quot;,1152,536871050]],[&quot;^17&quot;,[1118,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1118,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1118,&quot;^;&quot;,&quot;~u62d35829-eacc-47df-9910-977919c0dd97&quot;,536871050]],[&quot;^17&quot;,[1119,&quot;^R&quot;,&quot;Tuple Identifier：是列存储数据库的理想选择，占用最少的空间，但之后需要重新获取数据&quot;,536871050]],[&quot;^17&quot;,[1119,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1119,&quot;^F&quot;,1109,536871050]],[&quot;^17&quot;,[1119,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1119,&quot;^W&quot;,1145,536871050]],[&quot;^17&quot;,[1119,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1119,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1119,&quot;^;&quot;,&quot;~u62d35829-412d-4b13-873f-65e5db762c62&quot;,536871050]],[&quot;^17&quot;,[1120,&quot;^R&quot;,&quot;当 tables 中的一个或者两个都已经按 Join Key 排好序，如聚簇索引&quot;,536871050]],[&quot;^17&quot;,[1120,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1120,&quot;^F&quot;,1169,536871050]],[&quot;^17&quot;,[1120,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1120,&quot;^W&quot;,1169,536871050]],[&quot;^17&quot;,[1120,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1120,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1120,&quot;^;&quot;,&quot;~u62d35829-b3dd-48a8-8b40-8c59937956f4&quot;,536871050]],[&quot;^17&quot;,[1121,&quot;^R&quot;,&quot;Phase #1: Build\\n将两个 tables 使用同样的 hash function 进行 partition，使得可能配对成功的 tuples 进入到相同的Partition&quot;,536871050]],[&quot;^17&quot;,[1121,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1121,&quot;^F&quot;,1112,536871050]],[&quot;^17&quot;,[1121,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1121,&quot;^W&quot;,1112,536871050]],[&quot;^17&quot;,[1121,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1121,&quot;^V&quot;,1107,536871050]],[&quot;^17&quot;,[1121,&quot;^H&quot;,1107,536871050]],[&quot;^17&quot;,[1121,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1121,&quot;^;&quot;,&quot;~u62d35829-601b-4f68-b006-994826518076&quot;,536871050]],[&quot;^17&quot;,[1122,&quot;^R&quot;,&quot;从上面的讨论中，我们可以导出以下几个结论：&quot;,536871050]],[&quot;^17&quot;,[1122,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1122,&quot;^F&quot;,1175,536871050]],[&quot;^17&quot;,[1122,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1122,&quot;^W&quot;,1173,536871050]],[&quot;^17&quot;,[1122,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1122,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1122,&quot;^;&quot;,&quot;~u62d35829-b295-4a5d-bfec-187f471627f7&quot;,536871050]],[&quot;^17&quot;,[1123,&quot;^R&quot;,&quot;M  = 1000， m = 100,000&quot;,536871050]],[&quot;^17&quot;,[1123,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1123,&quot;^F&quot;,1157,536871050]],[&quot;^17&quot;,[1123,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1123,&quot;^W&quot;,1157,536871050]],[&quot;^17&quot;,[1123,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1123,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1123,&quot;^;&quot;,&quot;~u62d35829-658d-41af-89f4-30211577ea55&quot;,536871050]],[&quot;^17&quot;,[1124,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500919923_0.png)&quot;,536871050]],[&quot;^17&quot;,[1124,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1124,&quot;^F&quot;,1110,536871050]],[&quot;^17&quot;,[1124,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1124,&quot;^W&quot;,1112,536871050]],[&quot;^17&quot;,[1124,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1124,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1124,&quot;^;&quot;,&quot;~u62d35829-7e36-4b2c-98ac-9526b4cd5bb3&quot;,536871050]],[&quot;^17&quot;,[1125,&quot;^R&quot;,&quot;Phase #1: Sort\\n根据 Join Keys 对 tables 进行排序\\n可以使用外部归并排序&quot;,536871050]],[&quot;^17&quot;,[1125,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1125,&quot;^F&quot;,1128,536871050]],[&quot;^17&quot;,[1125,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1125,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1125,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1125,&quot;^V&quot;,1107,536871050]],[&quot;^17&quot;,[1125,&quot;^H&quot;,1107,536871050]],[&quot;^17&quot;,[1125,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1125,&quot;^;&quot;,&quot;~u62d35829-d549-4ff8-849a-ce0dedf70e06&quot;,536871050]],[&quot;^17&quot;,[1126,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500668154_0.png)&quot;,536871050]],[&quot;^17&quot;,[1126,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1126,&quot;^F&quot;,1144,536871050]],[&quot;^17&quot;,[1126,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1126,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1126,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1126,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1126,&quot;^;&quot;,&quot;~u62d35829-de0f-48d7-95af-59206fdcf2a7&quot;,536871050]],[&quot;^17&quot;,[1127,&quot;^R&quot;,&quot;![image.png](../assets/image_1656499748681_0.png)&quot;,536871050]],[&quot;^17&quot;,[1127,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1127,&quot;^F&quot;,1153,536871050]],[&quot;^17&quot;,[1127,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1127,&quot;^W&quot;,1153,536871050]],[&quot;^17&quot;,[1127,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1127,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1127,&quot;^;&quot;,&quot;~u62d35829-1f5d-49ad-8a32-010a038221b0&quot;,536871050]],[&quot;^17&quot;,[1128,&quot;^R&quot;,&quot;Sort-Merge Join 顾名思义，分为两个阶段：&quot;,536871050]],[&quot;^17&quot;,[1128,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1128,&quot;^F&quot;,1135,536871050]],[&quot;^17&quot;,[1128,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1128,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1128,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1128,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1128,&quot;^;&quot;,&quot;~u62d35829-5239-43ff-882d-52bc89fd6315&quot;,536871050]],[&quot;^17&quot;,[1129,&quot;^R&quot;,&quot;之前的两种 Nested Loop Join 速度慢的原因在于，需要对 Inner Table 作多次全表扫描，若 Inner Table 在 Join Attributes 上有索引或者临时建一个索引 (只需全表扫描一次)：\\n![image.png](../assets/image_1656500568819_0.png)&quot;,536871050]],[&quot;^17&quot;,[1129,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1129,&quot;^F&quot;,1173,536871050]],[&quot;^17&quot;,[1129,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1129,&quot;^W&quot;,1173,536871050]],[&quot;^17&quot;,[1129,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1129,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1129,&quot;^;&quot;,&quot;~u62d35829-9480-4b29-966d-4a89ae56878c&quot;,536871050]],[&quot;^17&quot;,[1130,&quot;^R&quot;,&quot;SQL 的输出必须按 Join Key 排好序&quot;,536871050]],[&quot;^17&quot;,[1130,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1130,&quot;^F&quot;,1120,536871050]],[&quot;^17&quot;,[1130,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1130,&quot;^W&quot;,1169,536871050]],[&quot;^17&quot;,[1130,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1130,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1130,&quot;^;&quot;,&quot;~u62d35829-bd3f-4e9b-965f-52603382abdc&quot;,536871050]],[&quot;^17&quot;,[1131,&quot;^R&quot;,&quot;例：\\n假设：\\nM = 1000, m = 100,000\\nN = 500, n = 40,000\\n成本：\\n使用大表 M 作为 Outer Table，成本为：\\nM+(M×N)=1000+(1000×500)=501,000 I/Os\\n总共用时约 50 秒。\\n使用小表 S 作为 Outer Table，成本为：\\nOsN+(N×M)=500+(1000×500)=500,500 I/Os\\n以上的计算都假设 DBMS 只为 Nested Loop Join Algorithm 分配 3 块 buffers，其中 2 块用于读入，1 块用于写出；若 DBMS 能为算法分配 B 块 buffers，则可以使用 B-2 块来读入 Outer Table，1 块用于读入 Inner Table，1 块用于写出，此时，成本为：&quot;,536871050]],[&quot;^17&quot;,[1131,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1131,&quot;^F&quot;,1136,536871050]],[&quot;^17&quot;,[1131,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1131,&quot;^W&quot;,1153,536871050]],[&quot;^17&quot;,[1131,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1131,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1131,&quot;^;&quot;,&quot;~u62d35829-bbdb-4175-a0f9-b88e5f286310&quot;,536871050]],[&quot;^17&quot;,[1132,&quot;^R&quot;,&quot;如果 Outer Table 能够直接放入内存中，则成本为  \\n![image.png](../assets/image_1656500534115_0.png)&quot;,536871050]],[&quot;^17&quot;,[1132,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1132,&quot;^F&quot;,1131,536871050]],[&quot;^17&quot;,[1132,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1132,&quot;^W&quot;,1153,536871050]],[&quot;^17&quot;,[1132,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1132,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1132,&quot;^;&quot;,&quot;~u62d35829-790a-4262-97ba-d73a784c3c0b&quot;,536871050]],[&quot;^17&quot;,[1133,&quot;^R&quot;,&quot;|Algorithm|IO cost|Example |\\n|Simple Nested Loop Join|M+(m×N)|1.3 hours|\\n|Block Nested Loop Join|M+(M×N)|50 secs|\\n|Index Nested Loop Join|M+(m×C)|20 secs|\\n|Sort-Merge Join|M + N + (sort  cost)|0.59 secs|\\n|Hash Join|3(M + N)|0.45 secs|&quot;,536871050]],[&quot;^17&quot;,[1133,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1133,&quot;^F&quot;,1147,536871050]],[&quot;^17&quot;,[1133,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1133,&quot;^W&quot;,1147,536871050]],[&quot;^17&quot;,[1133,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1133,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1133,&quot;^;&quot;,&quot;~u62d35829-f9a5-4cef-83e2-6ae2bfc96ea7&quot;,536871050]],[&quot;^17&quot;,[1134,&quot;^R&quot;,&quot;尽量多地将 Outer Table 缓存在内存中&quot;,536871050]],[&quot;^17&quot;,[1134,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1134,&quot;^F&quot;,1111,536871050]],[&quot;^17&quot;,[1134,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1134,&quot;^W&quot;,1122,536871050]],[&quot;^17&quot;,[1134,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1134,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1134,&quot;^;&quot;,&quot;~u62d35829-9cda-49f3-b3ec-04d37ddcc222&quot;,536871050]],[&quot;^17&quot;,[1135,&quot;^R&quot;,&quot;## Sort-Merge Join\\nid:: 62bc3180-072c-41fb-ac2c-acdaef2178a5&quot;,536871050]],[&quot;^17&quot;,[1135,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1135,&quot;^X&quot;,2,536871050]],[&quot;^17&quot;,[1135,&quot;^F&quot;,1163,536871050]],[&quot;^17&quot;,[1135,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1135,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1135,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1135,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bc3180-072c-41fb-ac2c-acdaef2178a5&quot;],536871050]],[&quot;^17&quot;,[1135,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871050]],[&quot;^17&quot;,[1135,&quot;^1&gt;&quot;,2,536871050]],[&quot;^17&quot;,[1135,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1135,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1135,&quot;^;&quot;,&quot;~u62bc3180-072c-41fb-ac2c-acdaef2178a5&quot;,536871050]],[&quot;^17&quot;,[1136,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500482496_0.png)&quot;,536871050]],[&quot;^17&quot;,[1136,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1136,&quot;^F&quot;,1127,536871050]],[&quot;^17&quot;,[1136,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1136,&quot;^W&quot;,1153,536871050]],[&quot;^17&quot;,[1136,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1136,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1136,&quot;^;&quot;,&quot;~u62d35829-ad69-41ae-b3e0-c1e5f6b0ebbf&quot;,536871050]],[&quot;^17&quot;,[1137,&quot;^R&quot;,&quot;**Simple Nested Loop Join**&quot;,536871050]],[&quot;^17&quot;,[1137,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1137,&quot;^F&quot;,1146,536871050]],[&quot;^17&quot;,[1137,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1137,&quot;^W&quot;,1146,536871050]],[&quot;^17&quot;,[1137,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1137,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1137,&quot;^;&quot;,&quot;~u62d35829-2e94-4931-be82-478aea90fe6c&quot;,536871050]],[&quot;^17&quot;,[1138,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500927818_0.png)&quot;,536871050]],[&quot;^17&quot;,[1138,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1138,&quot;^F&quot;,1124,536871050]],[&quot;^17&quot;,[1138,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1138,&quot;^W&quot;,1112,536871050]],[&quot;^17&quot;,[1138,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1138,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1138,&quot;^;&quot;,&quot;~u62d35829-f181-4bcb-9d12-52ce4b1eb094&quot;,536871050]],[&quot;^17&quot;,[1139,&quot;^R&quot;,&quot;&quot;,536871050]],[&quot;^17&quot;,[1139,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1139,&quot;^F&quot;,1162,536871050]],[&quot;^17&quot;,[1139,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1139,&quot;^W&quot;,1147,536871050]],[&quot;^17&quot;,[1139,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1139,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1139,&quot;^;&quot;,&quot;~u62d35829-4fac-4515-b56b-dfd0344b898d&quot;,536871050]],[&quot;^17&quot;,[1140,&quot;^R&quot;,&quot;&quot;,536871050]],[&quot;^17&quot;,[1140,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1140,&quot;^F&quot;,1147,536871050]],[&quot;^17&quot;,[1140,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1140,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1140,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1140,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1140,&quot;^;&quot;,&quot;~u62d35829-5471-46fa-a0de-028007641415&quot;,536871050]],[&quot;^17&quot;,[1141,&quot;^R&quot;,&quot;Block&quot;,536871050]],[&quot;^17&quot;,[1141,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1141,&quot;^F&quot;,1117,536871050]],[&quot;^17&quot;,[1141,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1141,&quot;^W&quot;,1118,536871050]],[&quot;^17&quot;,[1141,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1141,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1141,&quot;^;&quot;,&quot;~u62d35829-1fac-4764-9e9a-8b4aa752542d&quot;,536871050]],[&quot;^17&quot;,[1142,&quot;^R&quot;,&quot;query&quot;,536871050]],[&quot;^17&quot;,[1142,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1142,&quot;^F&quot;,1174,536871050]],[&quot;^17&quot;,[1142,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1142,&quot;^W&quot;,1160,536871050]],[&quot;^17&quot;,[1142,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1142,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1142,&quot;^;&quot;,&quot;~u62d35829-8340-4231-9786-bb2b6fcb2451&quot;,536871050]],[&quot;^17&quot;,[1143,&quot;^R&quot;,&quot;但 Basic Hash Join Algorithm 有一个弱点，就是有可能 T 无法被放进内存中，由于 hash table 的查询一般都是随机查询，因此在 Probe 阶段，T 可能在 memory 与 disk 中来回移动。&quot;,536871050]],[&quot;^17&quot;,[1143,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1143,&quot;^F&quot;,1145,536871050]],[&quot;^17&quot;,[1143,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1143,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1143,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1143,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1143,&quot;^;&quot;,&quot;~u62d35829-d63f-4eb9-b8fd-e621d26c356a&quot;,536871050]],[&quot;^17&quot;,[1144,&quot;^R&quot;,&quot;Phase #2: Merge\\n同时从两个 tables 的一端开始扫描，对 tuples 配对\\n如果 Join Keys 并不唯一，则有可能需要 backtrack&quot;,536871050]],[&quot;^17&quot;,[1144,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1144,&quot;^F&quot;,1125,536871050]],[&quot;^17&quot;,[1144,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1144,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1144,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1144,&quot;^V&quot;,1108,536871050]],[&quot;^17&quot;,[1144,&quot;^H&quot;,1108,536871050]],[&quot;^17&quot;,[1144,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1144,&quot;^;&quot;,&quot;~u62d35829-7937-4366-bdef-04dfff9731e0&quot;,536871050]],[&quot;^17&quot;,[1145,&quot;^R&quot;,&quot;这里明确 T 的定义：\\nKey：Join Attributes\\nValue：根据不同的查询要求及实现来变化&quot;,536871050]],[&quot;^17&quot;,[1145,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1145,&quot;^F&quot;,1114,536871050]],[&quot;^17&quot;,[1145,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1145,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1145,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1145,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1145,&quot;^;&quot;,&quot;~u62d35829-06bd-40ce-85e0-19529fee03c4&quot;,536871050]],[&quot;^17&quot;,[1146,&quot;^R&quot;,&quot;## Nested Loop Join\\nid:: 62bc2d61-ba48-414c-a568-ace2ed40aec0&quot;,536871050]],[&quot;^17&quot;,[1146,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1146,&quot;^X&quot;,2,536871050]],[&quot;^17&quot;,[1146,&quot;^F&quot;,1158,536871050]],[&quot;^17&quot;,[1146,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1146,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1146,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1146,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bc2d61-ba48-414c-a568-ace2ed40aec0&quot;],536871050]],[&quot;^17&quot;,[1146,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871050]],[&quot;^17&quot;,[1146,&quot;^1&gt;&quot;,2,536871050]],[&quot;^17&quot;,[1146,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1146,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1146,&quot;^;&quot;,&quot;~u62bc2d61-ba48-414c-a568-ace2ed40aec0&quot;,536871050]],[&quot;^17&quot;,[1147,&quot;^R&quot;,&quot;## Summary&quot;,536871050]],[&quot;^17&quot;,[1147,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1147,&quot;^X&quot;,2,536871050]],[&quot;^17&quot;,[1147,&quot;^F&quot;,1112,536871050]],[&quot;^17&quot;,[1147,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1147,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1147,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1147,&quot;^1&gt;&quot;,2,536871050]],[&quot;^17&quot;,[1147,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1147,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1147,&quot;^;&quot;,&quot;~u62d35829-8999-424d-a0d8-64146856e3e9&quot;,536871050]],[&quot;^17&quot;,[1148,&quot;^R&quot;,&quot;核心思想：\\n如果分别来自 R 和 S 中的两个 tuples 满足 Join 的条件，它们的 Join Attributes 必然相等，那么它们的 Join Attributes 经过某个 hash function 得到的值也必然相等，因此 Join 的时候，我们只需要对两个 tables 中 hash 到同样值的 tuples 分别执行 Join 操作即可。\\nBasic Hash Join Algorithm\\n本算法分为两个阶段：&quot;,536871050]],[&quot;^17&quot;,[1148,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1148,&quot;^F&quot;,1164,536871050]],[&quot;^17&quot;,[1148,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1148,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1148,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1148,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1148,&quot;^;&quot;,&quot;~u62d35829-daf3-43b1-a2e5-a1400e9dc256&quot;,536871050]],[&quot;^17&quot;,[1149,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500753390_0.png)&quot;,536871050]],[&quot;^17&quot;,[1149,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1149,&quot;^F&quot;,1156,536871050]],[&quot;^17&quot;,[1149,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1149,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1149,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1149,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1149,&quot;^;&quot;,&quot;~u62d35829-56e3-4995-baf4-f1cad530fdb8&quot;,536871050]],[&quot;^17&quot;,[1150,&quot;^R&quot;,&quot;Phase #2: Prob\\n对两个 tables 的每一对 partition 分别进行 Join&quot;,536871050]],[&quot;^17&quot;,[1150,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1150,&quot;^F&quot;,1121,536871050]],[&quot;^17&quot;,[1150,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1150,&quot;^W&quot;,1112,536871050]],[&quot;^17&quot;,[1150,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1150,&quot;^V&quot;,1108,536871050]],[&quot;^17&quot;,[1150,&quot;^H&quot;,1108,536871050]],[&quot;^17&quot;,[1150,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1150,&quot;^;&quot;,&quot;~u62d35829-0d56-4f64-a208-78451c20fa12&quot;,536871050]],[&quot;^17&quot;,[1151,&quot;^R&quot;,&quot;Hash Join&quot;,536871050]],[&quot;^17&quot;,[1151,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1151,&quot;^F&quot;,1155,536871050]],[&quot;^17&quot;,[1151,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1151,&quot;^W&quot;,1152,536871050]],[&quot;^17&quot;,[1151,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1151,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1151,&quot;^;&quot;,&quot;~u62d35829-6c0a-48f6-a2a8-c868f2097061&quot;,536871050]],[&quot;^17&quot;,[1152,&quot;^R&quot;,&quot;本节要介绍的 Join Algorithms 罗列如下：&quot;,536871050]],[&quot;^17&quot;,[1152,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1152,&quot;^F&quot;,1167,536871050]],[&quot;^17&quot;,[1152,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1152,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1152,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1152,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1152,&quot;^;&quot;,&quot;~u62d35829-92e9-493f-9d72-78932128c599&quot;,536871050]],[&quot;^17&quot;,[1153,&quot;^R&quot;,&quot;**Block Nested Loop Join**&quot;,536871050]],[&quot;^17&quot;,[1153,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1153,&quot;^F&quot;,1176,536871050]],[&quot;^17&quot;,[1153,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1153,&quot;^W&quot;,1146,536871050]],[&quot;^17&quot;,[1153,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1153,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1153,&quot;^;&quot;,&quot;~u62d35829-41fe-4af3-9c50-4d7761904983&quot;,536871050]],[&quot;^17&quot;,[1154,&quot;^R&quot;,&quot;我们可以在 Join 的时候将所有非 Join Attributes 都放入新的 tuple 中，这样 Join 之后的操作都不需要从 tables 中重新获取数据：\\n![image.png](../assets/image_1656499440367_0.png)\\n也可以在 Join 的时候只复制 Join Attributes 以及 record id，后续操作自行根据 record id 去 tables 中获取相关数据。对于列存储数据库，这是比较理想的处理方式，被称为 Late Materialization。&quot;,536871050]],[&quot;^17&quot;,[1154,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1154,&quot;^F&quot;,1160,536871050]],[&quot;^17&quot;,[1154,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1154,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1154,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1154,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1154,&quot;^;&quot;,&quot;~u62d35829-e97e-42a8-a244-83982dcf66de&quot;,536871050]],[&quot;^17&quot;,[1155,&quot;^R&quot;,&quot;Sort-Merge Join&quot;,536871050]],[&quot;^17&quot;,[1155,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1155,&quot;^F&quot;,1118,536871050]],[&quot;^17&quot;,[1155,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1155,&quot;^W&quot;,1152,536871050]],[&quot;^17&quot;,[1155,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1155,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1155,&quot;^;&quot;,&quot;~u62d35829-7150-417c-8208-1c444f0b289c&quot;,536871050]],[&quot;^17&quot;,[1156,&quot;^R&quot;,&quot;![image.png](../assets/image_1656500685114_0.png)&quot;,536871050]],[&quot;^17&quot;,[1156,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1156,&quot;^F&quot;,1126,536871050]],[&quot;^17&quot;,[1156,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1156,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1156,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1156,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1156,&quot;^;&quot;,&quot;~u62d35829-b2ad-416d-8674-d6e1af4aad0a&quot;,536871050]],[&quot;^17&quot;,[1157,&quot;^R&quot;,&quot;**举例：**\\n假设：&quot;,536871050]],[&quot;^17&quot;,[1157,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1157,&quot;^F&quot;,1176,536871050]],[&quot;^17&quot;,[1157,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1157,&quot;^W&quot;,1176,536871050]],[&quot;^17&quot;,[1157,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1157,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1157,&quot;^;&quot;,&quot;~u62d35829-c7b6-4c19-9655-8815419c64fc&quot;,536871050]],[&quot;^17&quot;,[1158,&quot;^R&quot;,&quot;不同的 Join Algorithms 有各自的适用场景，需要具体问题具体分析。&quot;,536871050]],[&quot;^17&quot;,[1158,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1158,&quot;^F&quot;,1152,536871050]],[&quot;^17&quot;,[1158,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1158,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1158,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1158,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1158,&quot;^;&quot;,&quot;~u62d35829-a0fc-4618-8705-244edd9c8772&quot;,536871050]],[&quot;^17&quot;,[1159,&quot;^R&quot;,&quot;query processing model&quot;,536871050]],[&quot;^17&quot;,[1159,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1159,&quot;^F&quot;,1160,536871050]],[&quot;^17&quot;,[1159,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1159,&quot;^W&quot;,1160,536871050]],[&quot;^17&quot;,[1159,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1159,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1159,&quot;^;&quot;,&quot;~u62d35829-f61d-4053-82fd-c622d2dc47f4&quot;,536871050]],[&quot;^17&quot;,[1160,&quot;^R&quot;,&quot;Join 操作的结果 tuple 中除了 Join Attributes 之外的信息与多个因素相关：&quot;,536871050]],[&quot;^17&quot;,[1160,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1160,&quot;^F&quot;,1166,536871050]],[&quot;^17&quot;,[1160,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1160,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1160,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1160,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1160,&quot;^;&quot;,&quot;~u62d35829-7059-48c9-a0fb-27a78cc00984&quot;,536871050]],[&quot;^17&quot;,[1161,&quot;^R&quot;,&quot;Index&quot;,536871050]],[&quot;^17&quot;,[1161,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1161,&quot;^F&quot;,1141,536871050]],[&quot;^17&quot;,[1161,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1161,&quot;^W&quot;,1118,536871050]],[&quot;^17&quot;,[1161,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1161,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1161,&quot;^;&quot;,&quot;~u62d35829-ce07-47d6-ac6d-a9bf35a4c4ee&quot;,536871050]],[&quot;^17&quot;,[1162,&quot;^R&quot;,&quot;Hash Join 在绝大多数场景下是最优选择，但当查询包含 ORDER BY 或者数据极其不均匀的情况下，Sort-Merge Join 会是更好的选择，DBMSs 在执行查询时，可能使用其中的一种到两种方法。&quot;,536871050]],[&quot;^17&quot;,[1162,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1162,&quot;^F&quot;,1133,536871050]],[&quot;^17&quot;,[1162,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1162,&quot;^W&quot;,1147,536871050]],[&quot;^17&quot;,[1162,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1162,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1162,&quot;^;&quot;,&quot;~u62d35829-8e60-47a5-bbc6-9fb6e85b452c&quot;,536871050]],[&quot;^17&quot;,[1163,&quot;^R&quot;,&quot;# Join Algorithms&quot;,536871050]],[&quot;^17&quot;,[1163,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1163,&quot;^X&quot;,1,536871050]],[&quot;^17&quot;,[1163,&quot;^F&quot;,1178,536871050]],[&quot;^17&quot;,[1163,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1163,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1163,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1163,&quot;^1&gt;&quot;,1,536871050]],[&quot;^17&quot;,[1163,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1163,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1163,&quot;^;&quot;,&quot;~u62d35829-a344-4956-809f-a5a1af759c8d&quot;,536871050]],[&quot;^17&quot;,[1164,&quot;^R&quot;,&quot;## Hash Join\\nid:: 62bc3227-df55-47ae-9ce5-9690a24d36c5&quot;,536871050]],[&quot;^17&quot;,[1164,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1164,&quot;^X&quot;,2,536871050]],[&quot;^17&quot;,[1164,&quot;^F&quot;,1135,536871050]],[&quot;^17&quot;,[1164,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1164,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1164,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1164,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bc3227-df55-47ae-9ce5-9690a24d36c5&quot;],536871050]],[&quot;^17&quot;,[1164,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871050]],[&quot;^17&quot;,[1164,&quot;^1&gt;&quot;,2,536871050]],[&quot;^17&quot;,[1164,&quot;^Y&quot;,&quot;^1?&quot;,536871050]],[&quot;^17&quot;,[1164,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1164,&quot;^;&quot;,&quot;~u62bc3227-df55-47ae-9ce5-9690a24d36c5&quot;,536871050]],[&quot;^17&quot;,[1165,&quot;^R&quot;,&quot;S 中有 N 个 pages，n 个 tuples&quot;,536871050]],[&quot;^17&quot;,[1165,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1165,&quot;^F&quot;,1171,536871050]],[&quot;^17&quot;,[1165,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1165,&quot;^W&quot;,1167,536871050]],[&quot;^17&quot;,[1165,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1165,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1165,&quot;^;&quot;,&quot;~u62d35829-d885-45d2-921f-2639c56b9a17&quot;,536871050]],[&quot;^17&quot;,[1166,&quot;^R&quot;,&quot;**Join Operator Output**\\n逻辑上 Join 的操作的结果是：对任意一个 tuple  和任意一个在 Join Attributes 上对应的 tuple  s ∈ S ，将 r 和 s 串联成一个新的 tuple：\\n![image.png](../assets/image_1656499362528_0.png)&quot;,536871050]],[&quot;^17&quot;,[1166,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1166,&quot;^F&quot;,1177,536871050]],[&quot;^17&quot;,[1166,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1166,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1166,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1166,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1166,&quot;^;&quot;,&quot;~u62d35829-3d43-468f-bb21-99d536e85675&quot;,536871050]],[&quot;^17&quot;,[1167,&quot;^R&quot;,&quot;**I/O Cost Analysis**\\n由于数据库中的数据量通常较大，无法一次性载入内存，因此 Join Algorithm 的设计目的，在于减少磁盘 I/O，因此我们衡量 Join Algorithm 好坏的标准，就是 I/O 的数量。此外我们不需要考虑 Join 结果的大小，因为不论使用怎样的 Join Algorithm，结果集的大小都一样。\\n以下的讨论都建立在这样的情景上：&quot;,536871050]],[&quot;^17&quot;,[1167,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1167,&quot;^F&quot;,1154,536871050]],[&quot;^17&quot;,[1167,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1167,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1167,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1167,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1167,&quot;^;&quot;,&quot;~u62d35829-5fa4-475c-bab8-bb088a785d4d&quot;,536871050]],[&quot;^17&quot;,[1168,&quot;^R&quot;,&quot;扫描 Inner Table 时，尽量使用索引&quot;,536871050]],[&quot;^17&quot;,[1168,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1168,&quot;^F&quot;,1134,536871050]],[&quot;^17&quot;,[1168,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1168,&quot;^W&quot;,1122,536871050]],[&quot;^17&quot;,[1168,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1168,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1168,&quot;^;&quot;,&quot;~u62d35829-c8d0-4742-a8a1-c9dbc4f10679&quot;,536871050]],[&quot;^17&quot;,[1169,&quot;^R&quot;,&quot;小结：\\nSort-Merge Join 适用于：&quot;,536871050]],[&quot;^17&quot;,[1169,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1169,&quot;^F&quot;,1149,536871050]],[&quot;^17&quot;,[1169,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1169,&quot;^W&quot;,1135,536871050]],[&quot;^17&quot;,[1169,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1169,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1169,&quot;^;&quot;,&quot;~u62d35829-72b2-450e-8007-10bf69112789&quot;,536871050]],[&quot;^17&quot;,[1170,&quot;^R&quot;,&quot;对 R 和 S 两个 tables 做 Join&quot;,536871050]],[&quot;^17&quot;,[1170,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1170,&quot;^F&quot;,1167,536871050]],[&quot;^17&quot;,[1170,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1170,&quot;^W&quot;,1167,536871050]],[&quot;^17&quot;,[1170,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1170,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1170,&quot;^;&quot;,&quot;~u62d35829-382b-42b7-8957-45eb6bf16a7b&quot;,536871050]],[&quot;^17&quot;,[1171,&quot;^R&quot;,&quot;R 中有 M 个 pages，m 个 tuples&quot;,536871050]],[&quot;^17&quot;,[1171,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1171,&quot;^F&quot;,1170,536871050]],[&quot;^17&quot;,[1171,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1171,&quot;^W&quot;,1167,536871050]],[&quot;^17&quot;,[1171,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1171,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1171,&quot;^;&quot;,&quot;~u62d35829-695d-4d13-860a-8c7435d60730&quot;,536871050]],[&quot;^17&quot;,[1172,&quot;^R&quot;,&quot;Phase 1: Build\\n扫描 Outer Table，使用 hash function   对 Join Attributes 建立 hash table&quot;,536871050]],[&quot;^17&quot;,[1172,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1172,&quot;^F&quot;,1148,536871050]],[&quot;^17&quot;,[1172,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1172,&quot;^W&quot;,1164,536871050]],[&quot;^17&quot;,[1172,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1172,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1172,&quot;^;&quot;,&quot;~u62d35829-c2a1-417d-a19d-488eedb7b4e1&quot;,536871050]],[&quot;^17&quot;,[1173,&quot;^R&quot;,&quot;**Index Nested Loop Join** **这就是常常说的走索引**\\nid:: 62bc3136-fc16-4e45-a6ef-9b0b7dab6a56&quot;,536871050]],[&quot;^17&quot;,[1173,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1173,&quot;^F&quot;,1153,536871050]],[&quot;^17&quot;,[1173,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1173,&quot;^W&quot;,1146,536871050]],[&quot;^17&quot;,[1173,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1173,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bc3136-fc16-4e45-a6ef-9b0b7dab6a56&quot;],536871050]],[&quot;^17&quot;,[1173,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871050]],[&quot;^17&quot;,[1173,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1173,&quot;^;&quot;,&quot;~u62bc3136-fc16-4e45-a6ef-9b0b7dab6a56&quot;,536871050]],[&quot;^17&quot;,[1174,&quot;^R&quot;,&quot;storage model&quot;,536871050]],[&quot;^17&quot;,[1174,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1174,&quot;^F&quot;,1159,536871050]],[&quot;^17&quot;,[1174,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1174,&quot;^W&quot;,1160,536871050]],[&quot;^17&quot;,[1174,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1174,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1174,&quot;^;&quot;,&quot;~u62d35829-49fe-4888-b899-7c9cbb3c3eab&quot;,536871050]],[&quot;^17&quot;,[1175,&quot;^R&quot;,&quot;其中 C 为 index probe 的成本。&quot;,536871050]],[&quot;^17&quot;,[1175,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1175,&quot;^F&quot;,1129,536871050]],[&quot;^17&quot;,[1175,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1175,&quot;^W&quot;,1173,536871050]],[&quot;^17&quot;,[1175,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1175,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1175,&quot;^;&quot;,&quot;~u62d35829-f7cc-4bd0-9d90-177fc22601b7&quot;,536871050]],[&quot;^17&quot;,[1176,&quot;^R&quot;,&quot;![image.png](../assets/image_1656499573357_0.png){:height 274, :width 664}&quot;,536871050]],[&quot;^17&quot;,[1176,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1176,&quot;^F&quot;,1137,536871050]],[&quot;^17&quot;,[1176,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1176,&quot;^W&quot;,1146,536871050]],[&quot;^17&quot;,[1176,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1176,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1176,&quot;^;&quot;,&quot;~u62d35829-3aee-4730-acd9-3c124773d2e7&quot;,536871050]],[&quot;^17&quot;,[1177,&quot;^R&quot;,&quot;本课主要讨论 join 两个 tables 的过程。首先需要讨论的是：\\nJoin 的输出\\nJoin 的成本分析&quot;,536871050]],[&quot;^17&quot;,[1177,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1177,&quot;^F&quot;,1163,536871050]],[&quot;^17&quot;,[1177,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1177,&quot;^W&quot;,1163,536871050]],[&quot;^17&quot;,[1177,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1177,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1177,&quot;^;&quot;,&quot;~u62d35829-76cc-45f4-a602-a72a074c79fb&quot;,536871050]],[&quot;^17&quot;,[1178,&quot;^R&quot;,&quot;在关系型数据库中，我们常常通过规范化 (Normalization) 设计避免信息冗余；因此查询时，就需要通过 Join 将不同 table 中的数据合并来重建数据。\\n以课程伊始时的 table 为例，通过将 Artist 与 Album 之间的多对多关系拆成 Artist, ArtistAlbum 以及 Album 三个 tables 来规范化数据，使得数据存储的冗余减少：\\n![image.png](../assets/image_1656499262759_0.png)\\n查询时我们就需要通过 Join 来重建 Artist 与 Album 的完整关系数据。&quot;,536871050]],[&quot;^17&quot;,[1178,&quot;^P&quot;,&quot;^19&quot;,536871050]],[&quot;^17&quot;,[1178,&quot;^F&quot;,4504,536896821]],[&quot;^17&quot;,[1178,&quot;^Z&quot;,294,536871050]],[&quot;^17&quot;,[1178,&quot;^W&quot;,294,536871050]],[&quot;^17&quot;,[1178,&quot;^V&quot;,294,536871050]],[&quot;^17&quot;,[1178,&quot;^1@&quot;,true,536871050]],[&quot;^17&quot;,[1178,&quot;^;&quot;,&quot;~u62d35829-3cb4-480d-a580-87a37caf3adf&quot;,536871050]],[&quot;^17&quot;,[1379,&quot;^L&quot;,1657955666075,536871263]],[&quot;^17&quot;,[1379,&quot;^@&quot;,false,536871064]],[&quot;^17&quot;,[1379,&quot;^[&quot;,&quot;steal &amp;&amp; force&quot;,536871064]],[&quot;^17&quot;,[1379,&quot;^13&quot;,&quot;steal &amp;&amp; force&quot;,536871064]],[&quot;^17&quot;,[1379,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896899]],[&quot;^17&quot;,[1379,&quot;^B&quot;,1658362383260,536876891]],[&quot;^17&quot;,[1379,&quot;^;&quot;,&quot;~u62d3582c-e43f-4a81-a30c-3628a2cfc006&quot;,536871230]],[&quot;^17&quot;,[1380,&quot;^R&quot;,&quot;Buffer Pool Policies&quot;,536871064]],[&quot;^17&quot;,[1380,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1380,&quot;^F&quot;,1381,536871064]],[&quot;^17&quot;,[1380,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1380,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1380,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1380,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1380,&quot;^;&quot;,&quot;~u62d35829-ab0a-4de9-9103-5f632f75f9e7&quot;,536871064]],[&quot;^17&quot;,[1381,&quot;^R&quot;,&quot;Failure Classification&quot;,536871064]],[&quot;^17&quot;,[1381,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1381,&quot;^F&quot;,1398,536871064]],[&quot;^17&quot;,[1381,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1381,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1381,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1381,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1381,&quot;^;&quot;,&quot;~u62d35829-e01e-4c6f-aced-d0d54918e85f&quot;,536871064]],[&quot;^17&quot;,[1382,&quot;^R&quot;,&quot;DBMS 告知用户事务已经提交成功前，相应的数据必须已经持久化&quot;,536871064]],[&quot;^17&quot;,[1382,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1382,&quot;^F&quot;,1401,536871064]],[&quot;^17&quot;,[1382,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1382,&quot;^W&quot;,1401,536871064]],[&quot;^17&quot;,[1382,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1382,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1382,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1382,&quot;^;&quot;,&quot;~u62d35829-ee1e-48b7-a7eb-1bf8380dfc97&quot;,536871064]],[&quot;^17&quot;,[1383,&quot;^R&quot;,&quot;逻辑错误 (Logical Errors)：由于一些内部约束，如数据一致性约束，导致事务无法正常完成&quot;,536871064]],[&quot;^17&quot;,[1383,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1383,&quot;^F&quot;,1385,536871064]],[&quot;^17&quot;,[1383,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1383,&quot;^W&quot;,1385,536871064]],[&quot;^17&quot;,[1383,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1383,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1383,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1383,&quot;^;&quot;,&quot;~u62d35829-211a-42a4-8bab-56f2f10758c6&quot;,536871064]],[&quot;^17&quot;,[1384,&quot;^R&quot;,&quot;Write-Ahead Log&quot;,536871064]],[&quot;^17&quot;,[1384,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1384,&quot;^F&quot;,1400,536871064]],[&quot;^17&quot;,[1384,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1384,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1384,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1384,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1384,&quot;^;&quot;,&quot;~u62d35829-c1dc-45a6-a9b9-7ab3bcf84c5d&quot;,536871064]],[&quot;^17&quot;,[1385,&quot;^R&quot;,&quot;事务故障 (Transaction Failures)&quot;,536871064]],[&quot;^17&quot;,[1385,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1385,&quot;^F&quot;,1388,536871064]],[&quot;^17&quot;,[1385,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1385,&quot;^W&quot;,1388,536871064]],[&quot;^17&quot;,[1385,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1385,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1385,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1385,&quot;^;&quot;,&quot;~u62d35829-9678-41a1-ac63-114545c815c0&quot;,536871064]],[&quot;^17&quot;,[1386,&quot;^R&quot;,&quot;Logging Schemes&quot;,536871064]],[&quot;^17&quot;,[1386,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1386,&quot;^F&quot;,1384,536871064]],[&quot;^17&quot;,[1386,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1386,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1386,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1386,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1386,&quot;^;&quot;,&quot;~u62d35829-81b9-4619-97ef-aa776ec0a0e3&quot;,536871064]],[&quot;^17&quot;,[1387,&quot;^R&quot;,&quot;内部错误 (Internal State Errors)：由于数据库内部调度、并发控制，如死锁，导致事务无法正常提交&quot;,536871064]],[&quot;^17&quot;,[1387,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1387,&quot;^F&quot;,1383,536871064]],[&quot;^17&quot;,[1387,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1387,&quot;^W&quot;,1385,536871064]],[&quot;^17&quot;,[1387,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1387,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1387,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1387,&quot;^;&quot;,&quot;~u62d35829-031a-4f0c-89ad-6020b2949d2c&quot;,536871064]],[&quot;^17&quot;,[1388,&quot;^R&quot;,&quot;世上并不存在能够容忍任何故障的容错机制，即便做了异地多活，一次小行星撞地球也能将你的系统一举歼灭，因此在讨论故障恢复之前，我们必须先为故障分类，明确需要容忍的故障类型。\\n一般故障类型可以分为 3 种： #.ol&quot;,536871064]],[&quot;^17&quot;,[1388,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1388,&quot;^F&quot;,1392,536871064]],[&quot;^17&quot;,[1388,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1388,&quot;^W&quot;,1392,536871064]],[&quot;^17&quot;,[1388,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1388,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1388,&quot;^H&quot;,661,536871064]],[&quot;^17&quot;,[1388,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1388,&quot;^;&quot;,&quot;~u62d35829-0e4d-42f4-b13f-f3cc3d605149&quot;,536871064]],[&quot;^17&quot;,[1389,&quot;^R&quot;,&quot;系统故障 (System Failures)&quot;,536871064]],[&quot;^17&quot;,[1389,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1389,&quot;^F&quot;,1385,536871064]],[&quot;^17&quot;,[1389,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1389,&quot;^W&quot;,1388,536871064]],[&quot;^17&quot;,[1389,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1389,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1389,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1389,&quot;^;&quot;,&quot;~u62d35829-2e0a-46ac-ab30-177e02f4f16f&quot;,536871064]],[&quot;^17&quot;,[1390,&quot;^R&quot;,&quot;Checkpoints&quot;,536871064]],[&quot;^17&quot;,[1390,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1390,&quot;^F&quot;,1386,536871064]],[&quot;^17&quot;,[1390,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1390,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1390,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1390,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1390,&quot;^;&quot;,&quot;~u62d35829-8b1b-4467-9203-baeaf2a4f9a4&quot;,536871064]],[&quot;^17&quot;,[1391,&quot;^R&quot;,&quot;在事务执行过程中采取的行动来确保在出现故障时能够恢复 (本节课)&quot;,536871064]],[&quot;^17&quot;,[1391,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1391,&quot;^F&quot;,1406,536871064]],[&quot;^17&quot;,[1391,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1391,&quot;^W&quot;,1406,536871064]],[&quot;^17&quot;,[1391,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1391,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1391,&quot;^;&quot;,&quot;~u62d35829-1960-4363-8e9a-232718130cbc&quot;,536871064]],[&quot;^17&quot;,[1392,&quot;^R&quot;,&quot;## Failure Classification&quot;,536871064]],[&quot;^17&quot;,[1392,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1392,&quot;^X&quot;,2,536871064]],[&quot;^17&quot;,[1392,&quot;^F&quot;,1398,536871064]],[&quot;^17&quot;,[1392,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1392,&quot;^W&quot;,31,536871064]],[&quot;^17&quot;,[1392,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1392,&quot;^1&gt;&quot;,2,536871064]],[&quot;^17&quot;,[1392,&quot;^Y&quot;,&quot;^1?&quot;,536871064]],[&quot;^17&quot;,[1392,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1392,&quot;^;&quot;,&quot;~u62d35829-2351-4934-88b9-b4326b960a72&quot;,536871064]],[&quot;^17&quot;,[1393,&quot;^R&quot;,&quot;&quot;,536871064]],[&quot;^17&quot;,[1393,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1393,&quot;^F&quot;,1405,536871064]],[&quot;^17&quot;,[1393,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1393,&quot;^W&quot;,1402,536871064]],[&quot;^17&quot;,[1393,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1393,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1393,&quot;^;&quot;,&quot;~u62d35829-2acf-4bb6-a206-b18d86fd24e3&quot;,536871064]],[&quot;^17&quot;,[1394,&quot;^R&quot;,&quot;如果真的遇上事务故障或者系统故障，DBMS 有两种基本思路来恢复数据一致性，向用户提供上述两方面保证：&quot;,536871064]],[&quot;^17&quot;,[1394,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1394,&quot;^F&quot;,1401,536871064]],[&quot;^17&quot;,[1394,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1394,&quot;^W&quot;,1402,536871064]],[&quot;^17&quot;,[1394,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1394,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1394,&quot;^;&quot;,&quot;~u62d35829-6500-4720-b690-d1811acb00b4&quot;,536871064]],[&quot;^17&quot;,[1395,&quot;^R&quot;,&quot;Undo：将中止或未完成的事务中已经执行的操作回退\\nRedo：将提交的事务执行的操作重做&quot;,536871064]],[&quot;^17&quot;,[1395,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1395,&quot;^F&quot;,1394,536871064]],[&quot;^17&quot;,[1395,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1395,&quot;^W&quot;,1394,536871064]],[&quot;^17&quot;,[1395,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1395,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1395,&quot;^;&quot;,&quot;~u62d35829-c4e1-4b77-a568-55814f11bb6c&quot;,536871064]],[&quot;^17&quot;,[1396,&quot;^R&quot;,&quot;如果存储介质发生故障，通常这样的故障就是无法修复的，如发生撞击导致磁盘部分或全部受损。所有数据库都无法从这种故障中恢复，这时候数据库只能从归档的备份记录中恢复数据&quot;,536871064]],[&quot;^17&quot;,[1396,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1396,&quot;^F&quot;,1404,536871064]],[&quot;^17&quot;,[1396,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1396,&quot;^W&quot;,1404,536871064]],[&quot;^17&quot;,[1396,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1396,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1396,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1396,&quot;^;&quot;,&quot;~u62d35829-40ce-4ff8-900c-f3db373c1154&quot;,536871064]],[&quot;^17&quot;,[1397,&quot;^R&quot;,&quot;硬件故障 (Hardware Failure)：DBMS 所在的宿主机发生崩溃，如断电。且一般假设非易失性的存储数据在宿主机崩溃后不会丢失&quot;,536871064]],[&quot;^17&quot;,[1397,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1397,&quot;^F&quot;,1403,536871064]],[&quot;^17&quot;,[1397,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1397,&quot;^W&quot;,1389,536871064]],[&quot;^17&quot;,[1397,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1397,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1397,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1397,&quot;^;&quot;,&quot;~u62d35829-6a3f-4a34-af64-ea5b77bb6af8&quot;,536871064]],[&quot;^17&quot;,[1398,&quot;^R&quot;,&quot;# Agenda&quot;,536871064]],[&quot;^17&quot;,[1398,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1398,&quot;^X&quot;,1,536871064]],[&quot;^17&quot;,[1398,&quot;^F&quot;,1406,536871064]],[&quot;^17&quot;,[1398,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1398,&quot;^W&quot;,31,536871064]],[&quot;^17&quot;,[1398,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1398,&quot;^1&gt;&quot;,1,536871064]],[&quot;^17&quot;,[1398,&quot;^Y&quot;,&quot;^1?&quot;,536871064]],[&quot;^17&quot;,[1398,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1398,&quot;^;&quot;,&quot;~u62d35829-ea05-4322-8fc8-a3a40864ae84&quot;,536871064]],[&quot;^17&quot;,[1399,&quot;^R&quot;,&quot;如果事务中止，任何数据修改都不应该持久化&quot;,536871064]],[&quot;^17&quot;,[1399,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1399,&quot;^F&quot;,1382,536871064]],[&quot;^17&quot;,[1399,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1399,&quot;^W&quot;,1401,536871064]],[&quot;^17&quot;,[1399,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1399,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1399,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1399,&quot;^;&quot;,&quot;~u62d35829-484b-4891-9915-d69077bcdec4&quot;,536871064]],[&quot;^17&quot;,[1400,&quot;^R&quot;,&quot;Shadow Paging&quot;,536871064]],[&quot;^17&quot;,[1400,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1400,&quot;^F&quot;,1380,536871064]],[&quot;^17&quot;,[1400,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1400,&quot;^W&quot;,1398,536871064]],[&quot;^17&quot;,[1400,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1400,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1400,&quot;^;&quot;,&quot;~u62d35829-38bb-4561-8144-e6dfd3fdb0a8&quot;,536871064]],[&quot;^17&quot;,[1401,&quot;^R&quot;,&quot;修改数据时，DBMS 需要先把对应的数据页从持久化存储中读到内存中，然后在内存中根据写请求修改数据，最后将修改后的数据写回到持久化存储。在整个过程中，DBMS 需要保证两点 #.ol&quot;,536871064]],[&quot;^17&quot;,[1401,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1401,&quot;^F&quot;,1402,536871064]],[&quot;^17&quot;,[1401,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1401,&quot;^W&quot;,1402,536871064]],[&quot;^17&quot;,[1401,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1401,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1401,&quot;^H&quot;,661,536871064]],[&quot;^17&quot;,[1401,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1401,&quot;^;&quot;,&quot;~u62d35829-c57b-4624-bd25-c63055e3cc61&quot;,536871064]],[&quot;^17&quot;,[1402,&quot;^R&quot;,&quot;## Buffer Pool Policies&quot;,536871064]],[&quot;^17&quot;,[1402,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1402,&quot;^X&quot;,2,536871064]],[&quot;^17&quot;,[1402,&quot;^F&quot;,1392,536871064]],[&quot;^17&quot;,[1402,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1402,&quot;^W&quot;,31,536871064]],[&quot;^17&quot;,[1402,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1402,&quot;^1&gt;&quot;,2,536871064]],[&quot;^17&quot;,[1402,&quot;^Y&quot;,&quot;^1?&quot;,536871064]],[&quot;^17&quot;,[1402,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1402,&quot;^;&quot;,&quot;~u62d35829-b109-49a8-a6a6-9a2253f4542d&quot;,536871064]],[&quot;^17&quot;,[1403,&quot;^R&quot;,&quot;软件故障 (Software Failure)：如 DBMS 本身的实现问题 (NPE, Divide-by-zero)&quot;,536871064]],[&quot;^17&quot;,[1403,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1403,&quot;^F&quot;,1389,536871064]],[&quot;^17&quot;,[1403,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1403,&quot;^W&quot;,1389,536871064]],[&quot;^17&quot;,[1403,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1403,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1403,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1403,&quot;^;&quot;,&quot;~u62d35829-0b7f-43da-b414-de807838cae6&quot;,536871064]],[&quot;^17&quot;,[1404,&quot;^R&quot;,&quot;存储介质故障 (Storage Media Failures)&quot;,536871064]],[&quot;^17&quot;,[1404,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1404,&quot;^F&quot;,1389,536871064]],[&quot;^17&quot;,[1404,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1404,&quot;^W&quot;,1388,536871064]],[&quot;^17&quot;,[1404,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1404,&quot;^V&quot;,661,536871064]],[&quot;^17&quot;,[1404,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1404,&quot;^;&quot;,&quot;~u62d35829-2cc4-48bb-af87-7b590ed38285&quot;,536871064]],[&quot;^17&quot;,[1405,&quot;^R&quot;,&quot;DBMS 如何支持 undo/redo 取决于它如何管理 buffer pool。我们可以从两个角度来分析 buffer pool 的管理策略：Steal Policy 和 Force Policy。 [[steal &amp;&amp; force]]&quot;,536871064]],[&quot;^17&quot;,[1405,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1405,&quot;^F&quot;,1394,536871064]],[&quot;^17&quot;,[1405,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1405,&quot;^W&quot;,1402,536871064]],[&quot;^17&quot;,[1405,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1405,&quot;^V&quot;,1379,536871064]],[&quot;^17&quot;,[1405,&quot;^H&quot;,1379,536871064]],[&quot;^17&quot;,[1405,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1405,&quot;^;&quot;,&quot;~u62d35829-3d31-4dc4-913b-0ed720ad4809&quot;,536871064]],[&quot;^17&quot;,[1406,&quot;^R&quot;,&quot;数据库需要故障恢复机制来保证数据库的原子性、一致性、持久性。故障恢复机制包含两部分：&quot;,536871064]],[&quot;^17&quot;,[1406,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1406,&quot;^F&quot;,4518,536896904]],[&quot;^17&quot;,[1406,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1406,&quot;^W&quot;,31,536871064]],[&quot;^17&quot;,[1406,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1406,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1406,&quot;^;&quot;,&quot;~u62d35829-4f53-423e-b00a-2ae01276bdac&quot;,536871064]],[&quot;^17&quot;,[1407,&quot;^R&quot;,&quot;在故障发生后的恢复机制，确保原子性、一致性和持久性 (下节课) [[Database Recovery]]&quot;,536871064]],[&quot;^17&quot;,[1407,&quot;^P&quot;,&quot;^19&quot;,536871064]],[&quot;^17&quot;,[1407,&quot;^F&quot;,1391,536871064]],[&quot;^17&quot;,[1407,&quot;^Z&quot;,31,536871064]],[&quot;^17&quot;,[1407,&quot;^W&quot;,1406,536871064]],[&quot;^17&quot;,[1407,&quot;^V&quot;,25,536871064]],[&quot;^17&quot;,[1407,&quot;^V&quot;,31,536871064]],[&quot;^17&quot;,[1407,&quot;^H&quot;,25,536871064]],[&quot;^17&quot;,[1407,&quot;^1@&quot;,true,536871064]],[&quot;^17&quot;,[1407,&quot;^;&quot;,&quot;~u62d35829-ade8-48db-8c91-a9c1d9f0cb9f&quot;,536871064]],[&quot;^17&quot;,[1418,&quot;^R&quot;,&quot;Approach 1：Timestamp Ordering (T/O)：为每个事务赋予时间戳，并用以决定执行顺序&quot;,536871068]],[&quot;^17&quot;,[1418,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1418,&quot;^F&quot;,1443,536871068]],[&quot;^17&quot;,[1418,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1418,&quot;^W&quot;,1443,536871068]],[&quot;^17&quot;,[1418,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1418,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1418,&quot;^;&quot;,&quot;~u62d35829-3aa4-4e11-ac8e-5507350110fd&quot;,536871068]],[&quot;^17&quot;,[1419,&quot;^R&quot;,&quot;![image.png](../assets/image_1657292069455_0.png)&quot;,536871068]],[&quot;^17&quot;,[1419,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1419,&quot;^F&quot;,1462,536871068]],[&quot;^17&quot;,[1419,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1419,&quot;^W&quot;,1448,536871068]],[&quot;^17&quot;,[1419,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1419,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1419,&quot;^;&quot;,&quot;~u62d35829-c8fa-4ff1-887e-1c3ba76e6794&quot;,536871068]],[&quot;^17&quot;,[1420,&quot;^R&quot;,&quot;Approach 3：Delta Storage：老版本数据的被修改的字段值被复制到一张单独的增量表 (delta record space) 中&quot;,536871068]],[&quot;^17&quot;,[1420,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1420,&quot;^F&quot;,1437,536871068]],[&quot;^17&quot;,[1420,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1420,&quot;^W&quot;,1421,536871068]],[&quot;^17&quot;,[1420,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1420,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1420,&quot;^;&quot;,&quot;~u62d35829-b862-492f-b007-1629fbc8b67a&quot;,536871068]],[&quot;^17&quot;,[1421,&quot;^R&quot;,&quot;如何存储一条数据的多个版本？DBMS 通常会在每条数据上拉一条版本链表 (version chain)，所有相关的索引都会指到这个链表的 head，DBMS 可以利用它找到一个事务应该访问到的版本。不同的版本存储方案在 version chain 上存储的数据不同，主要有 3 种存储方案：&quot;,536871068]],[&quot;^17&quot;,[1421,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1421,&quot;^F&quot;,1427,536871068]],[&quot;^17&quot;,[1421,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1421,&quot;^W&quot;,1427,536871068]],[&quot;^17&quot;,[1421,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1421,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1421,&quot;^;&quot;,&quot;~u62d35829-c730-4455-81ee-dde99edfca93&quot;,536871068]],[&quot;^17&quot;,[1422,&quot;^R&quot;,&quot;Approach 2：物理指针，即存储指向 version chain 头部的指针\\n![image.png](../assets/image_1657292024991_0.png)&quot;,536871068]],[&quot;^17&quot;,[1422,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1422,&quot;^F&quot;,1440,536871068]],[&quot;^17&quot;,[1422,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1422,&quot;^W&quot;,1448,536871068]],[&quot;^17&quot;,[1422,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1422,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1422,&quot;^;&quot;,&quot;~u62d35829-6129-4e58-bf8e-2f8a0d8ec726&quot;,536871068]],[&quot;^17&quot;,[1423,&quot;^R&quot;,&quot;Approach 2：Optimistic Concurrency Control (OCC)：为每个事务创建 private workspace，并将事务分为 read, write 和 validate 3 个阶段处理&quot;,536871068]],[&quot;^17&quot;,[1423,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1423,&quot;^F&quot;,1418,536871068]],[&quot;^17&quot;,[1423,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1423,&quot;^W&quot;,1443,536871068]],[&quot;^17&quot;,[1423,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1423,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1423,&quot;^;&quot;,&quot;~u62d35829-d587-4700-8d43-c601b03154c1&quot;,536871068]],[&quot;^17&quot;,[1424,&quot;^R&quot;,&quot;让每个事务都保存着它的读写数据集合 (read/write set)，当 DBMS 决定什么时候这个事务创建的各版本数据可以被回收时，就按照集合内部的数据处理即可。&quot;,536871068]],[&quot;^17&quot;,[1424,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1424,&quot;^F&quot;,1461,536871068]],[&quot;^17&quot;,[1424,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1424,&quot;^W&quot;,1461,536871068]],[&quot;^17&quot;,[1424,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1424,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1424,&quot;^;&quot;,&quot;~u62d35829-51b4-4b74-91b4-01f5d0bb4c24&quot;,536871068]],[&quot;^17&quot;,[1425,&quot;^R&quot;,&quot;![image.png](../assets/image_1657292086170_0.png)&quot;,536871068]],[&quot;^17&quot;,[1425,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1425,&quot;^F&quot;,1460,536871068]],[&quot;^17&quot;,[1425,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1425,&quot;^W&quot;,1460,536871068]],[&quot;^17&quot;,[1425,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1425,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1425,&quot;^;&quot;,&quot;~u62d35829-a23e-4a36-927f-b233862320d5&quot;,536871068]],[&quot;^17&quot;,[1426,&quot;^R&quot;,&quot;该版本是被一个已经中止的事务创建&quot;,536871068]],[&quot;^17&quot;,[1426,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1426,&quot;^F&quot;,1464,536871068]],[&quot;^17&quot;,[1426,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1426,&quot;^W&quot;,1447,536871068]],[&quot;^17&quot;,[1426,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1426,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1426,&quot;^;&quot;,&quot;~u62d35829-0516-41bd-9b1f-053015f1259a&quot;,536871068]],[&quot;^17&quot;,[1427,&quot;^R&quot;,&quot;Version Storage&quot;,536871068]],[&quot;^17&quot;,[1427,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1427,&quot;^F&quot;,1445,536871068]],[&quot;^17&quot;,[1427,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1427,&quot;^W&quot;,1434,536871068]],[&quot;^17&quot;,[1427,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1427,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1427,&quot;^;&quot;,&quot;~u62d35829-6d9e-4ab0-a107-9f46e1640619&quot;,536871068]],[&quot;^17&quot;,[1428,&quot;^R&quot;,&quot;**Background Vacuuming**\\n![image.png](../assets/image_1657291831181_0.png)\\n为了加快 GC 的速度，DBMS 可以再维护一个脏页位图 (dirty page bitmap)，利用它，Vacuum 线程可以只检查发生过改动的数据，用空间换时间。Background Vacuuming 被用于任意 Version Storage 的方案。&quot;,536871068]],[&quot;^17&quot;,[1428,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1428,&quot;^F&quot;,1456,536871068]],[&quot;^17&quot;,[1428,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1428,&quot;^W&quot;,1456,536871068]],[&quot;^17&quot;,[1428,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1428,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1428,&quot;^;&quot;,&quot;~u62d35829-99f0-4d20-9f74-698443b4872b&quot;,536871068]],[&quot;^17&quot;,[1429,&quot;^R&quot;,&quot;单独拿一张表 (Time-Travel Table) 来存历史数据，每当更新数据时，就把当前版本复制到 TTT 中，并更新指针： ![image.png](../assets/image_1657291650855_0.png){:height 182, :width 207}&quot;,536871068]],[&quot;^17&quot;,[1429,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1429,&quot;^F&quot;,1437,536871068]],[&quot;^17&quot;,[1429,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1429,&quot;^W&quot;,1437,536871068]],[&quot;^17&quot;,[1429,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1429,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1429,&quot;^;&quot;,&quot;~u62d35829-4ee7-4cc9-9c17-dc9cac0ffee6&quot;,536871068]],[&quot;^17&quot;,[1430,&quot;^R&quot;,&quot;public:: true\\nalias:: MVCC&quot;,536896867]],[&quot;^17&quot;,[1430,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1430,&quot;^F&quot;,302,536871068]],[&quot;^17&quot;,[1430,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1430,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1430,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1430,&quot;^V&quot;,1417,536871068]],[&quot;^17&quot;,[1430,&quot;^:&quot;,true,536871068]],[&quot;^17&quot;,[1430,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;MVCC&quot;]],&quot;^18&quot;,true],536896867]],[&quot;^17&quot;,[1430,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871068]],[&quot;^17&quot;,[1430,&quot;^H&quot;,1417,536871068]],[&quot;^17&quot;,[1430,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1430,&quot;^;&quot;,&quot;~u62d35829-a0fe-4d49-8ce0-29c568864064&quot;,536871068]],[&quot;^17&quot;,[1431,&quot;^R&quot;,&quot;这时候 DBMS 需要删除这些可以回收的物理版本，这个过程也被称为 GC。在 GC 的过程中，还有两个附加设计决定：&quot;,536871068]],[&quot;^17&quot;,[1431,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1431,&quot;^F&quot;,1447,536871068]],[&quot;^17&quot;,[1431,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1431,&quot;^W&quot;,1451,536871068]],[&quot;^17&quot;,[1431,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1431,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1431,&quot;^;&quot;,&quot;~u62d35829-2665-4e93-a3a8-4c56c432bc4d&quot;,536871068]],[&quot;^17&quot;,[1432,&quot;^R&quot;,&quot;Primary Key Index\\n主键索引直接指向 version chain 的头部。&quot;,536871068]],[&quot;^17&quot;,[1432,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1432,&quot;^F&quot;,1454,536871068]],[&quot;^17&quot;,[1432,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1432,&quot;^W&quot;,1454,536871068]],[&quot;^17&quot;,[1432,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1432,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1432,&quot;^;&quot;,&quot;~u62d35829-8264-4c7c-9ade-fbdaf9ebc3bd&quot;,536871068]],[&quot;^17&quot;,[1433,&quot;^R&quot;,&quot;每次更新，仅将变化的字段信息存储到 delta storage segment 中： ![image.png](../assets/image_1657291677106_0.png)&quot;,536871068]],[&quot;^17&quot;,[1433,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1433,&quot;^F&quot;,1420,536871068]],[&quot;^17&quot;,[1433,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1433,&quot;^W&quot;,1420,536871068]],[&quot;^17&quot;,[1433,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1433,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1433,&quot;^;&quot;,&quot;~u62d35829-8400-45c2-8558-1ecc8474a6c4&quot;,536871068]],[&quot;^17&quot;,[1434,&quot;^R&quot;,&quot;上文提到，MVCC 不止是一个并发控制协议，它由许多部分组成，这些部分包括：&quot;,536871068]],[&quot;^17&quot;,[1434,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1434,&quot;^F&quot;,1436,536871068]],[&quot;^17&quot;,[1434,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1434,&quot;^W&quot;,1436,536871068]],[&quot;^17&quot;,[1434,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1434,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1434,&quot;^;&quot;,&quot;~u62d35829-25e8-45cb-a7fd-1db23f9be909&quot;,536871068]],[&quot;^17&quot;,[1435,&quot;^R&quot;,&quot;MVCC 并不只是一个并发控制协议，并发控制协议只是它的一个组成部分。它深刻地影响了 DBMS 管理事务和数据的方式，使用 MVCC 的 DBMS 数不胜数：&quot;,536871068]],[&quot;^17&quot;,[1435,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1435,&quot;^F&quot;,1458,536871068]],[&quot;^17&quot;,[1435,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1435,&quot;^W&quot;,1458,536871068]],[&quot;^17&quot;,[1435,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1435,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1435,&quot;^;&quot;,&quot;~u62d35829-7230-4b83-abc5-2a98429b1a42&quot;,536871068]],[&quot;^17&quot;,[1436,&quot;^R&quot;,&quot;# Design Decisions&quot;,536871068]],[&quot;^17&quot;,[1436,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1436,&quot;^X&quot;,1,536871068]],[&quot;^17&quot;,[1436,&quot;^F&quot;,1458,536871068]],[&quot;^17&quot;,[1436,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1436,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1436,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1436,&quot;^1&gt;&quot;,1,536871068]],[&quot;^17&quot;,[1436,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1436,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1436,&quot;^;&quot;,&quot;~u62d35829-ee15-4ad0-836a-d1db233b9ef5&quot;,536871068]],[&quot;^17&quot;,[1437,&quot;^R&quot;,&quot;Approach 2：Time-Travel Storage：老版本被复制到单独的一张表中&quot;,536871068]],[&quot;^17&quot;,[1437,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1437,&quot;^F&quot;,1439,536871068]],[&quot;^17&quot;,[1437,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1437,&quot;^W&quot;,1421,536871068]],[&quot;^17&quot;,[1437,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1437,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1437,&quot;^;&quot;,&quot;~u62d35829-c4c1-4b6b-a32e-f8dbba7fd168&quot;,536871068]],[&quot;^17&quot;,[1438,&quot;^R&quot;,&quot;MVCC 的核心优势可以总结为以下两句话：\\n\\n#+BEGIN_QUOTE\\nWriters don&apos;t block readers.\\n写不阻塞读\\nReaders don&apos;t block writers.\\n读不阻塞写\\n#+END_QUOTE\\n只读事务无需加锁就可以读取数据库某一时刻的快照，如果保留数据的所有历史版本，DBMS 甚至能够支持读取任意历史版本的数据，即 time-travel。&quot;,536871068]],[&quot;^17&quot;,[1438,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1438,&quot;^F&quot;,1446,536871068]],[&quot;^17&quot;,[1438,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1438,&quot;^W&quot;,1446,536871068]],[&quot;^17&quot;,[1438,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1438,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1438,&quot;^;&quot;,&quot;~u62d35829-41f2-4a2d-be94-0dbc07299f0d&quot;,536871068]],[&quot;^17&quot;,[1439,&quot;^R&quot;,&quot;Approach 1：Append-Only Storage：新版本通过追加的方式存储在同一张表中&quot;,536871068]],[&quot;^17&quot;,[1439,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1439,&quot;^F&quot;,1421,536871068]],[&quot;^17&quot;,[1439,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1439,&quot;^W&quot;,1421,536871068]],[&quot;^17&quot;,[1439,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1439,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1439,&quot;^;&quot;,&quot;~u62d35829-afe6-49b3-8c3b-59b917480236&quot;,536871068]],[&quot;^17&quot;,[1440,&quot;^R&quot;,&quot;Approach 1：逻辑指针，即存储主键值或 Tuple Id&quot;,536871068]],[&quot;^17&quot;,[1440,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1440,&quot;^F&quot;,1448,536871068]],[&quot;^17&quot;,[1440,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1440,&quot;^W&quot;,1448,536871068]],[&quot;^17&quot;,[1440,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1440,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1440,&quot;^;&quot;,&quot;~u62d35829-c3f7-428c-9b99-d1082b1867c0&quot;,536871068]],[&quot;^17&quot;,[1441,&quot;^R&quot;,&quot;如何查找过期的数据版本&quot;,536871068]],[&quot;^17&quot;,[1441,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1441,&quot;^F&quot;,1431,536871068]],[&quot;^17&quot;,[1441,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1441,&quot;^W&quot;,1431,536871068]],[&quot;^17&quot;,[1441,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1441,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1441,&quot;^;&quot;,&quot;~u62d35829-1dd5-4351-9530-961e53f09f22&quot;,536871068]],[&quot;^17&quot;,[1442,&quot;^R&quot;,&quot;**Cooperative Cleaning**\\n还有一种做法是当 worker thread 查询数据时，顺便将不再使用物理数据版本删除：\\n![image.png](../assets/image_1657291928853_0.png)&quot;,536871068]],[&quot;^17&quot;,[1442,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1442,&quot;^F&quot;,1428,536871068]],[&quot;^17&quot;,[1442,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1442,&quot;^W&quot;,1456,536871068]],[&quot;^17&quot;,[1442,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1442,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1442,&quot;^;&quot;,&quot;~u62d35829-ecd0-4b77-9eb6-1f6c655680b4&quot;,536871068]],[&quot;^17&quot;,[1443,&quot;^R&quot;,&quot;前面 2 节课已经介绍了各种并发控制协议，MVCC 可以选择其中任意一个：&quot;,536871068]],[&quot;^17&quot;,[1443,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1443,&quot;^F&quot;,1445,536871068]],[&quot;^17&quot;,[1443,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1443,&quot;^W&quot;,1445,536871068]],[&quot;^17&quot;,[1443,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1443,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1443,&quot;^;&quot;,&quot;~u62d35829-c8da-4d9e-9bcd-329aa51c6f92&quot;,536871068]],[&quot;^17&quot;,[1444,&quot;^R&quot;,&quot;### Example1\\n![image.png](../assets/image_1657290899480_0.png)\\n![image.png](../assets/image_1657290917861_0.png)\\n![image.png](../assets/image_1657290934519_0.png)&quot;,536871068]],[&quot;^17&quot;,[1444,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1444,&quot;^X&quot;,3,536871068]],[&quot;^17&quot;,[1444,&quot;^F&quot;,1438,536871068]],[&quot;^17&quot;,[1444,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1444,&quot;^W&quot;,1446,536871068]],[&quot;^17&quot;,[1444,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1444,&quot;^1&gt;&quot;,3,536871068]],[&quot;^17&quot;,[1444,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1444,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1444,&quot;^;&quot;,&quot;~u62d35829-7bb9-4811-a89c-24c41cc2eebc&quot;,536871068]],[&quot;^17&quot;,[1445,&quot;^R&quot;,&quot;Concurrency Control Protocol&quot;,536871068]],[&quot;^17&quot;,[1445,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1445,&quot;^F&quot;,1434,536871068]],[&quot;^17&quot;,[1445,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1445,&quot;^W&quot;,1434,536871068]],[&quot;^17&quot;,[1445,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1445,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1445,&quot;^;&quot;,&quot;~u62d35829-5aee-4239-aef5-7f6c9bb45e84&quot;,536871068]],[&quot;^17&quot;,[1446,&quot;^R&quot;,&quot;# MVCC&quot;,536871068]],[&quot;^17&quot;,[1446,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1446,&quot;^X&quot;,1,536871068]],[&quot;^17&quot;,[1446,&quot;^F&quot;,1459,536871068]],[&quot;^17&quot;,[1446,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1446,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1446,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1446,&quot;^1&gt;&quot;,1,536871068]],[&quot;^17&quot;,[1446,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1446,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1446,&quot;^;&quot;,&quot;~u62d35829-b3f1-481e-98c6-acc7eb9183cc&quot;,536871068]],[&quot;^17&quot;,[1447,&quot;^R&quot;,&quot;随着时间的推移，DBMS 中数据的旧版本可能不再会被用到，如：&quot;,536871068]],[&quot;^17&quot;,[1447,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1447,&quot;^F&quot;,1451,536871068]],[&quot;^17&quot;,[1447,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1447,&quot;^W&quot;,1451,536871068]],[&quot;^17&quot;,[1447,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1447,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1447,&quot;^;&quot;,&quot;~u62d35829-098d-46f5-9bcd-48113c9a6cf6&quot;,536871068]],[&quot;^17&quot;,[1448,&quot;^R&quot;,&quot;Secondary Indexes\\n二级索引有两种方式指向数据本身：&quot;,536871068]],[&quot;^17&quot;,[1448,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1448,&quot;^F&quot;,1432,536871068]],[&quot;^17&quot;,[1448,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1448,&quot;^W&quot;,1454,536871068]],[&quot;^17&quot;,[1448,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1448,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1448,&quot;^;&quot;,&quot;~u62d35829-e6ca-440b-bf4c-ac67b5e4331e&quot;,536871068]],[&quot;^17&quot;,[1449,&quot;^R&quot;,&quot;### Example 2\\n![image.png](../assets/image_1657291290033_0.png)\\n![image.png](../assets/image_1657291297118_0.png)&quot;,536871068]],[&quot;^17&quot;,[1449,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1449,&quot;^X&quot;,3,536871068]],[&quot;^17&quot;,[1449,&quot;^F&quot;,1444,536871068]],[&quot;^17&quot;,[1449,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1449,&quot;^W&quot;,1446,536871068]],[&quot;^17&quot;,[1449,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1449,&quot;^1&gt;&quot;,3,536871068]],[&quot;^17&quot;,[1449,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1449,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1449,&quot;^;&quot;,&quot;~u62d35829-91d6-4417-94f6-ba30d9e1876f&quot;,536871068]],[&quot;^17&quot;,[1450,&quot;^R&quot;,&quot;GC 可以从两个角度出发：&quot;,536871068]],[&quot;^17&quot;,[1450,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1450,&quot;^F&quot;,1431,536871068]],[&quot;^17&quot;,[1450,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1450,&quot;^W&quot;,1451,536871068]],[&quot;^17&quot;,[1450,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1450,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1450,&quot;^;&quot;,&quot;~u62d35829-7673-467d-af33-664c63c2a8fc&quot;,536871068]],[&quot;^17&quot;,[1451,&quot;^R&quot;,&quot;Garbage Collection&quot;,536871068]],[&quot;^17&quot;,[1451,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1451,&quot;^F&quot;,1427,536871068]],[&quot;^17&quot;,[1451,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1451,&quot;^W&quot;,1434,536871068]],[&quot;^17&quot;,[1451,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1451,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1451,&quot;^;&quot;,&quot;~u62d35829-da2b-4f22-9daf-c097b2d81598&quot;,536871068]],[&quot;^17&quot;,[1452,&quot;^R&quot;,&quot;如何确定某版本数据是否可以被安全回收&quot;,536871068]],[&quot;^17&quot;,[1452,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1452,&quot;^F&quot;,1441,536871068]],[&quot;^17&quot;,[1452,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1452,&quot;^W&quot;,1431,536871068]],[&quot;^17&quot;,[1452,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1452,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1452,&quot;^;&quot;,&quot;~u62d35829-7ed8-45d9-b70a-e15e8b6c5199&quot;,536871068]],[&quot;^17&quot;,[1453,&quot;^R&quot;,&quot;如下图所示，同一个逻辑数据的所有物理版本都被存储在同一张表上，每次更新时，就往表上追加一个新的版本记录，并在旧版本的数据上增加一个指针指向新版本：\\n![image.png](../assets/image_1657291572804_0.png)\\n![image.png](../assets/image_1657291613033_0.png)&quot;,536871068]],[&quot;^17&quot;,[1453,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1453,&quot;^F&quot;,1439,536871068]],[&quot;^17&quot;,[1453,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1453,&quot;^W&quot;,1439,536871068]],[&quot;^17&quot;,[1453,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1453,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1453,&quot;^;&quot;,&quot;~u62d35829-d4ab-4bc7-a735-29f13a56f8d1&quot;,536871068]],[&quot;^17&quot;,[1454,&quot;^R&quot;,&quot;Index Management&quot;,536871068]],[&quot;^17&quot;,[1454,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1454,&quot;^F&quot;,1451,536871068]],[&quot;^17&quot;,[1454,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1454,&quot;^W&quot;,1434,536871068]],[&quot;^17&quot;,[1454,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1454,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1454,&quot;^;&quot;,&quot;~u62d35829-3803-41a9-aeac-16201cd37e92&quot;,536871068]],[&quot;^17&quot;,[1455,&quot;^R&quot;,&quot;Approach 3：Two-Phase Locking (2PL)：按照 2PL 的约定获取和释放锁&quot;,536871068]],[&quot;^17&quot;,[1455,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1455,&quot;^F&quot;,1423,536871068]],[&quot;^17&quot;,[1455,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1455,&quot;^W&quot;,1443,536871068]],[&quot;^17&quot;,[1455,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1455,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1455,&quot;^;&quot;,&quot;~u62d35829-718d-44ff-89c1-a5d04c365476&quot;,536871068]],[&quot;^17&quot;,[1456,&quot;^R&quot;,&quot;Approach 1：**Tuple-level**：直接检查每条数据的旧版本数据&quot;,536871068]],[&quot;^17&quot;,[1456,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1456,&quot;^F&quot;,1450,536871068]],[&quot;^17&quot;,[1456,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1456,&quot;^W&quot;,1450,536871068]],[&quot;^17&quot;,[1456,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1456,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1456,&quot;^;&quot;,&quot;~u62d35829-096a-4113-beff-e2610014a697&quot;,536871068]],[&quot;^17&quot;,[1457,&quot;^R&quot;,&quot;![image.png](../assets/image_1657291327299_0.png)&quot;,536871068]],[&quot;^17&quot;,[1457,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1457,&quot;^F&quot;,1435,536871068]],[&quot;^17&quot;,[1457,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1457,&quot;^W&quot;,1458,536871068]],[&quot;^17&quot;,[1457,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1457,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1457,&quot;^;&quot;,&quot;~u62d35829-673e-454f-88aa-8bf105686e81&quot;,536871068]],[&quot;^17&quot;,[1458,&quot;^R&quot;,&quot;# 小结&quot;,536871068]],[&quot;^17&quot;,[1458,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1458,&quot;^X&quot;,1,536871068]],[&quot;^17&quot;,[1458,&quot;^F&quot;,1446,536871068]],[&quot;^17&quot;,[1458,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1458,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1458,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1458,&quot;^1&gt;&quot;,1,536871068]],[&quot;^17&quot;,[1458,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1458,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1458,&quot;^;&quot;,&quot;~u62d35829-819a-4048-9162-3853b6d54925&quot;,536871068]],[&quot;^17&quot;,[1459,&quot;^R&quot;,&quot;# 简介\\n简而言之，实现 MVCC 的 DBMS 在内部维持着单个逻辑数据的多个物理版本，当事务修改某数据时，DBMS 将为其创建一个新的版本；当事务读取某数据时，它将读到该数据在事务开始时刻之前的最新版本。\\nMVCC 首次被提出是在 1978 年的一篇  MIT 的博士[论文](https://web.archive.org/web/20051025124412/http://www.lcs.mit.edu/publications/specpub.php?id=773)中。在 80 年代早期，DEC 的 Rdb/VMS 和 InterBase 首次真正实现了 MVCC，其作者是 Jim Starkey，NuoDB 的联合创始人。如今，Rdb/VMS 成了 Oracle Rdb，InterBase 成为开源项目 Firebird。&quot;,536871068]],[&quot;^17&quot;,[1459,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1459,&quot;^X&quot;,1,536871068]],[&quot;^17&quot;,[1459,&quot;^F&quot;,1430,536871068]],[&quot;^17&quot;,[1459,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1459,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1459,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1459,&quot;^1&gt;&quot;,1,536871068]],[&quot;^17&quot;,[1459,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1459,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1459,&quot;^;&quot;,&quot;~u62d35829-b65f-4efe-bf7f-274a51ab9387&quot;,536871068]],[&quot;^17&quot;,[1460,&quot;^R&quot;,&quot;# MVCC implemetations&quot;,536871068]],[&quot;^17&quot;,[1460,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1460,&quot;^X&quot;,1,536871068]],[&quot;^17&quot;,[1460,&quot;^F&quot;,1436,536871068]],[&quot;^17&quot;,[1460,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1460,&quot;^W&quot;,302,536871068]],[&quot;^17&quot;,[1460,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1460,&quot;^1&gt;&quot;,1,536871068]],[&quot;^17&quot;,[1460,&quot;^Y&quot;,&quot;^1?&quot;,536871068]],[&quot;^17&quot;,[1460,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1460,&quot;^;&quot;,&quot;~u62d35829-3d90-4b83-9ba2-de2f802c9a5f&quot;,536871068]],[&quot;^17&quot;,[1461,&quot;^R&quot;,&quot;Approach 2：**Transaction-level**：每个事务负责跟踪数据的旧版本，DBMS 不需要亲自检查单条数据&quot;,536871068]],[&quot;^17&quot;,[1461,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1461,&quot;^F&quot;,1456,536871068]],[&quot;^17&quot;,[1461,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1461,&quot;^W&quot;,1450,536871068]],[&quot;^17&quot;,[1461,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1461,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1461,&quot;^;&quot;,&quot;~u62d35829-6fd3-4085-9741-dd24d25411c2&quot;,536871068]],[&quot;^17&quot;,[1462,&quot;^R&quot;,&quot;![image.png](../assets/image_1657292056504_0.png)&quot;,536871068]],[&quot;^17&quot;,[1462,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1462,&quot;^F&quot;,1422,536871068]],[&quot;^17&quot;,[1462,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1462,&quot;^W&quot;,1448,536871068]],[&quot;^17&quot;,[1462,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1462,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1462,&quot;^;&quot;,&quot;~u62d35829-beda-468d-88d2-555d3d8251ae&quot;,536871068]],[&quot;^17&quot;,[1463,&quot;^R&quot;,&quot;每一部分都可以选择不同的方案，可以根据具体场景作出最优的设计选择。&quot;,536871068]],[&quot;^17&quot;,[1463,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1463,&quot;^F&quot;,1434,536871068]],[&quot;^17&quot;,[1463,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1463,&quot;^W&quot;,1436,536871068]],[&quot;^17&quot;,[1463,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1463,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1463,&quot;^;&quot;,&quot;~u62d35829-4658-4958-9c4f-9d1f3e01ac0f&quot;,536871068]],[&quot;^17&quot;,[1464,&quot;^R&quot;,&quot;已经没有活跃的事务需要看到该版本&quot;,536871068]],[&quot;^17&quot;,[1464,&quot;^P&quot;,&quot;^19&quot;,536871068]],[&quot;^17&quot;,[1464,&quot;^F&quot;,1447,536871068]],[&quot;^17&quot;,[1464,&quot;^Z&quot;,302,536871068]],[&quot;^17&quot;,[1464,&quot;^W&quot;,1447,536871068]],[&quot;^17&quot;,[1464,&quot;^V&quot;,302,536871068]],[&quot;^17&quot;,[1464,&quot;^1@&quot;,true,536871068]],[&quot;^17&quot;,[1464,&quot;^;&quot;,&quot;~u62d35829-6e07-4773-b49c-797e9d73bb5f&quot;,536871068]],[&quot;^17&quot;,[1471,&quot;^R&quot;,&quot;数据库的应用场景大体可以用两个维度来描述：操作复杂度和读写分布，如下图所示：\\n![image.png](../assets/image_1657553608975_0.png){:height 64, :width 95}&quot;,536871074]],[&quot;^17&quot;,[1471,&quot;^P&quot;,&quot;^19&quot;,536871074]],[&quot;^17&quot;,[1471,&quot;^F&quot;,4494,536896766]],[&quot;^17&quot;,[1471,&quot;^Z&quot;,499,536871074]],[&quot;^17&quot;,[1471,&quot;^W&quot;,499,536871074]],[&quot;^17&quot;,[1471,&quot;^V&quot;,499,536871074]],[&quot;^17&quot;,[1471,&quot;^1@&quot;,true,536871074]],[&quot;^17&quot;,[1471,&quot;^;&quot;,&quot;~u62d35829-0416-4bf9-8c51-f5faee5851fc&quot;,536871074]],[&quot;^17&quot;,[1472,&quot;^R&quot;,&quot;在坐标轴右上角是 OLAP（On-line Analytical Processing），OLAP 主要处理复杂的，需要检索大量数据并聚合的操作，举例如下：\\n\\n``` sql\\nSELECT COUNT(U.lastLogin)\\n       EXTRACT (month FROM U.lastLogin) AS month\\n  FROM useracct AS U\\n WHERE U.hostname LIKE &apos;%.gov&apos;\\n GROUP BY EXTRACT(month FROM U.lastLogin);\\n```&quot;,536871074]],[&quot;^17&quot;,[1472,&quot;^P&quot;,&quot;^19&quot;,536871074]],[&quot;^17&quot;,[1472,&quot;^F&quot;,1471,536871074]],[&quot;^17&quot;,[1472,&quot;^Z&quot;,499,536871074]],[&quot;^17&quot;,[1472,&quot;^W&quot;,499,536871074]],[&quot;^17&quot;,[1472,&quot;^V&quot;,499,536871074]],[&quot;^17&quot;,[1472,&quot;^1@&quot;,true,536871074]],[&quot;^17&quot;,[1472,&quot;^;&quot;,&quot;~u62d35829-ed36-41e8-aa6f-1e2eb076affe&quot;,536871074]],[&quot;^17&quot;,[1473,&quot;^R&quot;,&quot;通常 OLAP 操作的就是 OLTP 应用搜集的数据&quot;,536871074]],[&quot;^17&quot;,[1473,&quot;^P&quot;,&quot;^19&quot;,536871074]],[&quot;^17&quot;,[1473,&quot;^F&quot;,1472,536871074]],[&quot;^17&quot;,[1473,&quot;^Z&quot;,499,536871074]],[&quot;^17&quot;,[1473,&quot;^W&quot;,499,536871074]],[&quot;^17&quot;,[1473,&quot;^V&quot;,499,536871074]],[&quot;^17&quot;,[1473,&quot;^1@&quot;,true,536871074]],[&quot;^17&quot;,[1473,&quot;^;&quot;,&quot;~u62d35829-c98e-4e3b-9527-429e5cb700ec&quot;,536871074]],[&quot;^17&quot;,[1476,&quot;^R&quot;,&quot;Tuple-oriented：记录数据本身&quot;,536871076]],[&quot;^17&quot;,[1476,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1476,&quot;^F&quot;,1492,536871076]],[&quot;^17&quot;,[1476,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1476,&quot;^W&quot;,1492,536871076]],[&quot;^17&quot;,[1476,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1476,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1476,&quot;^;&quot;,&quot;~u62d35829-d704-4381-9f03-be392e8f994d&quot;,536871076]],[&quot;^17&quot;,[1477,&quot;^R&quot;,&quot;Log-structured：记录数据的操作日志&quot;,536871076]],[&quot;^17&quot;,[1477,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1477,&quot;^F&quot;,1476,536871076]],[&quot;^17&quot;,[1477,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1477,&quot;^W&quot;,1492,536871076]],[&quot;^17&quot;,[1477,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1477,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1477,&quot;^;&quot;,&quot;~u62d35829-0d7d-40dc-934e-f89a92620a11&quot;,536871076]],[&quot;^17&quot;,[1478,&quot;^R&quot;,&quot;**Strawman Idea**: \\n在 header 中记录 tuple 的个数，然后不断的往下 append 即可，如下图所示：\\n![image.png](../assets/image_1657532440676_0.png)&quot;,536871076]],[&quot;^17&quot;,[1478,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1478,&quot;^F&quot;,1494,536871076]],[&quot;^17&quot;,[1478,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1478,&quot;^W&quot;,1494,536871076]],[&quot;^17&quot;,[1478,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1478,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1478,&quot;^;&quot;,&quot;~u62d35829-ea73-4889-9695-1aefa959eb1b&quot;,536871076]],[&quot;^17&quot;,[1479,&quot;^R&quot;,&quot;这种方法有明显的两个缺点：&quot;,536871076]],[&quot;^17&quot;,[1479,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1479,&quot;^F&quot;,1478,536871076]],[&quot;^17&quot;,[1479,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1479,&quot;^W&quot;,1494,536871076]],[&quot;^17&quot;,[1479,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1479,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1479,&quot;^;&quot;,&quot;~u62d35829-f316-4659-8ebb-163389c49867&quot;,536871076]],[&quot;^17&quot;,[1480,&quot;^R&quot;,&quot;[[LSM Tree]]&quot;,536871076]],[&quot;^17&quot;,[1480,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1480,&quot;^F&quot;,1489,536871076]],[&quot;^17&quot;,[1480,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1480,&quot;^W&quot;,1486,536871076]],[&quot;^17&quot;,[1480,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1480,&quot;^V&quot;,1475,536871076]],[&quot;^17&quot;,[1480,&quot;^H&quot;,1475,536871076]],[&quot;^17&quot;,[1480,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1480,&quot;^;&quot;,&quot;~u62d35829-7810-49cb-af94-e962e899cbf3&quot;,536871076]],[&quot;^17&quot;,[1481,&quot;^R&quot;,&quot;处理定长和变长 tuple 数据都游刃有余&quot;,536871076]],[&quot;^17&quot;,[1481,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1481,&quot;^F&quot;,1485,536871076]],[&quot;^17&quot;,[1481,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1481,&quot;^W&quot;,1496,536871076]],[&quot;^17&quot;,[1481,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1481,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1481,&quot;^;&quot;,&quot;~u62d35829-3d5e-461d-85a7-4cc8c8d61959&quot;,536871076]],[&quot;^17&quot;,[1482,&quot;^R&quot;,&quot;Page Size\\nChecksum\\nDBMS Version\\nTransaction Visibility\\nCompression Information&quot;,536871076]],[&quot;^17&quot;,[1482,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1482,&quot;^F&quot;,1498,536871076]],[&quot;^17&quot;,[1482,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1482,&quot;^W&quot;,1498,536871076]],[&quot;^17&quot;,[1482,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1482,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1482,&quot;^;&quot;,&quot;~u62d35829-e186-4fd9-aaf9-c1c332ab8410&quot;,536871076]],[&quot;^17&quot;,[1483,&quot;^R&quot;,&quot;**Slotted Pages**&quot;,536871076]],[&quot;^17&quot;,[1483,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1483,&quot;^F&quot;,1479,536871076]],[&quot;^17&quot;,[1483,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1483,&quot;^W&quot;,1494,536871076]],[&quot;^17&quot;,[1483,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1483,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1483,&quot;^;&quot;,&quot;~u62d35829-efc8-4e80-b631-359856ed8c7a&quot;,536871076]],[&quot;^17&quot;,[1484,&quot;^R&quot;,&quot;目前大部分 DBMS 都采用这种结构的 pages。&quot;,536871076]],[&quot;^17&quot;,[1484,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1484,&quot;^F&quot;,1496,536871076]],[&quot;^17&quot;,[1484,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1484,&quot;^W&quot;,1483,536871076]],[&quot;^17&quot;,[1484,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1484,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1484,&quot;^;&quot;,&quot;~u62d35829-5b78-40b6-a71d-9afe8832679a&quot;,536871076]],[&quot;^17&quot;,[1485,&quot;^R&quot;,&quot;删除记录时：假设删除 tuple#3，可以将 slot array 中的第三条记录删除，并将 tuple#4 及其以后的数据都都向下移动，填补 tuple#3 的空位。而这些细节对于 page 的使用者来说是透明的&quot;,536871076]],[&quot;^17&quot;,[1485,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1485,&quot;^F&quot;,1495,536871076]],[&quot;^17&quot;,[1485,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1485,&quot;^W&quot;,1496,536871076]],[&quot;^17&quot;,[1485,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1485,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1485,&quot;^;&quot;,&quot;~u62d35829-e1ae-43dc-a469-80c8a271e870&quot;,536871076]],[&quot;^17&quot;,[1486,&quot;^R&quot;,&quot;## **Log Structured**&quot;,536871076]],[&quot;^17&quot;,[1486,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1486,&quot;^X&quot;,2,536871076]],[&quot;^17&quot;,[1486,&quot;^F&quot;,1494,536871076]],[&quot;^17&quot;,[1486,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1486,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1486,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1486,&quot;^1&gt;&quot;,2,536871076]],[&quot;^17&quot;,[1486,&quot;^Y&quot;,&quot;^1?&quot;,536871076]],[&quot;^17&quot;,[1486,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1486,&quot;^;&quot;,&quot;~u62d35829-a767-4616-bce0-c912201f385f&quot;,536871076]],[&quot;^17&quot;,[1487,&quot;^R&quot;,&quot;# Data Layout&quot;,536871076]],[&quot;^17&quot;,[1487,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1487,&quot;^X&quot;,1,536871076]],[&quot;^17&quot;,[1487,&quot;^F&quot;,1498,536871076]],[&quot;^17&quot;,[1487,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1487,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1487,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1487,&quot;^1&gt;&quot;,1,536871076]],[&quot;^17&quot;,[1487,&quot;^Y&quot;,&quot;^1?&quot;,536871076]],[&quot;^17&quot;,[1487,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1487,&quot;^;&quot;,&quot;~u62d35829-d280-4510-ae71-33cc0ebe465a&quot;,536871076]],[&quot;^17&quot;,[1488,&quot;^R&quot;,&quot;log-structured 只存储日志记录，如下图所示：\\n![image.png](../assets/image_1657532694384_0.png)&quot;,536871076]],[&quot;^17&quot;,[1488,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1488,&quot;^F&quot;,1486,536871076]],[&quot;^17&quot;,[1488,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1488,&quot;^W&quot;,1486,536871076]],[&quot;^17&quot;,[1488,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1488,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1488,&quot;^;&quot;,&quot;~u62d35829-25c8-45c7-aa38-29d85e58f1f7&quot;,536871076]],[&quot;^17&quot;,[1489,&quot;^R&quot;,&quot;当然，定期压缩日志也是不可或缺的\\n:LOGBOOK:\\nCLOCK: [2022-07-11 Mon 17:45:52]\\n:END:\\n![image.png](../assets/image_1657532749471_0.png)&quot;,536871076]],[&quot;^17&quot;,[1489,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1489,&quot;^F&quot;,1493,536871076]],[&quot;^17&quot;,[1489,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1489,&quot;^W&quot;,1486,536871076]],[&quot;^17&quot;,[1489,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1489,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1489,&quot;^;&quot;,&quot;~u62d35829-ac54-4de8-b08c-1be703dc72c3&quot;,536871076]],[&quot;^17&quot;,[1490,&quot;^R&quot;,&quot;一旦出现删除操作，每次插入就需要遍历一遍，寻找空位，否则就会出现空间浪费&quot;,536871076]],[&quot;^17&quot;,[1490,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1490,&quot;^F&quot;,1479,536871076]],[&quot;^17&quot;,[1490,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1490,&quot;^W&quot;,1479,536871076]],[&quot;^17&quot;,[1490,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1490,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1490,&quot;^;&quot;,&quot;~u62d35829-b41b-48c0-b51f-e69930de5abb&quot;,536871076]],[&quot;^17&quot;,[1491,&quot;^R&quot;,&quot;&quot;,536871076]],[&quot;^17&quot;,[1491,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1491,&quot;^F&quot;,1480,536871076]],[&quot;^17&quot;,[1491,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1491,&quot;^W&quot;,1486,536871076]],[&quot;^17&quot;,[1491,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1491,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1491,&quot;^;&quot;,&quot;~u62d35829-f571-4693-8597-148fcadb86c0&quot;,536871076]],[&quot;^17&quot;,[1492,&quot;^R&quot;,&quot;data 中记录着真正存储的数据，数据记录的形式主要有两种：&quot;,536871076]],[&quot;^17&quot;,[1492,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1492,&quot;^F&quot;,1487,536871076]],[&quot;^17&quot;,[1492,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1492,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1492,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1492,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1492,&quot;^;&quot;,&quot;~u62d35829-1c83-4e7a-b9fb-6775e8b48d31&quot;,536871076]],[&quot;^17&quot;,[1493,&quot;^R&quot;,&quot;每次记录新的操作日志即可，增删改的操作都很快，但有得必有失，在查询场景下，就需要遍历 page 信息来生成数据才能返回查询结果。为了加快查询效率，通常会对操作日志在记录 id 上建立索引，如下图所示：\\n![image.png](../assets/image_1657532713571_0.png)&quot;,536871076]],[&quot;^17&quot;,[1493,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1493,&quot;^F&quot;,1488,536871076]],[&quot;^17&quot;,[1493,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1493,&quot;^W&quot;,1486,536871076]],[&quot;^17&quot;,[1493,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1493,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1493,&quot;^;&quot;,&quot;~u62d35829-30c4-4206-af6b-8de0e4213f72&quot;,536871076]],[&quot;^17&quot;,[1494,&quot;^R&quot;,&quot;## **Tuple Oriented**&quot;,536871076]],[&quot;^17&quot;,[1494,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1494,&quot;^X&quot;,2,536871076]],[&quot;^17&quot;,[1494,&quot;^F&quot;,1492,536871076]],[&quot;^17&quot;,[1494,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1494,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1494,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1494,&quot;^1&gt;&quot;,2,536871076]],[&quot;^17&quot;,[1494,&quot;^Y&quot;,&quot;^1?&quot;,536871076]],[&quot;^17&quot;,[1494,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1494,&quot;^;&quot;,&quot;~u62d35829-956a-4216-9859-6b27d1c11c1d&quot;,536871076]],[&quot;^17&quot;,[1495,&quot;^R&quot;,&quot;新增记录时：在 slot array 中新增一条记录，记录着改记录的入口地址。slot array 与 data 从 page 的两端向中间生长，二者相遇时，就认为这个 page 已经满了&quot;,536871076]],[&quot;^17&quot;,[1495,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1495,&quot;^F&quot;,1496,536871076]],[&quot;^17&quot;,[1495,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1495,&quot;^W&quot;,1496,536871076]],[&quot;^17&quot;,[1495,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1495,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1495,&quot;^;&quot;,&quot;~u62d35829-9e5c-4d01-97c5-5a750caf0231&quot;,536871076]],[&quot;^17&quot;,[1496,&quot;^R&quot;,&quot;如下图所示，header 中的 slot array 记录每个 slot 的信息，如大小、位移等\\n![image.png](../assets/image_1657532536292_0.png)&quot;,536871076]],[&quot;^17&quot;,[1496,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1496,&quot;^F&quot;,1483,536871076]],[&quot;^17&quot;,[1496,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1496,&quot;^W&quot;,1483,536871076]],[&quot;^17&quot;,[1496,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1496,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1496,&quot;^;&quot;,&quot;~u62d35829-55ea-4207-9bca-3c83bd60665c&quot;,536871076]],[&quot;^17&quot;,[1497,&quot;^R&quot;,&quot;无法处理变长的数据记录（tuple）&quot;,536871076]],[&quot;^17&quot;,[1497,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1497,&quot;^F&quot;,1490,536871076]],[&quot;^17&quot;,[1497,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1497,&quot;^W&quot;,1479,536871076]],[&quot;^17&quot;,[1497,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1497,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1497,&quot;^;&quot;,&quot;~u62d35829-c4eb-4519-99df-f994c3fb147b&quot;,536871076]],[&quot;^17&quot;,[1498,&quot;^R&quot;,&quot;header 中通常包含以下信息：&quot;,536871076]],[&quot;^17&quot;,[1498,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1498,&quot;^F&quot;,1499,536871076]],[&quot;^17&quot;,[1498,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1498,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1498,&quot;^V&quot;,748,536871076]],[&quot;^17&quot;,[1498,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1498,&quot;^;&quot;,&quot;~u62d35829-e234-4846-b7b4-daed988c78f9&quot;,536871076]],[&quot;^17&quot;,[1499,&quot;^R&quot;,&quot;每个 page 被分为两个部分：header 和 data，如下图所示：\\n![image.png](../assets/image_1657532318279_0.png)&quot;,536896731]],[&quot;^17&quot;,[1499,&quot;^P&quot;,&quot;^19&quot;,536871076]],[&quot;^17&quot;,[1499,&quot;^F&quot;,4488,536896738]],[&quot;^17&quot;,[1499,&quot;^Z&quot;,748,536871076]],[&quot;^17&quot;,[1499,&quot;^W&quot;,748,536871076]],[&quot;^17&quot;,[1499,&quot;^V&quot;,748,536896732]],[&quot;^17&quot;,[1499,&quot;^1@&quot;,true,536871076]],[&quot;^17&quot;,[1499,&quot;^;&quot;,&quot;~u62d35829-87da-47ff-ab40-2a315dc766c6&quot;,536871076]],[&quot;^17&quot;,[1575,&quot;^R&quot;,&quot;如果系统中总是有任意数量的 proposer，达成共识就可能变得比较困难，那么我们是不是可以先用一次 Paxos 协议选举出 Leader，确保整个系统中只有一个 proposer，然后在一段时间内，它在提交事务时就不需要 Propose 操作，直接进入 Commit 即可。这样就能大大提高 Paxos 达成共识的效率。到达一段时间后，proposer 的 Leader 身份失效，所有参与者重新选举。&quot;,536871080]],[&quot;^17&quot;,[1575,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1575,&quot;^F&quot;,1577,536871080]],[&quot;^17&quot;,[1575,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1575,&quot;^W&quot;,1577,536871080]],[&quot;^17&quot;,[1575,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1575,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1575,&quot;^;&quot;,&quot;~u62d3582a-7577-42ac-9f16-61d3668c9e46&quot;,536871080]],[&quot;^17&quot;,[1576,&quot;^R&quot;,&quot;## **2PC vs. Paxos**&quot;,536871080]],[&quot;^17&quot;,[1576,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1576,&quot;^X&quot;,2,536871080]],[&quot;^17&quot;,[1576,&quot;^F&quot;,1577,536871080]],[&quot;^17&quot;,[1576,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1576,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1576,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1576,&quot;^1&gt;&quot;,2,536871080]],[&quot;^17&quot;,[1576,&quot;^Y&quot;,&quot;^1?&quot;,536871080]],[&quot;^17&quot;,[1576,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1576,&quot;^;&quot;,&quot;~u62d3582a-0515-4de7-a1d4-7f2d26f7d181&quot;,536871080]],[&quot;^17&quot;,[1577,&quot;^R&quot;,&quot;# Multi-Paxos&quot;,536871080]],[&quot;^17&quot;,[1577,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1577,&quot;^X&quot;,1,536871080]],[&quot;^17&quot;,[1577,&quot;^F&quot;,1580,536871080]],[&quot;^17&quot;,[1577,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1577,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1577,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1577,&quot;^1&gt;&quot;,1,536871080]],[&quot;^17&quot;,[1577,&quot;^Y&quot;,&quot;^1?&quot;,536871080]],[&quot;^17&quot;,[1577,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1577,&quot;^;&quot;,&quot;~u62d3582a-7e8d-4d4f-b00c-fdf904183eab&quot;,536871080]],[&quot;^17&quot;,[1578,&quot;^R&quot;,&quot;paxos 需要存在多数节点，因此我们这里有 3 个 acceptors。应用程序首先向 proposer 发起事务提交请求：\\n![image.png](../assets/image_1657377831909_0.png)&quot;,536871080]],[&quot;^17&quot;,[1578,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1578,&quot;^F&quot;,1583,536871080]],[&quot;^17&quot;,[1578,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1578,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1578,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1578,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1578,&quot;^;&quot;,&quot;~u62d3582a-bb79-46ac-a3f9-f598824e2028&quot;,536871080]],[&quot;^17&quot;,[1579,&quot;^R&quot;,&quot;然后 proposer 向所有节点发出 Proposal，类似 2PC 的 Prepare 阶段，但与 2PC 不同，节点回复 Agree 时无需保证事务肯定能执行完成，此外如果其中一个 acceptor (Node 3) 发生故障，proposer 依然获得了大多数节点的同意，不会阻碍 Paxos 协议的推进。获得多数节点同意后，proposer 就会继续向所有节点发送 Commit 请求：\\n![image.png](../assets/image_1657377849212_0.png)&quot;,536871080]],[&quot;^17&quot;,[1579,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1579,&quot;^F&quot;,1578,536871080]],[&quot;^17&quot;,[1579,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1579,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1579,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1579,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1579,&quot;^;&quot;,&quot;~u62d3582a-3906-4279-803f-309eb55c85be&quot;,536871080]],[&quot;^17&quot;,[1580,&quot;^R&quot;,&quot;仅当多数节点回复 Accept 后 proposer 才能确定事务提交成功，回复给应用程序。即使在 Commit 阶段，每个 acceptor 仍然可以拒绝请求。举例如下：\\n![image.png](../assets/image_1657377865884_0.png)\\n假设有两个 Proposer 同时存在，这是 proposer 1 提出逻辑时刻为 n 的 proposal，随后所有 acceptors 都回复 agree。\\n![image.png](../assets/image_1657377891652_0.png)\\n随后 proposer 2 提出逻辑时刻为 n+1 的 proposal，接着 proposer 1 发起逻辑时刻为 n 的 commit 请求。由于 acceptors 收到了逻辑时刻更新的请求，因此它们拒绝 proposer 1 的请求：\\n![image.png](../assets/image_1657377913557_0.png)\\n![image.png](../assets/image_1657377938364_0.png)&quot;,536871080]],[&quot;^17&quot;,[1580,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1580,&quot;^F&quot;,1579,536871080]],[&quot;^17&quot;,[1580,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1580,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1580,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1580,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1580,&quot;^;&quot;,&quot;~u62d3582a-7a19-4d12-9ccb-e8c10e77acda&quot;,536871080]],[&quot;^17&quot;,[1581,&quot;^R&quot;,&quot;你可能会问，每次选举的时候会不会出现互相阻塞的现象？如果在实践上我们用一些合理的优先和随机退后 (backoff) 机制，就可以减少阻塞的次数，概率上保证选举能够最终成功。&quot;,536871080]],[&quot;^17&quot;,[1581,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1581,&quot;^F&quot;,1575,536871080]],[&quot;^17&quot;,[1581,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1581,&quot;^W&quot;,1577,536871080]],[&quot;^17&quot;,[1581,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1581,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1581,&quot;^;&quot;,&quot;~u62d3582a-60c3-47e3-bef5-b238e05f739d&quot;,536871080]],[&quot;^17&quot;,[1582,&quot;^R&quot;,&quot;paxos 属于共识协议，coordinator 负责提交 commit 或 abort 指令，participants 投票决定这个指令是否应该执行。与 2PC 相比，paxos 只需要等待大多数 participants 同意，因此在时延上比 2PC 更有保障。&quot;,536871080]],[&quot;^17&quot;,[1582,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1582,&quot;^F&quot;,4526,536896944]],[&quot;^17&quot;,[1582,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1582,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1582,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1582,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1582,&quot;^;&quot;,&quot;~u62d3582a-ae5a-4d9b-b251-1dcd38823801&quot;,536871080]],[&quot;^17&quot;,[1583,&quot;^R&quot;,&quot;我们可以将 2PC 理解成是 Paxos 的一种特殊情况。接下来我们看一下 Paxos 的工作过程。在 Paxos 中，coordinator 被称为 proposer，participants 被称为 acceptors，如下图所示:\\n![image.png](../assets/image_1657377808979_0.png)&quot;,536871080]],[&quot;^17&quot;,[1583,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1583,&quot;^F&quot;,1584,536871080]],[&quot;^17&quot;,[1583,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1583,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1583,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1583,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1583,&quot;^;&quot;,&quot;~u62d3582a-1c5e-46af-991f-5e71e331fad1&quot;,536871080]],[&quot;^17&quot;,[1584,&quot;^R&quot;,&quot;背景：paxos 最早在 Leslie Lamport 的 [The Part-Time Parliament](https://lamport.azurewebsites.net/pubs/lamport-paxos.pdf) 论文中提出，尽管这篇文章是 1998 年发表的，但早在 1992 年，他为了证明不存在这种拥有容错能力的共识算法，就发现了 Paxos。但由于他不听从论文审校人的建议修改，这篇论文就没有发表，若干年后，当人们开始尝试解决这个问题时，他才将这篇论文拿出来，声明自己早就已经解决了该问题。但这篇论文比较晦涩难懂，后来他在 2001 年又发表了一篇名为 [Paxos Made Simple](https://lamport.azurewebsites.net/pubs/paxos-simple.pdf)，仍然没有多少人能够看懂。直到 Google 在 2007 年发表了名为 [Paxos Made Live - An Enginnering Perspective](https://static.googleusercontent.com/media/research.google.com/zh-CN/archive/paxos_made_live.pdf) 的文章，才终于让更多人理解了其中的思想。&quot;,536871080]],[&quot;^17&quot;,[1584,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1584,&quot;^F&quot;,1582,536871080]],[&quot;^17&quot;,[1584,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1584,&quot;^W&quot;,797,536871080]],[&quot;^17&quot;,[1584,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1584,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1584,&quot;^;&quot;,&quot;~u62d3582a-0294-4b66-b4fb-f934e55a2b2f&quot;,536871080]],[&quot;^17&quot;,[1585,&quot;^R&quot;,&quot;目前绝大多数分布式数据库的各个节点一般部署距离较近、且网络连接质量较高，网络抖动和节点故障发生的概率比较低，因此它们多数采用 **2PC** 作为 Atomic Commit Protocol。2PC 的优点在于其网络通信成本低，在绝大多数情况下效率高，缺点在于如果出现 coordinator 故障，则会出现一定时间的阻塞。Paxos 的优点在于可以容忍少数节点发生故障，缺点在于通信成本较高。&quot;,536871080]],[&quot;^17&quot;,[1585,&quot;^P&quot;,&quot;^19&quot;,536871080]],[&quot;^17&quot;,[1585,&quot;^F&quot;,1576,536871080]],[&quot;^17&quot;,[1585,&quot;^Z&quot;,797,536871080]],[&quot;^17&quot;,[1585,&quot;^W&quot;,1576,536871080]],[&quot;^17&quot;,[1585,&quot;^V&quot;,797,536871080]],[&quot;^17&quot;,[1585,&quot;^1@&quot;,true,536871080]],[&quot;^17&quot;,[1585,&quot;^;&quot;,&quot;~u62d3582a-99bf-4deb-9ca1-7d415f2c4ee4&quot;,536871080]],[&quot;^17&quot;,[1599,&quot;^R&quot;,&quot;### 选择基数 selection cardinality&quot;,536871084]],[&quot;^17&quot;,[1599,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1599,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1599,&quot;^F&quot;,1682,536871084]],[&quot;^17&quot;,[1599,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1599,&quot;^W&quot;,1624,536871084]],[&quot;^17&quot;,[1599,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1599,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1599,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1599,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1599,&quot;^;&quot;,&quot;~u62d3582a-0be4-4a50-ac48-d1ebcb198e24&quot;,536871084]],[&quot;^17&quot;,[1600,&quot;^R&quot;,&quot;他们依赖他们处理数据的物理形式（排序，压缩）&quot;,536871084]],[&quot;^17&quot;,[1600,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1600,&quot;^F&quot;,1635,536871084]],[&quot;^17&quot;,[1600,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1600,&quot;^W&quot;,1635,536871084]],[&quot;^17&quot;,[1600,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1600,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1600,&quot;^;&quot;,&quot;~u62d3582a-067a-44f2-902e-b716cb2d9041&quot;,536871084]],[&quot;^17&quot;,[1601,&quot;^R&quot;,&quot;将所有的笛卡尔积转化为内联接\\n![image.png](../assets/image_1656601546524_0.png){:height 389, :width 510}&quot;,536871084]],[&quot;^17&quot;,[1601,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1601,&quot;^F&quot;,1638,536871084]],[&quot;^17&quot;,[1601,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1601,&quot;^W&quot;,1638,536871084]],[&quot;^17&quot;,[1601,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1601,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1601,&quot;^;&quot;,&quot;~u62d3582a-15b9-43d2-b763-54c027e57206&quot;,536871084]],[&quot;^17&quot;,[1602,&quot;^R&quot;,&quot;![image.png](../assets/image_1656602349798_0.png)&quot;,536871084]],[&quot;^17&quot;,[1602,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1602,&quot;^F&quot;,1648,536871084]],[&quot;^17&quot;,[1602,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1602,&quot;^W&quot;,1668,536871084]],[&quot;^17&quot;,[1602,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1602,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1602,&quot;^;&quot;,&quot;~u62d3582a-d144-43d0-8026-04ec09f4f3d4&quot;,536871084]],[&quot;^17&quot;,[1603,&quot;^R&quot;,&quot;对更难的查询， 优化器将查询分解为块，一次处理一块\\n![image.png](../assets/image_1656602021324_0.png)&quot;,536871084]],[&quot;^17&quot;,[1603,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1603,&quot;^F&quot;,1627,536871084]],[&quot;^17&quot;,[1603,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1603,&quot;^W&quot;,1627,536871084]],[&quot;^17&quot;,[1603,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1603,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1603,&quot;^;&quot;,&quot;~u62d3582a-6efc-4a5b-a001-1a1f599932d7&quot;,536871084]],[&quot;^17&quot;,[1604,&quot;^R&quot;,&quot;Inclusion Principle\\n-&gt; join keys 的域重叠，内部关系中每个键也将存在于外部表&quot;,536871084]],[&quot;^17&quot;,[1604,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1604,&quot;^F&quot;,1650,536871084]],[&quot;^17&quot;,[1604,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1604,&quot;^W&quot;,1645,536871084]],[&quot;^17&quot;,[1604,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1604,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1604,&quot;^;&quot;,&quot;~u62d3582a-63e9-4464-a037-62e3b88cf920&quot;,536871084]],[&quot;^17&quot;,[1605,&quot;^R&quot;,&quot;逻辑计划 vs 物理计划&quot;,536871084]],[&quot;^17&quot;,[1605,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1605,&quot;^F&quot;,1617,536871084]],[&quot;^17&quot;,[1605,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1605,&quot;^W&quot;,1616,536871084]],[&quot;^17&quot;,[1605,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1605,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1605,&quot;^;&quot;,&quot;~u62d3582a-e064-4875-a3ea-a602bd04df96&quot;,536871084]],[&quot;^17&quot;,[1606,&quot;^R&quot;,&quot;将谓词移动到计划中可能的最低点&quot;,536871084]],[&quot;^17&quot;,[1606,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1606,&quot;^F&quot;,1634,536871084]],[&quot;^17&quot;,[1606,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1606,&quot;^W&quot;,1634,536871084]],[&quot;^17&quot;,[1606,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1606,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1606,&quot;^;&quot;,&quot;~u62d3582a-a71e-4d34-9915-94e6969d36fb&quot;,536871084]],[&quot;^17&quot;,[1607,&quot;^R&quot;,&quot;→ Depends heavily on hardware.\\n从内存读一个 tuple 比 从disk 读快 400 倍\\n顺序 IO 比 随机 IO快 4倍&quot;,536871084]],[&quot;^17&quot;,[1607,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1607,&quot;^F&quot;,1640,536871084]],[&quot;^17&quot;,[1607,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1607,&quot;^W&quot;,1639,536871084]],[&quot;^17&quot;,[1607,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1607,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1607,&quot;^;&quot;,&quot;~u62d3582a-2d0f-41ed-8145-31d4ce986bf1&quot;,536871084]],[&quot;^17&quot;,[1608,&quot;^R&quot;,&quot;### 两种查询优化方法&quot;,536871084]],[&quot;^17&quot;,[1608,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1608,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1608,&quot;^F&quot;,1664,536871084]],[&quot;^17&quot;,[1608,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1608,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1608,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1608,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1608,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1608,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1608,&quot;^;&quot;,&quot;~u62d3582a-3787-40f3-afa1-a811a4d53905&quot;,536871084]],[&quot;^17&quot;,[1609,&quot;^R&quot;,&quot;![image.png](../assets/image_1656599184783_0.png)&quot;,536871084]],[&quot;^17&quot;,[1609,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1609,&quot;^F&quot;,1654,536871084]],[&quot;^17&quot;,[1609,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1609,&quot;^W&quot;,1654,536871084]],[&quot;^17&quot;,[1609,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1609,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1609,&quot;^;&quot;,&quot;~u62d3582a-0aba-4c91-89fc-ce6e1ea644c8&quot;,536871084]],[&quot;^17&quot;,[1610,&quot;^R&quot;,&quot;最早的查询优化是 IBM  System R,  他的理念现在还在被使用&quot;,536871084]],[&quot;^17&quot;,[1610,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1610,&quot;^F&quot;,1643,536871084]],[&quot;^17&quot;,[1610,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1610,&quot;^W&quot;,1664,536871084]],[&quot;^17&quot;,[1610,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1610,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1610,&quot;^;&quot;,&quot;~u62d3582a-21b6-4c12-a14f-d919b6588f36&quot;,536871084]],[&quot;^17&quot;,[1611,&quot;^R&quot;,&quot;用模型来计算执行一个计划的代价&quot;,536871084]],[&quot;^17&quot;,[1611,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1611,&quot;^F&quot;,1612,536871084]],[&quot;^17&quot;,[1611,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1611,&quot;^W&quot;,1612,536871084]],[&quot;^17&quot;,[1611,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1611,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1611,&quot;^;&quot;,&quot;~u62d3582a-52c9-4732-89f8-2a312db853b2&quot;,536871084]],[&quot;^17&quot;,[1612,&quot;^R&quot;,&quot;#### Cost-based Search 动态&quot;,536871084]],[&quot;^17&quot;,[1612,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1612,&quot;^X&quot;,4,536871084]],[&quot;^17&quot;,[1612,&quot;^F&quot;,1629,536871084]],[&quot;^17&quot;,[1612,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1612,&quot;^W&quot;,1608,536871084]],[&quot;^17&quot;,[1612,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1612,&quot;^1&gt;&quot;,4,536871084]],[&quot;^17&quot;,[1612,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1612,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1612,&quot;^;&quot;,&quot;~u62d3582a-1b71-4e21-bd5c-5f9ac0ea56f9&quot;,536871084]],[&quot;^17&quot;,[1613,&quot;^R&quot;,&quot;Choice 3: Algorithmic Costs&quot;,536871084]],[&quot;^17&quot;,[1613,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1613,&quot;^F&quot;,1633,536871084]],[&quot;^17&quot;,[1613,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1613,&quot;^W&quot;,1671,536871084]],[&quot;^17&quot;,[1613,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1613,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1613,&quot;^;&quot;,&quot;~u62d3582a-e65c-4fca-9956-0042bcfa14cb&quot;,536871084]],[&quot;^17&quot;,[1614,&quot;^R&quot;,&quot;⑤ 大多数 DBMS 的 Tree Rewriter, 利用 Schema Info 将逻辑plan 重写&quot;,536871084]],[&quot;^17&quot;,[1614,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1614,&quot;^F&quot;,1661,536871084]],[&quot;^17&quot;,[1614,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1614,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1614,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1614,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1614,&quot;^;&quot;,&quot;~u62d3582a-8f09-48db-8495-b23aeeb65287&quot;,536871084]],[&quot;^17&quot;,[1615,&quot;^R&quot;,&quot;② 将SQL Query扔进 Parser&quot;,536871084]],[&quot;^17&quot;,[1615,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1615,&quot;^F&quot;,1679,536871084]],[&quot;^17&quot;,[1615,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1615,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1615,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1615,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1615,&quot;^;&quot;,&quot;~u62d3582a-489a-49c0-95de-6e871d14617e&quot;,536871084]],[&quot;^17&quot;,[1616,&quot;^R&quot;,&quot;### Architecture Overview&quot;,536871084]],[&quot;^17&quot;,[1616,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1616,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1616,&quot;^F&quot;,1608,536871084]],[&quot;^17&quot;,[1616,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1616,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1616,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1616,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1616,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1616,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1616,&quot;^;&quot;,&quot;~u62d3582a-1197-40e9-8115-58a8246788a2&quot;,536871084]],[&quot;^17&quot;,[1617,&quot;^R&quot;,&quot;![image.png](../assets/image_1656583403450_0.png)&quot;,536871084]],[&quot;^17&quot;,[1617,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1617,&quot;^F&quot;,1616,536871084]],[&quot;^17&quot;,[1617,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1617,&quot;^W&quot;,1616,536871084]],[&quot;^17&quot;,[1617,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1617,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1617,&quot;^;&quot;,&quot;~u62d3582a-b909-46d2-a485-683c0f5fe684&quot;,536871084]],[&quot;^17&quot;,[1618,&quot;^R&quot;,&quot;本方案对列存储数据库不适用。对于行存储数据库，越早过滤不用字段越好，因此将 Projections 操作向查询计划底部推能够缩小中间结果占用的空间&quot;,536871084]],[&quot;^17&quot;,[1618,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1618,&quot;^F&quot;,1678,536871084]],[&quot;^17&quot;,[1618,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1618,&quot;^W&quot;,1678,536871084]],[&quot;^17&quot;,[1618,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1618,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1618,&quot;^;&quot;,&quot;~u62d3582a-9377-4367-98e4-56d34e9fb907&quot;,536871084]],[&quot;^17&quot;,[1619,&quot;^R&quot;,&quot;![image.png](../assets/image_1656678168282_0.png)&quot;,536871084]],[&quot;^17&quot;,[1619,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1619,&quot;^F&quot;,1632,536871084]],[&quot;^17&quot;,[1619,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1619,&quot;^W&quot;,1624,536871084]],[&quot;^17&quot;,[1619,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1619,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1619,&quot;^;&quot;,&quot;~u62d3582a-f80d-460f-99ba-98f86c1f6b59&quot;,536871084]],[&quot;^17&quot;,[1620,&quot;^R&quot;,&quot;两个关系代数表达式是等价的，如果他们生成相同的元组集合&quot;,536871084]],[&quot;^17&quot;,[1620,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1620,&quot;^F&quot;,1667,536871084]],[&quot;^17&quot;,[1620,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1620,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1620,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1620,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1620,&quot;^;&quot;,&quot;~u62d3582a-40ba-4b11-a39d-3400e23023b9&quot;,536871084]],[&quot;^17&quot;,[1621,&quot;^R&quot;,&quot;重写查询来去除 愚蠢低消的 操作&quot;,536871084]],[&quot;^17&quot;,[1621,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1621,&quot;^F&quot;,1629,536871084]],[&quot;^17&quot;,[1621,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1621,&quot;^W&quot;,1629,536871084]],[&quot;^17&quot;,[1621,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1621,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1621,&quot;^;&quot;,&quot;~u62d3582a-3f62-458b-81de-1a2f5aaa91b2&quot;,536871084]],[&quot;^17&quot;,[1622,&quot;^R&quot;,&quot;![image.png](../assets/image_1656688695261_0.png)&quot;,536871084]],[&quot;^17&quot;,[1622,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1622,&quot;^F&quot;,1649,536871084]],[&quot;^17&quot;,[1622,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1622,&quot;^W&quot;,1649,536871084]],[&quot;^17&quot;,[1622,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1622,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1622,&quot;^;&quot;,&quot;~u62d3582a-1dfd-4a7d-92a6-57b36e12108f&quot;,536871084]],[&quot;^17&quot;,[1623,&quot;^R&quot;,&quot;DBMS 可以确定更好的 query plan without a cost model （成为 query rewrite）&quot;,536871084]],[&quot;^17&quot;,[1623,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1623,&quot;^F&quot;,1620,536871084]],[&quot;^17&quot;,[1623,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1623,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1623,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1623,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1623,&quot;^;&quot;,&quot;~u62d3582a-6432-4267-858f-aaee888d9720&quot;,536871084]],[&quot;^17&quot;,[1624,&quot;^R&quot;,&quot;## Statistics \\nid:: 62be7815-8318-4f8b-b5fb-bc00efe138d9&quot;,536871084]],[&quot;^17&quot;,[1624,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1624,&quot;^X&quot;,2,536871084]],[&quot;^17&quot;,[1624,&quot;^F&quot;,1613,536871084]],[&quot;^17&quot;,[1624,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1624,&quot;^W&quot;,1671,536871084]],[&quot;^17&quot;,[1624,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1624,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be7815-8318-4f8b-b5fb-bc00efe138d9&quot;],536871084]],[&quot;^17&quot;,[1624,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1624,&quot;^1&gt;&quot;,2,536871084]],[&quot;^17&quot;,[1624,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1624,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1624,&quot;^;&quot;,&quot;~u62be7815-8318-4f8b-b5fb-bc00efe138d9&quot;,536871084]],[&quot;^17&quot;,[1625,&quot;^R&quot;,&quot;因为实际值得分布式不确定的，我们需要使用直方图统计，辅助我们来进行 cost estimate&quot;,536871084]],[&quot;^17&quot;,[1625,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1625,&quot;^F&quot;,1604,536871084]],[&quot;^17&quot;,[1625,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1625,&quot;^W&quot;,1645,536871084]],[&quot;^17&quot;,[1625,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1625,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1625,&quot;^;&quot;,&quot;~u62d3582a-09e1-46c6-897a-d61242a5d820&quot;,536871084]],[&quot;^17&quot;,[1626,&quot;^R&quot;,&quot;→ Complexity of the operator algorithm implementation.&quot;,536871084]],[&quot;^17&quot;,[1626,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1626,&quot;^F&quot;,1613,536871084]],[&quot;^17&quot;,[1626,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1626,&quot;^W&quot;,1613,536871084]],[&quot;^17&quot;,[1626,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1626,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1626,&quot;^;&quot;,&quot;~u62d3582a-383f-48cc-9f5d-0b349e29f8e1&quot;,536871084]],[&quot;^17&quot;,[1627,&quot;^R&quot;,&quot;Decompose nested query and store result to temporary \\ntable 分解嵌套查询，存储结果到暂存表&quot;,536871084]],[&quot;^17&quot;,[1627,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1627,&quot;^F&quot;,1630,536871084]],[&quot;^17&quot;,[1627,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1627,&quot;^W&quot;,1642,536871084]],[&quot;^17&quot;,[1627,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1627,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1627,&quot;^;&quot;,&quot;~u62d3582a-8aa3-43f6-991e-9c8391d6024a&quot;,536871084]],[&quot;^17&quot;,[1628,&quot;^R&quot;,&quot;→ Need estimations for operator result sizes.&quot;,536871084]],[&quot;^17&quot;,[1628,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1628,&quot;^F&quot;,1670,536871084]],[&quot;^17&quot;,[1628,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1628,&quot;^W&quot;,1633,536871084]],[&quot;^17&quot;,[1628,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1628,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1628,&quot;^;&quot;,&quot;~u62d3582a-6927-4570-92a8-5538293fda98&quot;,536871084]],[&quot;^17&quot;,[1629,&quot;^R&quot;,&quot;#### Heuristics / Rules 静态&quot;,536871084]],[&quot;^17&quot;,[1629,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1629,&quot;^X&quot;,4,536871084]],[&quot;^17&quot;,[1629,&quot;^F&quot;,1608,536871084]],[&quot;^17&quot;,[1629,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1629,&quot;^W&quot;,1608,536871084]],[&quot;^17&quot;,[1629,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1629,&quot;^1&gt;&quot;,4,536871084]],[&quot;^17&quot;,[1629,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1629,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1629,&quot;^;&quot;,&quot;~u62d3582a-12bf-46d6-ad4b-2c576e20c287&quot;,536871084]],[&quot;^17&quot;,[1630,&quot;^R&quot;,&quot;Rewrite to de-correlate and/or flatten them 重写非相关 ，and/or 压平\\n![image.png](../assets/image_1656601939289_0.png)&quot;,536871084]],[&quot;^17&quot;,[1630,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1630,&quot;^F&quot;,1642,536871084]],[&quot;^17&quot;,[1630,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1630,&quot;^W&quot;,1642,536871084]],[&quot;^17&quot;,[1630,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1630,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1630,&quot;^;&quot;,&quot;~u62d3582a-3fc9-4ba0-ae86-e4e7c3676bfa&quot;,536871084]],[&quot;^17&quot;,[1631,&quot;^R&quot;,&quot;Conjunction 交\\n![image.png](../assets/image_1656678719641_0.png)&quot;,536871084]],[&quot;^17&quot;,[1631,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1631,&quot;^F&quot;,1653,536871084]],[&quot;^17&quot;,[1631,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1631,&quot;^W&quot;,1665,536871084]],[&quot;^17&quot;,[1631,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1631,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1631,&quot;^;&quot;,&quot;~u62d3582a-83a6-4f40-b598-4dbcb7c692ce&quot;,536871084]],[&quot;^17&quot;,[1632,&quot;^R&quot;,&quot;本质：整个查询过程需要读入和写出多少个tuples&quot;,536871084]],[&quot;^17&quot;,[1632,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1632,&quot;^F&quot;,1624,536871084]],[&quot;^17&quot;,[1632,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1632,&quot;^W&quot;,1624,536871084]],[&quot;^17&quot;,[1632,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1632,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1632,&quot;^;&quot;,&quot;~u62d3582a-2b8b-4ea0-b2fa-30a3bada64fb&quot;,536871084]],[&quot;^17&quot;,[1633,&quot;^R&quot;,&quot;Choice 2: Logical Costs→ Estimate result sizes per operator.&quot;,536871084]],[&quot;^17&quot;,[1633,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1633,&quot;^F&quot;,1639,536871084]],[&quot;^17&quot;,[1633,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1633,&quot;^W&quot;,1671,536871084]],[&quot;^17&quot;,[1633,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1633,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1633,&quot;^;&quot;,&quot;~u62d3582a-8a0b-492b-9c23-980d6277b147&quot;,536871084]],[&quot;^17&quot;,[1634,&quot;^R&quot;,&quot;Predicate Pushdown&quot;,536871084]],[&quot;^17&quot;,[1634,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1634,&quot;^F&quot;,1669,536871084]],[&quot;^17&quot;,[1634,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1634,&quot;^W&quot;,1677,536871084]],[&quot;^17&quot;,[1634,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1634,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1634,&quot;^;&quot;,&quot;~u62d3582a-0f30-4f16-b458-b40f199041dc&quot;,536871084]],[&quot;^17&quot;,[1635,&quot;^R&quot;,&quot;物理运算符使用访问路径来定义特定的执行策略&quot;,536871084]],[&quot;^17&quot;,[1635,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1635,&quot;^F&quot;,1605,536871084]],[&quot;^17&quot;,[1635,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1635,&quot;^W&quot;,1605,536871084]],[&quot;^17&quot;,[1635,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1635,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1635,&quot;^;&quot;,&quot;~u62d3582a-cea6-42f6-b47c-42af27baceba&quot;,536871084]],[&quot;^17&quot;,[1636,&quot;^R&quot;,&quot;Disjunction  并\\n![image.png](../assets/image_1656678740774_0.png)&quot;,536871084]],[&quot;^17&quot;,[1636,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1636,&quot;^F&quot;,1631,536871084]],[&quot;^17&quot;,[1636,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1636,&quot;^W&quot;,1665,536871084]],[&quot;^17&quot;,[1636,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1636,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1636,&quot;^;&quot;,&quot;~u62d3582a-203f-477f-8fd1-20ac934c6ce6&quot;,536871084]],[&quot;^17&quot;,[1637,&quot;^R&quot;,&quot;![image.png](../assets/image_1656688719200_0.png)&quot;,536871084]],[&quot;^17&quot;,[1637,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1637,&quot;^F&quot;,1622,536871084]],[&quot;^17&quot;,[1637,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1637,&quot;^W&quot;,1649,536871084]],[&quot;^17&quot;,[1637,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1637,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1637,&quot;^;&quot;,&quot;~u62d3582a-4ea1-411c-acb5-730c8ed1b0a4&quot;,536871084]],[&quot;^17&quot;,[1638,&quot;^R&quot;,&quot;Replace Cartesian Products with Joins&quot;,536871084]],[&quot;^17&quot;,[1638,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1638,&quot;^F&quot;,1634,536871084]],[&quot;^17&quot;,[1638,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1638,&quot;^W&quot;,1677,536871084]],[&quot;^17&quot;,[1638,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1638,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1638,&quot;^;&quot;,&quot;~u62d3582a-000e-47fa-abf1-f769514ba912&quot;,536871084]],[&quot;^17&quot;,[1639,&quot;^R&quot;,&quot;Choice 1: Physical Costs&quot;,536871084]],[&quot;^17&quot;,[1639,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1639,&quot;^F&quot;,1671,536871084]],[&quot;^17&quot;,[1639,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1639,&quot;^W&quot;,1671,536871084]],[&quot;^17&quot;,[1639,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1639,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1639,&quot;^;&quot;,&quot;~u62d3582a-02b1-4522-859e-60ab6d2388d5&quot;,536871084]],[&quot;^17&quot;,[1640,&quot;^R&quot;,&quot;→ Predict CPU cycles, I/O, cache misses, RAM consumption,  pre-fetching, etc...\\nCPU 花费是可被忽略的 &amp;&amp; 我们会考虑 顺序 vs 随机 IO&quot;,536871084]],[&quot;^17&quot;,[1640,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1640,&quot;^F&quot;,1639,536871084]],[&quot;^17&quot;,[1640,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1640,&quot;^W&quot;,1639,536871084]],[&quot;^17&quot;,[1640,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1640,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1640,&quot;^;&quot;,&quot;~u62d3582a-80af-4ad4-82ee-ce7ce0be6f3c&quot;,536871084]],[&quot;^17&quot;,[1641,&quot;^R&quot;,&quot;很难---现在已经使用ML 来提高精度和效率&quot;,536871084]],[&quot;^17&quot;,[1641,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1641,&quot;^F&quot;,1655,536871084]],[&quot;^17&quot;,[1641,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1641,&quot;^W&quot;,1655,536871084]],[&quot;^17&quot;,[1641,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1641,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1641,&quot;^;&quot;,&quot;~u62d3582a-a5b2-4c8f-8c11-3cf4fa8ea29b&quot;,536871084]],[&quot;^17&quot;,[1642,&quot;^R&quot;,&quot;### Nested Sub-Query\\nid:: 62be666a-cd6f-420b-8358-66c267ff0eb7\\nDBMS 将 嵌套子查询视为接受参数，返回值得函数。两种方法优化&quot;,536871084]],[&quot;^17&quot;,[1642,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1642,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1642,&quot;^F&quot;,1677,536871084]],[&quot;^17&quot;,[1642,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1642,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1642,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1642,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-cd6f-420b-8358-66c267ff0eb7&quot;],536871084]],[&quot;^17&quot;,[1642,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1642,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1642,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1642,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1642,&quot;^;&quot;,&quot;~u62be666a-cd6f-420b-8358-66c267ff0eb7&quot;,536871084]],[&quot;^17&quot;,[1643,&quot;^R&quot;,&quot;记住SQL 是启发式的, 用户告诉 DBMS 他们想要什么，而不是怎么得到答案 。所以一个查询如何计划的，对性能有巨大影响&quot;,536871084]],[&quot;^17&quot;,[1643,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1643,&quot;^F&quot;,1664,536871084]],[&quot;^17&quot;,[1643,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1643,&quot;^W&quot;,1664,536871084]],[&quot;^17&quot;,[1643,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1643,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1643,&quot;^;&quot;,&quot;~u62d3582a-a3d0-496d-b12f-ab4e8a7bfbff&quot;,536871084]],[&quot;^17&quot;,[1644,&quot;^R&quot;,&quot;Uniform Data\\n-&gt; 值的分布式均等的&quot;,536871084]],[&quot;^17&quot;,[1644,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1644,&quot;^F&quot;,1645,536871084]],[&quot;^17&quot;,[1644,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1644,&quot;^W&quot;,1645,536871084]],[&quot;^17&quot;,[1644,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1644,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1644,&quot;^;&quot;,&quot;~u62d3582a-1f04-4f0e-a032-6c6acc4c0eed&quot;,536871084]],[&quot;^17&quot;,[1645,&quot;^R&quot;,&quot;三种假设：&quot;,536871084]],[&quot;^17&quot;,[1645,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1645,&quot;^F&quot;,1599,536871084]],[&quot;^17&quot;,[1645,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1645,&quot;^W&quot;,1599,536871084]],[&quot;^17&quot;,[1645,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1645,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1645,&quot;^;&quot;,&quot;~u62d3582a-4a46-45eb-aa4e-8d32d838f731&quot;,536871084]],[&quot;^17&quot;,[1646,&quot;^R&quot;,&quot;# [selinger-optimization](https://cuuduongthancong.com/dlf/140216/co-so-du-lieu/carlo-a.-curino/mit6_830f10_lec09_selinger-query-optimization-(cc).pdf?src=preview)\\nid:: 62be666a-c75a-4954-85cf-0ae88e54ae72&quot;,536871084]],[&quot;^17&quot;,[1646,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1646,&quot;^X&quot;,1,536871084]],[&quot;^17&quot;,[1646,&quot;^F&quot;,1671,536871084]],[&quot;^17&quot;,[1646,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1646,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1646,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1646,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-c75a-4954-85cf-0ae88e54ae72&quot;],536871084]],[&quot;^17&quot;,[1646,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1646,&quot;^1&gt;&quot;,1,536871084]],[&quot;^17&quot;,[1646,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1646,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1646,&quot;^;&quot;,&quot;~u62be666a-c75a-4954-85cf-0ae88e54ae72&quot;,536871084]],[&quot;^17&quot;,[1647,&quot;^R&quot;,&quot;清除冗余属性，在 pipeline breakers 前来减少实体化开销\\n![image.png](../assets/image_1656601640085_0.png)&quot;,536871084]],[&quot;^17&quot;,[1647,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1647,&quot;^F&quot;,1662,536871084]],[&quot;^17&quot;,[1647,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1647,&quot;^W&quot;,1662,536871084]],[&quot;^17&quot;,[1647,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1647,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1647,&quot;^;&quot;,&quot;~u62d3582a-7fad-4c13-9319-1335d32a9f4d&quot;,536871084]],[&quot;^17&quot;,[1648,&quot;^R&quot;,&quot;![image.png](../assets/image_1656602285492_0.png){:height 331, :width 586}&quot;,536871084]],[&quot;^17&quot;,[1648,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1648,&quot;^F&quot;,1656,536871084]],[&quot;^17&quot;,[1648,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1648,&quot;^W&quot;,1668,536871084]],[&quot;^17&quot;,[1648,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1648,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1648,&quot;^;&quot;,&quot;~u62d3582a-b64e-48cf-8dc9-921aca9f2f38&quot;,536871084]],[&quot;^17&quot;,[1649,&quot;^R&quot;,&quot;samling \\nid:: 62bf0fc7-a712-4293-aff8-188f5d7d5bd7\\n现代DBMS 也会使用采样技术降低成本估计都成本，比如面对以下查询&quot;,536871084]],[&quot;^17&quot;,[1649,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1649,&quot;^F&quot;,1624,536871084]],[&quot;^17&quot;,[1649,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1649,&quot;^W&quot;,1671,536871084]],[&quot;^17&quot;,[1649,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1649,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bf0fc7-a712-4293-aff8-188f5d7d5bd7&quot;],536871084]],[&quot;^17&quot;,[1649,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1649,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1649,&quot;^;&quot;,&quot;~u62bf0fc7-a712-4293-aff8-188f5d7d5bd7&quot;,536871084]],[&quot;^17&quot;,[1650,&quot;^R&quot;,&quot;Independent Predicates\\n-&gt; 值得分布式独立的&quot;,536871084]],[&quot;^17&quot;,[1650,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1650,&quot;^F&quot;,1644,536871084]],[&quot;^17&quot;,[1650,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1650,&quot;^W&quot;,1645,536871084]],[&quot;^17&quot;,[1650,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1650,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1650,&quot;^;&quot;,&quot;~u62d3582a-affa-4df2-83e3-1c2f0a32b8e0&quot;,536871084]],[&quot;^17&quot;,[1651,&quot;^R&quot;,&quot;logical to physical 不是 1:1的&quot;,536871084]],[&quot;^17&quot;,[1651,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1651,&quot;^F&quot;,1600,536871084]],[&quot;^17&quot;,[1651,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1651,&quot;^W&quot;,1635,536871084]],[&quot;^17&quot;,[1651,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1651,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1651,&quot;^;&quot;,&quot;~u62d3582a-1fdb-4740-9805-ca59c16fc8fe&quot;,536871084]],[&quot;^17&quot;,[1652,&quot;^R&quot;,&quot;Equality\\n![image.png](../assets/image_1656678644257_0.png){:height 286, :width 585}&quot;,536871084]],[&quot;^17&quot;,[1652,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1652,&quot;^F&quot;,1665,536871084]],[&quot;^17&quot;,[1652,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1652,&quot;^W&quot;,1665,536871084]],[&quot;^17&quot;,[1652,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1652,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1652,&quot;^;&quot;,&quot;~u62d3582a-bf2a-4469-8dfd-2d732bd57791&quot;,536871084]],[&quot;^17&quot;,[1653,&quot;^R&quot;,&quot;Negation 非\\n![image.png](../assets/image_1656678692601_0.png)&quot;,536871084]],[&quot;^17&quot;,[1653,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1653,&quot;^F&quot;,1681,536871084]],[&quot;^17&quot;,[1653,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1653,&quot;^W&quot;,1665,536871084]],[&quot;^17&quot;,[1653,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1653,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1653,&quot;^;&quot;,&quot;~u62d3582a-4cdf-4651-855e-0766e97d0e6d&quot;,536871084]],[&quot;^17&quot;,[1654,&quot;^R&quot;,&quot;Predicate Pushdown 谓词下移&quot;,536871084]],[&quot;^17&quot;,[1654,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1654,&quot;^F&quot;,1673,536871084]],[&quot;^17&quot;,[1654,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1654,&quot;^W&quot;,1673,536871084]],[&quot;^17&quot;,[1654,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1654,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1654,&quot;^;&quot;,&quot;~u62d3582a-1981-4f1c-8274-b191d1d9a6d0&quot;,536871084]],[&quot;^17&quot;,[1655,&quot;^R&quot;,&quot;### Query optimization is NP-hard&quot;,536871084]],[&quot;^17&quot;,[1655,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1655,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1655,&quot;^F&quot;,1616,536871084]],[&quot;^17&quot;,[1655,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1655,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1655,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1655,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1655,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1655,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1655,&quot;^;&quot;,&quot;~u62d3582a-3c4b-4a2e-bb64-c2fd1713adff&quot;,536871084]],[&quot;^17&quot;,[1656,&quot;^R&quot;,&quot;![image.png](../assets/image_1656602320398_0.png)&quot;,536871084]],[&quot;^17&quot;,[1656,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1656,&quot;^F&quot;,1668,536871084]],[&quot;^17&quot;,[1656,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1656,&quot;^W&quot;,1668,536871084]],[&quot;^17&quot;,[1656,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1656,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1656,&quot;^;&quot;,&quot;~u62d3582a-8406-4144-99c8-2e08fe129f90&quot;,536871084]],[&quot;^17&quot;,[1657,&quot;^R&quot;,&quot;这个技术需要执行元数据目录，但不需要运行数据&quot;,536871084]],[&quot;^17&quot;,[1657,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1657,&quot;^F&quot;,1621,536871084]],[&quot;^17&quot;,[1657,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1657,&quot;^W&quot;,1629,536871084]],[&quot;^17&quot;,[1657,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1657,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1657,&quot;^;&quot;,&quot;~u62d3582a-8f0d-469c-aac0-2d9551221f84&quot;,536871084]],[&quot;^17&quot;,[1658,&quot;^R&quot;,&quot;将谓词分解为更简单形式，使得优化器更好地移动它们\\n![image.png](../assets/image_1656601425826_0.png)&quot;,536871084]],[&quot;^17&quot;,[1658,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1658,&quot;^F&quot;,1669,536871084]],[&quot;^17&quot;,[1658,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1658,&quot;^W&quot;,1669,536871084]],[&quot;^17&quot;,[1658,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1658,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1658,&quot;^;&quot;,&quot;~u62d3582a-8b84-4233-8c7d-e4d8092e62c6&quot;,536871084]],[&quot;^17&quot;,[1659,&quot;^R&quot;,&quot;③ Parser 生成 AST， 扔到 Binder (粘合器)&quot;,536871084]],[&quot;^17&quot;,[1659,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1659,&quot;^F&quot;,1615,536871084]],[&quot;^17&quot;,[1659,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1659,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1659,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1659,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1659,&quot;^;&quot;,&quot;~u62d3582a-c97a-4229-bf7d-6cf1f596380d&quot;,536871084]],[&quot;^17&quot;,[1660,&quot;^R&quot;,&quot;![image.png](../assets/image_1656600812293_0.png)\\njoin 的情况非常多，所以我们常用 silinger 优化器 来简化&quot;,536871084]],[&quot;^17&quot;,[1660,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1660,&quot;^F&quot;,1663,536871084]],[&quot;^17&quot;,[1660,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1660,&quot;^W&quot;,1654,536871084]],[&quot;^17&quot;,[1660,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1660,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1660,&quot;^;&quot;,&quot;~u62d3582a-5bd2-4b17-a2c3-7f73961d759b&quot;,536871084]],[&quot;^17&quot;,[1661,&quot;^R&quot;,&quot;④ Binder 利用 system catalog, 将name 转化为 确定的ID（表，列等等转化为Internel ID）,生成逻辑计划， 即左深二叉树&quot;,536871084]],[&quot;^17&quot;,[1661,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1661,&quot;^F&quot;,1659,536871084]],[&quot;^17&quot;,[1661,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1661,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1661,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1661,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1661,&quot;^;&quot;,&quot;~u62d3582a-3543-4167-a60f-f60778748bbd&quot;,536871084]],[&quot;^17&quot;,[1662,&quot;^R&quot;,&quot;Projection Pushdown&quot;,536871084]],[&quot;^17&quot;,[1662,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1662,&quot;^F&quot;,1638,536871084]],[&quot;^17&quot;,[1662,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1662,&quot;^W&quot;,1677,536871084]],[&quot;^17&quot;,[1662,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1662,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1662,&quot;^;&quot;,&quot;~u62d3582a-2ac6-4dae-8e5e-b1be8af17626&quot;,536871084]],[&quot;^17&quot;,[1663,&quot;^R&quot;,&quot;![image.png](../assets/image_1656599212774_0.png)&quot;,536871084]],[&quot;^17&quot;,[1663,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1663,&quot;^F&quot;,1609,536871084]],[&quot;^17&quot;,[1663,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1663,&quot;^W&quot;,1654,536871084]],[&quot;^17&quot;,[1663,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1663,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1663,&quot;^;&quot;,&quot;~u62d3582a-eeb3-40bc-852a-ade69fa16c28&quot;,536871084]],[&quot;^17&quot;,[1664,&quot;^R&quot;,&quot;# 序&quot;,536871084]],[&quot;^17&quot;,[1664,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1664,&quot;^X&quot;,1,536871084]],[&quot;^17&quot;,[1664,&quot;^F&quot;,4505,536896826]],[&quot;^17&quot;,[1664,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1664,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1664,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1664,&quot;^1&gt;&quot;,1,536871084]],[&quot;^17&quot;,[1664,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1664,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1664,&quot;^;&quot;,&quot;~u62d3582a-c547-421e-9125-cbcea91b3006&quot;,536871084]],[&quot;^17&quot;,[1665,&quot;^R&quot;,&quot;利用以上信息和假设，DBMS 可以估计不同 predicates 的 selectivity：&quot;,536871084]],[&quot;^17&quot;,[1665,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1665,&quot;^F&quot;,1619,536871084]],[&quot;^17&quot;,[1665,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1665,&quot;^W&quot;,1624,536871084]],[&quot;^17&quot;,[1665,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1665,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1665,&quot;^;&quot;,&quot;~u62d3582a-0966-4588-bef7-933f7a0e7865&quot;,536871084]],[&quot;^17&quot;,[1666,&quot;^R&quot;,&quot;计算多个等价的计划，选择一个最低的花费&quot;,536871084]],[&quot;^17&quot;,[1666,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1666,&quot;^F&quot;,1611,536871084]],[&quot;^17&quot;,[1666,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1666,&quot;^W&quot;,1612,536871084]],[&quot;^17&quot;,[1666,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1666,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1666,&quot;^;&quot;,&quot;~u62d3582a-feb5-4389-9c68-819490d87092&quot;,536871084]],[&quot;^17&quot;,[1667,&quot;^R&quot;,&quot;# Relational Algebra Equivalences\\nid:: 62be666a-0b1a-4298-82f0-7920ee4ae926&quot;,536871084]],[&quot;^17&quot;,[1667,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1667,&quot;^X&quot;,1,536871084]],[&quot;^17&quot;,[1667,&quot;^F&quot;,1655,536871084]],[&quot;^17&quot;,[1667,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1667,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1667,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1667,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-0b1a-4298-82f0-7920ee4ae926&quot;],536871084]],[&quot;^17&quot;,[1667,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1667,&quot;^1&gt;&quot;,1,536871084]],[&quot;^17&quot;,[1667,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1667,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1667,&quot;^;&quot;,&quot;~u62be666a-0b1a-4298-82f0-7920ee4ae926&quot;,536871084]],[&quot;^17&quot;,[1668,&quot;^R&quot;,&quot;### Expression Rewriting\\nid:: 62be666a-d381-4bc0-b323-8da31b95c797\\n优化器将表达式变为 最优/最小表达式子集。使用 if/then/else 或模式匹配规则引擎实现\\n-&gt; 搜索表达式来匹配模式\\n-&gt; 如果匹配到，重写表达式\\n-&gt; 如果没找到更多，中止&quot;,536871084]],[&quot;^17&quot;,[1668,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1668,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1668,&quot;^F&quot;,1642,536871084]],[&quot;^17&quot;,[1668,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1668,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1668,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1668,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-d381-4bc0-b323-8da31b95c797&quot;],536871084]],[&quot;^17&quot;,[1668,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1668,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1668,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1668,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1668,&quot;^;&quot;,&quot;~u62be666a-d381-4bc0-b323-8da31b95c797&quot;,536871084]],[&quot;^17&quot;,[1669,&quot;^R&quot;,&quot;Split Conjunctive Predicates&quot;,536871084]],[&quot;^17&quot;,[1669,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1669,&quot;^F&quot;,1677,536871084]],[&quot;^17&quot;,[1669,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1669,&quot;^W&quot;,1677,536871084]],[&quot;^17&quot;,[1669,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1669,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1669,&quot;^;&quot;,&quot;~u62d3582a-5b3b-468a-b668-051b4e7d5f55&quot;,536871084]],[&quot;^17&quot;,[1670,&quot;^R&quot;,&quot;→ Independent of the operator algorithm.&quot;,536871084]],[&quot;^17&quot;,[1670,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1670,&quot;^F&quot;,1633,536871084]],[&quot;^17&quot;,[1670,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1670,&quot;^W&quot;,1633,536871084]],[&quot;^17&quot;,[1670,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1670,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1670,&quot;^;&quot;,&quot;~u62d3582a-7218-4e8e-ae19-8bc5c83c9038&quot;,536871084]],[&quot;^17&quot;,[1671,&quot;^R&quot;,&quot;# Cost-Based Query Planning\\n针对数据库当前状态生成特定查询计划的成本估计 -&gt; Estimates are only meaningful internally. 这个过程与计划枚举步骤无关&quot;,536871084]],[&quot;^17&quot;,[1671,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1671,&quot;^X&quot;,1,536871084]],[&quot;^17&quot;,[1671,&quot;^F&quot;,1667,536871084]],[&quot;^17&quot;,[1671,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1671,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1671,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1671,&quot;^1&gt;&quot;,1,536871084]],[&quot;^17&quot;,[1671,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1671,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1671,&quot;^;&quot;,&quot;~u62d3582a-997c-4bd2-a9c8-f112632ce10e&quot;,536871084]],[&quot;^17&quot;,[1672,&quot;^R&quot;,&quot;&quot;,536871084]],[&quot;^17&quot;,[1672,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1672,&quot;^F&quot;,1646,536871084]],[&quot;^17&quot;,[1672,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1672,&quot;^W&quot;,79,536871084]],[&quot;^17&quot;,[1672,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1672,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1672,&quot;^;&quot;,&quot;~u62d3582a-fcb1-4a3c-851f-0db1e850f188&quot;,536871084]],[&quot;^17&quot;,[1673,&quot;^R&quot;,&quot;### query rewrite\\nid:: 62be666a-5ca0-406a-b925-798b47e9c55b&quot;,536871084]],[&quot;^17&quot;,[1673,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1673,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1673,&quot;^F&quot;,1623,536871084]],[&quot;^17&quot;,[1673,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1673,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1673,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1673,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-5ca0-406a-b925-798b47e9c55b&quot;],536871084]],[&quot;^17&quot;,[1673,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1673,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1673,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1673,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1673,&quot;^;&quot;,&quot;~u62be666a-5ca0-406a-b925-798b47e9c55b&quot;,536871084]],[&quot;^17&quot;,[1674,&quot;^R&quot;,&quot;普通情况 \\n![image.png](../assets/image_1656680067525_0.png)&quot;,536871084]],[&quot;^17&quot;,[1674,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1674,&quot;^F&quot;,1682,536871084]],[&quot;^17&quot;,[1674,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1674,&quot;^W&quot;,1682,536871084]],[&quot;^17&quot;,[1674,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1674,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1674,&quot;^;&quot;,&quot;~u62d3582a-17b6-48c7-a0f9-81e890195ac8&quot;,536871084]],[&quot;^17&quot;,[1675,&quot;^R&quot;,&quot;&quot;,536871084]],[&quot;^17&quot;,[1675,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1675,&quot;^F&quot;,1672,536871084]],[&quot;^17&quot;,[1675,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1675,&quot;^W&quot;,1672,536871084]],[&quot;^17&quot;,[1675,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1675,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1675,&quot;^;&quot;,&quot;~u62d3582a-89f6-4612-8bd8-33c17fb5747b&quot;,536871084]],[&quot;^17&quot;,[1676,&quot;^R&quot;,&quot;![image.png](../assets/image_1656601432037_0.png){:height 394, :width 493}&quot;,536871084]],[&quot;^17&quot;,[1676,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1676,&quot;^F&quot;,1606,536871084]],[&quot;^17&quot;,[1676,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1676,&quot;^W&quot;,1634,536871084]],[&quot;^17&quot;,[1676,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1676,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1676,&quot;^;&quot;,&quot;~u62d3582a-4901-4724-bb5a-ea97fb9bf416&quot;,536871084]],[&quot;^17&quot;,[1677,&quot;^R&quot;,&quot;### Logical Query Optimization\\nid:: 62be666a-6e0d-4796-ab11-ce188d17b3c9\\n将逻辑查询转化为等价的查询利用模式匹配规则。目的是增大搜索中枚举到最优的可能性。不能比较plan 因为没有 cost model，但可以**直接**转化为更好的形式&quot;,536871084]],[&quot;^17&quot;,[1677,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1677,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1677,&quot;^F&quot;,1673,536871084]],[&quot;^17&quot;,[1677,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1677,&quot;^W&quot;,1667,536871084]],[&quot;^17&quot;,[1677,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1677,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62be666a-6e0d-4796-ab11-ce188d17b3c9&quot;],536871084]],[&quot;^17&quot;,[1677,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871084]],[&quot;^17&quot;,[1677,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1677,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1677,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1677,&quot;^;&quot;,&quot;~u62be666a-6e0d-4796-ab11-ce188d17b3c9&quot;,536871084]],[&quot;^17&quot;,[1678,&quot;^R&quot;,&quot;Projections Pushdown&quot;,536871084]],[&quot;^17&quot;,[1678,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1678,&quot;^F&quot;,1654,536871084]],[&quot;^17&quot;,[1678,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1678,&quot;^W&quot;,1673,536871084]],[&quot;^17&quot;,[1678,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1678,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1678,&quot;^;&quot;,&quot;~u62d3582a-3436-406a-85c3-98ea6a2d6600&quot;,536871084]],[&quot;^17&quot;,[1679,&quot;^R&quot;,&quot;① 很少的数据库有 SQL rewriter， 将sql语句在 text 级别上重写&quot;,536871084]],[&quot;^17&quot;,[1679,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1679,&quot;^F&quot;,1617,536871084]],[&quot;^17&quot;,[1679,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1679,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1679,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1679,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1679,&quot;^;&quot;,&quot;~u62d3582a-3233-4d1f-993f-09bbc0699054&quot;,536871084]],[&quot;^17&quot;,[1680,&quot;^R&quot;,&quot;![image.png](../assets/image_1656601026518_0.png)&quot;,536871084]],[&quot;^17&quot;,[1680,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1680,&quot;^F&quot;,1618,536871084]],[&quot;^17&quot;,[1680,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1680,&quot;^W&quot;,1678,536871084]],[&quot;^17&quot;,[1680,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1680,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1680,&quot;^;&quot;,&quot;~u62d3582a-9319-4165-9d64-93db99a9aba6&quot;,536871084]],[&quot;^17&quot;,[1681,&quot;^R&quot;,&quot;Range\\n![image.png](../assets/image_1656678661624_0.png)&quot;,536871084]],[&quot;^17&quot;,[1681,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1681,&quot;^F&quot;,1652,536871084]],[&quot;^17&quot;,[1681,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1681,&quot;^W&quot;,1665,536871084]],[&quot;^17&quot;,[1681,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1681,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1681,&quot;^;&quot;,&quot;~u62d3582a-e9a5-4fc5-8389-76d28350913e&quot;,536871084]],[&quot;^17&quot;,[1682,&quot;^R&quot;,&quot;### Joins \\njoins  R S, 的到的结果范围是什么？&quot;,536871084]],[&quot;^17&quot;,[1682,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1682,&quot;^X&quot;,3,536871084]],[&quot;^17&quot;,[1682,&quot;^F&quot;,1665,536871084]],[&quot;^17&quot;,[1682,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1682,&quot;^W&quot;,1624,536871084]],[&quot;^17&quot;,[1682,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1682,&quot;^1&gt;&quot;,3,536871084]],[&quot;^17&quot;,[1682,&quot;^Y&quot;,&quot;^1?&quot;,536871084]],[&quot;^17&quot;,[1682,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1682,&quot;^;&quot;,&quot;~u62d3582a-d1a0-4d86-ae38-345debe6cbb2&quot;,536871084]],[&quot;^17&quot;,[1683,&quot;^R&quot;,&quot;⑥ 优化器，将逻辑plan转化为物理计划，比如具体的算子。 启发法用 Schema Info信息；cost-based 使用 cost model 来估计&quot;,536871084]],[&quot;^17&quot;,[1683,&quot;^P&quot;,&quot;^19&quot;,536871084]],[&quot;^17&quot;,[1683,&quot;^F&quot;,1614,536871084]],[&quot;^17&quot;,[1683,&quot;^Z&quot;,79,536871084]],[&quot;^17&quot;,[1683,&quot;^W&quot;,1617,536871084]],[&quot;^17&quot;,[1683,&quot;^V&quot;,79,536871084]],[&quot;^17&quot;,[1683,&quot;^1@&quot;,true,536871084]],[&quot;^17&quot;,[1683,&quot;^;&quot;,&quot;~u62d3582a-2d45-4b8d-a559-3a25ed30455b&quot;,536871084]],[&quot;^17&quot;,[1685,&quot;^L&quot;,1656724352847,536871263]],[&quot;^17&quot;,[1685,&quot;^@&quot;,false,536871086]],[&quot;^17&quot;,[1685,&quot;^[&quot;,&quot;火山模型&quot;,536871086]],[&quot;^17&quot;,[1685,&quot;^13&quot;,&quot;火山模型&quot;,536871086]],[&quot;^17&quot;,[1685,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896811]],[&quot;^17&quot;,[1685,&quot;^B&quot;,1656725554681,536871263]],[&quot;^17&quot;,[1685,&quot;^;&quot;,&quot;~u62d3582d-60e2-48db-a2d0-4e9d959411c8&quot;,536871242]],[&quot;^17&quot;,[1687,&quot;^R&quot;,&quot;Multi-index/\\&quot;Bitmap\\&quot; Scan&quot;,536871086]],[&quot;^17&quot;,[1687,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1687,&quot;^F&quot;,1725,536871086]],[&quot;^17&quot;,[1687,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1687,&quot;^W&quot;,1693,536871086]],[&quot;^17&quot;,[1687,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1687,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1687,&quot;^;&quot;,&quot;~u62d3582a-fc22-4697-96c0-4039fcd56ddd&quot;,536871086]],[&quot;^17&quot;,[1688,&quot;^R&quot;,&quot;students 在不同 attributes 上的分布可能如下所示\\n![image.png](../assets/image_1656377281820_0.png)&quot;,536871086]],[&quot;^17&quot;,[1688,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1688,&quot;^F&quot;,1742,536871086]],[&quot;^17&quot;,[1688,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1688,&quot;^W&quot;,1746,536871086]],[&quot;^17&quot;,[1688,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1688,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1688,&quot;^;&quot;,&quot;~u62d3582a-3505-4ba9-83e8-3872833c63de&quot;,536871086]],[&quot;^17&quot;,[1689,&quot;^R&quot;,&quot;Materialization Model&quot;,536871086]],[&quot;^17&quot;,[1689,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1689,&quot;^F&quot;,1690,536871086]],[&quot;^17&quot;,[1689,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1689,&quot;^W&quot;,1703,536871086]],[&quot;^17&quot;,[1689,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1689,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1689,&quot;^;&quot;,&quot;~u62d3582a-f157-439a-8f40-0010a67f444a&quot;,536871086]],[&quot;^17&quot;,[1690,&quot;^R&quot;,&quot;Iterator Model&quot;,536871086]],[&quot;^17&quot;,[1690,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1690,&quot;^F&quot;,1703,536871086]],[&quot;^17&quot;,[1690,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1690,&quot;^W&quot;,1703,536871086]],[&quot;^17&quot;,[1690,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1690,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1690,&quot;^;&quot;,&quot;~u62d3582a-8933-486c-ac7e-a97e36475971&quot;,536871086]],[&quot;^17&quot;,[1691,&quot;^R&quot;,&quot;### Vectorization Model&quot;,536871086]],[&quot;^17&quot;,[1691,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1691,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1691,&quot;^F&quot;,1719,536871086]],[&quot;^17&quot;,[1691,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1691,&quot;^W&quot;,1695,536871086]],[&quot;^17&quot;,[1691,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1691,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1691,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1691,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1691,&quot;^;&quot;,&quot;~u62d3582a-c819-4b03-8454-db85e480ce54&quot;,536871086]],[&quot;^17&quot;,[1692,&quot;^R&quot;,&quot;不太适合会产生大量中间结果的 OLAP 查询&quot;,536871086]],[&quot;^17&quot;,[1692,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1692,&quot;^F&quot;,1730,536871086]],[&quot;^17&quot;,[1692,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1692,&quot;^W&quot;,1719,536871086]],[&quot;^17&quot;,[1692,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1692,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1692,&quot;^;&quot;,&quot;~u62d3582a-8ae8-45d8-af6b-f8be5c194014&quot;,536871086]],[&quot;^17&quot;,[1693,&quot;^R&quot;,&quot;access methods 指的是DBMS 从数据表中获取数据的方式，它并没有在 relational algebra 中定义。主要有三种方式&quot;,536871086]],[&quot;^17&quot;,[1693,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1693,&quot;^F&quot;,638,536871086]],[&quot;^17&quot;,[1693,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1693,&quot;^W&quot;,638,536871086]],[&quot;^17&quot;,[1693,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1693,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1693,&quot;^;&quot;,&quot;~u62d3582a-d6e4-4245-b5bd-2361e6fd06df&quot;,536871086]],[&quot;^17&quot;,[1694,&quot;^R&quot;,&quot;仍然以上一个 SQL 为例，使用 multi-index scan 的过程如下所示：\\n![image.png](../assets/image_1656377333768_0.png)&quot;,536871086]],[&quot;^17&quot;,[1694,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1694,&quot;^F&quot;,1706,536871086]],[&quot;^17&quot;,[1694,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1694,&quot;^W&quot;,1713,536871086]],[&quot;^17&quot;,[1694,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1694,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1694,&quot;^;&quot;,&quot;~u62d3582a-b6a2-492d-bb5d-42663c2220c8&quot;,536871086]],[&quot;^17&quot;,[1695,&quot;^R&quot;,&quot;# Processing Model&quot;,536871086]],[&quot;^17&quot;,[1695,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1695,&quot;^X&quot;,1,536871086]],[&quot;^17&quot;,[1695,&quot;^F&quot;,1720,536871086]],[&quot;^17&quot;,[1695,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1695,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[1695,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1695,&quot;^1&gt;&quot;,1,536871086]],[&quot;^17&quot;,[1695,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1695,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1695,&quot;^;&quot;,&quot;~u62d3582a-8208-41ca-8608-c2802b41ee8b&quot;,536871086]],[&quot;^17&quot;,[1696,&quot;^R&quot;,&quot;然后根据 expression tree 完成数据过滤的判断，但这个过程比较低效，很多 DBMS 采用 JIT Compilation 的方式，直接将比较的过程编译成机器码来执行，提高 expression evaluation 的效率。\\n[JIT Compilation：理解与实现 - 知乎](https://zhuanlan.zhihu.com/p/373584239)&quot;,536871086]],[&quot;^17&quot;,[1696,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1696,&quot;^F&quot;,1750,536871086]],[&quot;^17&quot;,[1696,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1696,&quot;^W&quot;,1721,536871086]],[&quot;^17&quot;,[1696,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1696,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1696,&quot;^;&quot;,&quot;~u62d3582a-852a-4fe6-bd56-064cf817dc1d&quot;,536871086]],[&quot;^17&quot;,[1697,&quot;^R&quot;,&quot;batch 的大小可以根据需要改变（hardware、query properties）&quot;,536871086]],[&quot;^17&quot;,[1697,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1697,&quot;^F&quot;,1727,536871086]],[&quot;^17&quot;,[1697,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1697,&quot;^W&quot;,1723,536871086]],[&quot;^17&quot;,[1697,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1697,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1697,&quot;^;&quot;,&quot;~u62d3582a-f816-4649-86b5-e85a78387c3f&quot;,536871086]],[&quot;^17&quot;,[1698,&quot;^R&quot;,&quot;(本节) [[Heap Clustering]]&quot;,536871086]],[&quot;^17&quot;,[1698,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1698,&quot;^F&quot;,1736,536871086]],[&quot;^17&quot;,[1698,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1698,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1698,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1698,&quot;^V&quot;,1006,536871086]],[&quot;^17&quot;,[1698,&quot;^H&quot;,1006,536871086]],[&quot;^17&quot;,[1698,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1698,&quot;^;&quot;,&quot;~u62d3582a-0ea3-45f0-8775-93526e52b6c5&quot;,536871086]],[&quot;^17&quot;,[1699,&quot;^R&quot;,&quot;Vectorized/Batch Model&quot;,536871086]],[&quot;^17&quot;,[1699,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1699,&quot;^F&quot;,1689,536871086]],[&quot;^17&quot;,[1699,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1699,&quot;^W&quot;,1703,536871086]],[&quot;^17&quot;,[1699,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1699,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1699,&quot;^;&quot;,&quot;~u62d3582a-eb7c-4ee1-aa1c-3f5134eff22f&quot;,536871086]],[&quot;^17&quot;,[1700,&quot;^R&quot;,&quot;![image.png](../assets/image_1656377479533_0.png)&quot;,536871086]],[&quot;^17&quot;,[1700,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1700,&quot;^F&quot;,1744,536871086]],[&quot;^17&quot;,[1700,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1700,&quot;^W&quot;,1710,536871086]],[&quot;^17&quot;,[1700,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1700,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1700,&quot;^;&quot;,&quot;~u62d3582a-f1d0-427b-98b9-335d7cb78d96&quot;,536871086]],[&quot;^17&quot;,[1701,&quot;^R&quot;,&quot;Buffer Pool Bypass&quot;,536871086]],[&quot;^17&quot;,[1701,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1701,&quot;^F&quot;,1715,536871086]],[&quot;^17&quot;,[1701,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1701,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1701,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1701,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1701,&quot;^;&quot;,&quot;~u62d3582a-9509-490e-908e-631024bae35a&quot;,536871086]],[&quot;^17&quot;,[1702,&quot;^R&quot;,&quot;index 的 key 是 unique 还是 non-unique&quot;,536871086]],[&quot;^17&quot;,[1702,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1702,&quot;^F&quot;,1716,536871086]],[&quot;^17&quot;,[1702,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1702,&quot;^W&quot;,1709,536871086]],[&quot;^17&quot;,[1702,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1702,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1702,&quot;^;&quot;,&quot;~u62d3582a-8456-404a-a7be-4ce938e40408&quot;,536871086]],[&quot;^17&quot;,[1703,&quot;^R&quot;,&quot;DBMS 的 processing model 定义了一个系统如何执行 query plan， 目前主要有三种模式&quot;,536871086]],[&quot;^17&quot;,[1703,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1703,&quot;^F&quot;,1695,536871086]],[&quot;^17&quot;,[1703,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1703,&quot;^W&quot;,1695,536871086]],[&quot;^17&quot;,[1703,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1703,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1703,&quot;^;&quot;,&quot;~u62d3582a-a70e-4c82-930a-be3a84940b04&quot;,536871086]],[&quot;^17&quot;,[1704,&quot;^R&quot;,&quot;![image.png](../assets/image_1656342249588_0.png)&quot;,536871086]],[&quot;^17&quot;,[1704,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1704,&quot;^F&quot;,4501,536896806]],[&quot;^17&quot;,[1704,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1704,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[1704,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1704,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1704,&quot;^;&quot;,&quot;~u62d3582a-2cbe-43b8-9519-2aef06f03ea7&quot;,536871086]],[&quot;^17&quot;,[1705,&quot;^R&quot;,&quot;计算出符合每个 index 的 tuple id sets&quot;,536871086]],[&quot;^17&quot;,[1705,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1705,&quot;^F&quot;,1745,536871086]],[&quot;^17&quot;,[1705,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1705,&quot;^W&quot;,1745,536871086]],[&quot;^17&quot;,[1705,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1705,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1705,&quot;^;&quot;,&quot;~u62d3582a-81a8-4980-9909-c1d4d1be5f5d&quot;,536871086]],[&quot;^17&quot;,[1706,&quot;^R&quot;,&quot;Postgres 称 multi-index scan 为 Bitmap Scan。&quot;,536871086]],[&quot;^17&quot;,[1706,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1706,&quot;^F&quot;,1745,536871086]],[&quot;^17&quot;,[1706,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1706,&quot;^W&quot;,1713,536871086]],[&quot;^17&quot;,[1706,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1706,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1706,&quot;^;&quot;,&quot;~u62d3582a-0e2a-44f5-80bd-30c4df084751&quot;,536871086]],[&quot;^17&quot;,[1707,&quot;^R&quot;,&quot;(本节) [[Zone Maps]]&quot;,536871086]],[&quot;^17&quot;,[1707,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1707,&quot;^F&quot;,1701,536871086]],[&quot;^17&quot;,[1707,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1707,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1707,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1707,&quot;^V&quot;,1686,536871086]],[&quot;^17&quot;,[1707,&quot;^H&quot;,1686,536871086]],[&quot;^17&quot;,[1707,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1707,&quot;^;&quot;,&quot;~u62d3582a-6045-46c0-94ff-5024698a62a0&quot;,536871086]],[&quot;^17&quot;,[1708,&quot;^R&quot;,&quot;index 包含哪些 attributes&quot;,536871086]],[&quot;^17&quot;,[1708,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1708,&quot;^F&quot;,1709,536871086]],[&quot;^17&quot;,[1708,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1708,&quot;^W&quot;,1709,536871086]],[&quot;^17&quot;,[1708,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1708,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1708,&quot;^;&quot;,&quot;~u62d3582a-cf62-4b74-802f-b6fe8d73c533&quot;,536871086]],[&quot;^17&quot;,[1709,&quot;^R&quot;,&quot;DBMS 选择一个 index 来找到查询需要的 tuples。使用哪个 index 取决于以下几个因素：&quot;,536871086]],[&quot;^17&quot;,[1709,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1709,&quot;^F&quot;,1746,536871086]],[&quot;^17&quot;,[1709,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1709,&quot;^W&quot;,1746,536871086]],[&quot;^17&quot;,[1709,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1709,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1709,&quot;^;&quot;,&quot;~u62d3582a-88e4-4eab-9341-9f267af07e49&quot;,536871086]],[&quot;^17&quot;,[1710,&quot;^R&quot;,&quot;### Index Scan Page Sorting&quot;,536871086]],[&quot;^17&quot;,[1710,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1710,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1710,&quot;^F&quot;,1713,536871086]],[&quot;^17&quot;,[1710,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1710,&quot;^W&quot;,638,536871086]],[&quot;^17&quot;,[1710,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1710,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1710,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1710,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1710,&quot;^;&quot;,&quot;~u62d3582a-9b3d-494e-8e0b-0ffeca58af28&quot;,536871086]],[&quot;^17&quot;,[1711,&quot;^R&quot;,&quot;DBMS 使用 expression tree 来表示一个 WHERE 语句，如下图所示&quot;,536871086]],[&quot;^17&quot;,[1711,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1711,&quot;^F&quot;,1721,536871086]],[&quot;^17&quot;,[1711,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1711,&quot;^W&quot;,1721,536871086]],[&quot;^17&quot;,[1711,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1711,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1711,&quot;^;&quot;,&quot;~u62d3582a-6e7e-40ba-9717-9d9e83c93615&quot;,536871086]],[&quot;^17&quot;,[1712,&quot;^R&quot;,&quot;Iterator 几乎被用在每个 DBMS 中，包括 sqlite、MySQL、PostgreSQL 等等，其它需要注意的是：&quot;,536871086]],[&quot;^17&quot;,[1712,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1712,&quot;^F&quot;,1747,536871086]],[&quot;^17&quot;,[1712,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1712,&quot;^W&quot;,1728,536871086]],[&quot;^17&quot;,[1712,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1712,&quot;^V&quot;,1685,536871086]],[&quot;^17&quot;,[1712,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1712,&quot;^;&quot;,&quot;~u62d3582a-b872-4047-b662-c1d8e803264f&quot;,536871086]],[&quot;^17&quot;,[1713,&quot;^R&quot;,&quot;### Multi-index Scan&quot;,536871086]],[&quot;^17&quot;,[1713,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1713,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1713,&quot;^F&quot;,1746,536871086]],[&quot;^17&quot;,[1713,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1713,&quot;^W&quot;,638,536871086]],[&quot;^17&quot;,[1713,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1713,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1713,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1713,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1713,&quot;^;&quot;,&quot;~u62d3582a-4449-4fe6-a7c8-11fd33d44389&quot;,536871086]],[&quot;^17&quot;,[1714,&quot;^R&quot;,&quot;Prefetching&quot;,536871086]],[&quot;^17&quot;,[1714,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1714,&quot;^F&quot;,1749,536871086]],[&quot;^17&quot;,[1714,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1714,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1714,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1714,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1714,&quot;^;&quot;,&quot;~u62d3582a-5dc2-4fbf-8556-e5f8db412d49&quot;,536871086]],[&quot;^17&quot;,[1715,&quot;^R&quot;,&quot;Parallelization&quot;,536871086]],[&quot;^17&quot;,[1715,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1715,&quot;^F&quot;,1714,536871086]],[&quot;^17&quot;,[1715,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1715,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1715,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1715,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1715,&quot;^;&quot;,&quot;~u62d3582a-b81f-4d9c-b165-b26d944e2036&quot;,536871086]],[&quot;^17&quot;,[1716,&quot;^R&quot;,&quot;predicate composition&quot;,536871086]],[&quot;^17&quot;,[1716,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1716,&quot;^F&quot;,1718,536871086]],[&quot;^17&quot;,[1716,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1716,&quot;^W&quot;,1709,536871086]],[&quot;^17&quot;,[1716,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1716,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1716,&quot;^;&quot;,&quot;~u62d3582a-5584-4495-a3a5-de794148ade7&quot;,536871086]],[&quot;^17&quot;,[1717,&quot;^R&quot;,&quot;Expression Evaluation&quot;,536871086]],[&quot;^17&quot;,[1717,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1717,&quot;^F&quot;,1752,536871086]],[&quot;^17&quot;,[1717,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1717,&quot;^W&quot;,1720,536871086]],[&quot;^17&quot;,[1717,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1717,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1717,&quot;^;&quot;,&quot;~u62d3582a-48f0-485e-8d20-ac4a6a392b20&quot;,536871086]],[&quot;^17&quot;,[1718,&quot;^R&quot;,&quot;attribute 的定义域&quot;,536871086]],[&quot;^17&quot;,[1718,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1718,&quot;^F&quot;,1751,536871086]],[&quot;^17&quot;,[1718,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1718,&quot;^W&quot;,1709,536871086]],[&quot;^17&quot;,[1718,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1718,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1718,&quot;^;&quot;,&quot;~u62d3582a-e93e-44df-a544-2a99a504de8b&quot;,536871086]],[&quot;^17&quot;,[1719,&quot;^R&quot;,&quot;### materialization model&quot;,536871086]],[&quot;^17&quot;,[1719,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1719,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1719,&quot;^F&quot;,1728,536871086]],[&quot;^17&quot;,[1719,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1719,&quot;^W&quot;,1695,536871086]],[&quot;^17&quot;,[1719,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1719,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1719,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1719,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1719,&quot;^;&quot;,&quot;~u62d3582a-9576-4763-82fa-17ce239c8500&quot;,536871086]],[&quot;^17&quot;,[1720,&quot;^R&quot;,&quot;如上图所示，通常一个 SQL 会被组织成树状的查询计划，数据从 leaf nodes 流到 root，查询结果在 root 中得出。而本节将讨论在这样一个计划中，如何为这个数据流动过程建模，大纲如下：&quot;,536871086]],[&quot;^17&quot;,[1720,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1720,&quot;^F&quot;,1704,536871086]],[&quot;^17&quot;,[1720,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1720,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[1720,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1720,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1720,&quot;^;&quot;,&quot;~u62d3582a-281d-410b-ba27-53fb57e5a02e&quot;,536871086]],[&quot;^17&quot;,[1721,&quot;^R&quot;,&quot;# Expression Evaluation&quot;,536871086]],[&quot;^17&quot;,[1721,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1721,&quot;^X&quot;,1,536871086]],[&quot;^17&quot;,[1721,&quot;^F&quot;,638,536871086]],[&quot;^17&quot;,[1721,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1721,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[1721,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1721,&quot;^1&gt;&quot;,1,536871086]],[&quot;^17&quot;,[1721,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1721,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1721,&quot;^;&quot;,&quot;~u62d3582a-a5bf-4bcc-b6c7-450714f7735a&quot;,536871086]],[&quot;^17&quot;,[1722,&quot;^R&quot;,&quot;Processing Models&quot;,536871086]],[&quot;^17&quot;,[1722,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1722,&quot;^F&quot;,1720,536871086]],[&quot;^17&quot;,[1722,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1722,&quot;^W&quot;,1720,536871086]],[&quot;^17&quot;,[1722,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1722,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1722,&quot;^;&quot;,&quot;~u62d3582a-580b-4337-90d0-7e78084bb1f2&quot;,536871086]],[&quot;^17&quot;,[1723,&quot;^R&quot;,&quot;Vectorization Model 是 Iterator 与 Materialization Model 折衷的一种模型：&quot;,536871086]],[&quot;^17&quot;,[1723,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1723,&quot;^F&quot;,1691,536871086]],[&quot;^17&quot;,[1723,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1723,&quot;^W&quot;,1691,536871086]],[&quot;^17&quot;,[1723,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1723,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1723,&quot;^;&quot;,&quot;~u62d3582a-7e82-4379-ac39-e83a4b409fe1&quot;,536871086]],[&quot;^17&quot;,[1724,&quot;^R&quot;,&quot;![image.png](../assets/image_1656343760095_0.png)&quot;,536871086]],[&quot;^17&quot;,[1724,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1724,&quot;^F&quot;,1723,536871086]],[&quot;^17&quot;,[1724,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1724,&quot;^W&quot;,1691,536871086]],[&quot;^17&quot;,[1724,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1724,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1724,&quot;^;&quot;,&quot;~u62d3582a-751a-4966-ad70-ba579e973fab&quot;,536871086]],[&quot;^17&quot;,[1725,&quot;^R&quot;,&quot;Index Scan&quot;,536871086]],[&quot;^17&quot;,[1725,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1725,&quot;^F&quot;,1735,536871086]],[&quot;^17&quot;,[1725,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1725,&quot;^W&quot;,1693,536871086]],[&quot;^17&quot;,[1725,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1725,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1725,&quot;^;&quot;,&quot;~u62d3582a-b40c-4e46-a5ab-7b27b38fdec0&quot;,536871086]],[&quot;^17&quot;,[1726,&quot;^R&quot;,&quot;每个 operator 处理完所有输入后，将所有结果一次性输出，DBMS 会将一些参数传递到 operator 中防止处理过多的数据，这是一种从下至上的思路，示意如下：\\n![image.png](../assets/image_1656343684245_0.png)&quot;,536871086]],[&quot;^17&quot;,[1726,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1726,&quot;^F&quot;,1719,536871086]],[&quot;^17&quot;,[1726,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1726,&quot;^W&quot;,1719,536871086]],[&quot;^17&quot;,[1726,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1726,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1726,&quot;^;&quot;,&quot;~u62d3582a-89e8-4808-a808-436707c009ce&quot;,536871086]],[&quot;^17&quot;,[1727,&quot;^R&quot;,&quot;operator 内部的循环每次也是一批一批 tuples 地处理&quot;,536871086]],[&quot;^17&quot;,[1727,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1727,&quot;^F&quot;,1734,536871086]],[&quot;^17&quot;,[1727,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1727,&quot;^W&quot;,1723,536871086]],[&quot;^17&quot;,[1727,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1727,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1727,&quot;^;&quot;,&quot;~u62d3582a-d606-4015-a829-8aa0cf501d52&quot;,536871086]],[&quot;^17&quot;,[1728,&quot;^R&quot;,&quot;### Iterator Model[[火山模型]]&quot;,536871086]],[&quot;^17&quot;,[1728,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1728,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1728,&quot;^F&quot;,1703,536871086]],[&quot;^17&quot;,[1728,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1728,&quot;^W&quot;,1695,536871086]],[&quot;^17&quot;,[1728,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1728,&quot;^V&quot;,1685,536871086]],[&quot;^17&quot;,[1728,&quot;^H&quot;,1685,536871086]],[&quot;^17&quot;,[1728,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1728,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1728,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1728,&quot;^;&quot;,&quot;~u62d3582a-125d-473f-9e2f-d2f923a986b2&quot;,536871086]],[&quot;^17&quot;,[1729,&quot;^R&quot;,&quot;### Sequential Scan&quot;,536871086]],[&quot;^17&quot;,[1729,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1729,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1729,&quot;^F&quot;,1693,536871086]],[&quot;^17&quot;,[1729,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1729,&quot;^W&quot;,638,536871086]],[&quot;^17&quot;,[1729,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1729,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1729,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1729,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1729,&quot;^;&quot;,&quot;~u62d3582a-6d7a-4c2a-9b42-d08cdfa937d3&quot;,536871086]],[&quot;^17&quot;,[1730,&quot;^R&quot;,&quot;更适合 OLTP 场景，因为后者通常指需要处理少量的 tuples，这样能减少不必要的执行、调度成本&quot;,536871086]],[&quot;^17&quot;,[1730,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1730,&quot;^F&quot;,1726,536871086]],[&quot;^17&quot;,[1730,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1730,&quot;^W&quot;,1719,536871086]],[&quot;^17&quot;,[1730,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1730,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1730,&quot;^;&quot;,&quot;~u62d3582a-3025-4b16-9852-4f46cb056d56&quot;,536871086]],[&quot;^17&quot;,[1731,&quot;^R&quot;,&quot;&quot;,536871086]],[&quot;^17&quot;,[1731,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1731,&quot;^F&quot;,1721,536871086]],[&quot;^17&quot;,[1731,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1731,&quot;^W&quot;,267,536871086]],[&quot;^17&quot;,[1731,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1731,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1731,&quot;^;&quot;,&quot;~u62d3582a-2e33-4b5f-959f-af1a95cb6810&quot;,536871086]],[&quot;^17&quot;,[1732,&quot;^R&quot;,&quot;顾名思义，sequential scan 就是按顺序从 table 所在的 pages 中取出 tuple，这种方式是 DBMS 能做的最坏的打算。\\n\\n``` cpp\\nfor page in table.pages:\\n    for t in page.tuples:\\n        if evalPred(t):\\n            # do something\\n```&quot;,536871086]],[&quot;^17&quot;,[1732,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1732,&quot;^F&quot;,1729,536871086]],[&quot;^17&quot;,[1732,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1732,&quot;^W&quot;,1729,536871086]],[&quot;^17&quot;,[1732,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1732,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1732,&quot;^;&quot;,&quot;~u62d3582a-85c9-4650-835d-85f7ba359ea0&quot;,536871086]],[&quot;^17&quot;,[1733,&quot;^R&quot;,&quot;基于 predicates (union vs. intersection) 来确定是对集合取交集还是并集&quot;,536871086]],[&quot;^17&quot;,[1733,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1733,&quot;^F&quot;,1705,536871086]],[&quot;^17&quot;,[1733,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1733,&quot;^W&quot;,1745,536871086]],[&quot;^17&quot;,[1733,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1733,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1733,&quot;^;&quot;,&quot;~u62d3582a-6eda-4612-9c3d-16ab5d27fa03&quot;,536871086]],[&quot;^17&quot;,[1734,&quot;^R&quot;,&quot;每个 operator 实现一个 next 函数，但每次 next 调用返回一批 tuples，而不是单个 tuple&quot;,536871086]],[&quot;^17&quot;,[1734,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1734,&quot;^F&quot;,1723,536871086]],[&quot;^17&quot;,[1734,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1734,&quot;^W&quot;,1723,536871086]],[&quot;^17&quot;,[1734,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1734,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1734,&quot;^;&quot;,&quot;~u62d3582a-0355-44d6-a499-bccd0ad83f5e&quot;,536871086]],[&quot;^17&quot;,[1735,&quot;^R&quot;,&quot;Sequential Scan&quot;,536871086]],[&quot;^17&quot;,[1735,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1735,&quot;^F&quot;,1693,536871086]],[&quot;^17&quot;,[1735,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1735,&quot;^W&quot;,1693,536871086]],[&quot;^17&quot;,[1735,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1735,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1735,&quot;^;&quot;,&quot;~u62d3582a-b62c-433a-a48e-b2b43de6bc73&quot;,536871086]],[&quot;^17&quot;,[1736,&quot;^R&quot;,&quot;(本节) [[Late Materialization]]&quot;,536871086]],[&quot;^17&quot;,[1736,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1736,&quot;^F&quot;,1707,536871086]],[&quot;^17&quot;,[1736,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1736,&quot;^W&quot;,1749,536871086]],[&quot;^17&quot;,[1736,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1736,&quot;^V&quot;,1227,536871086]],[&quot;^17&quot;,[1736,&quot;^H&quot;,1227,536871086]],[&quot;^17&quot;,[1736,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1736,&quot;^;&quot;,&quot;~u62d3582a-8337-4590-a0bc-f3bca52eb831&quot;,536871086]],[&quot;^17&quot;,[1737,&quot;^R&quot;,&quot;极大地减少每个 operator 的调用次数&quot;,536871086]],[&quot;^17&quot;,[1737,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1737,&quot;^F&quot;,1741,536871086]],[&quot;^17&quot;,[1737,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1737,&quot;^W&quot;,1741,536871086]],[&quot;^17&quot;,[1737,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1737,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1737,&quot;^;&quot;,&quot;~u62d3582a-22d5-486d-933a-9a9708a4a035&quot;,536871086]],[&quot;^17&quot;,[1738,&quot;^R&quot;,&quot;Output Control 在 Iterator Model 中比较容易，如 Limit，只按需调用 next 即可。&quot;,536871086]],[&quot;^17&quot;,[1738,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1738,&quot;^F&quot;,1748,536871086]],[&quot;^17&quot;,[1738,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1738,&quot;^W&quot;,1728,536871086]],[&quot;^17&quot;,[1738,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1738,&quot;^V&quot;,1685,536871086]],[&quot;^17&quot;,[1738,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1738,&quot;^;&quot;,&quot;~u62d3582a-ebbc-4f7e-9f00-d6acb082a0f3&quot;,536871086]],[&quot;^17&quot;,[1739,&quot;^R&quot;,&quot;取出相应的 tuples 并完成剩下的处理&quot;,536871086]],[&quot;^17&quot;,[1739,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1739,&quot;^F&quot;,1733,536871086]],[&quot;^17&quot;,[1739,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1739,&quot;^W&quot;,1745,536871086]],[&quot;^17&quot;,[1739,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1739,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1739,&quot;^;&quot;,&quot;~u62d3582a-958c-43b3-a7fb-8464b6c25fbc&quot;,536871086]],[&quot;^17&quot;,[1740,&quot;^R&quot;,&quot;其中取集合交集可以使用 bitmaps, hash tables 或者 bloom filters。&quot;,536871086]],[&quot;^17&quot;,[1740,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1740,&quot;^F&quot;,1694,536871086]],[&quot;^17&quot;,[1740,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1740,&quot;^W&quot;,1713,536871086]],[&quot;^17&quot;,[1740,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1740,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1740,&quot;^;&quot;,&quot;~u62d3582a-7114-428d-8b33-6002ff76b7ba&quot;,536871086]],[&quot;^17&quot;,[1741,&quot;^R&quot;,&quot;vectorization model 是 OLAP 查询的理想模型：&quot;,536871086]],[&quot;^17&quot;,[1741,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1741,&quot;^F&quot;,1724,536871086]],[&quot;^17&quot;,[1741,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1741,&quot;^W&quot;,1691,536871086]],[&quot;^17&quot;,[1741,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1741,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1741,&quot;^;&quot;,&quot;~u62d3582a-19b8-45e4-aafc-14c6f7b1c68f&quot;,536871086]],[&quot;^17&quot;,[1742,&quot;^R&quot;,&quot;尽管选择哪个 Index 取决于很多因素，但其核心思想就是，越早过滤掉越多的 tuples 越好，如下面这个 query 所示：\\n\\n``` sql\\nSELECT * FROM students\\n WHERE age &lt; 30\\n   AND dept = &apos;CS&apos;\\n   AND country = &apos;US&apos;;\\n```&quot;,536871086]],[&quot;^17&quot;,[1742,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1742,&quot;^F&quot;,1709,536871086]],[&quot;^17&quot;,[1742,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1742,&quot;^W&quot;,1746,536871086]],[&quot;^17&quot;,[1742,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1742,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1742,&quot;^;&quot;,&quot;~u62d3582a-dc72-43cf-8583-e926fb90e44e&quot;,536871086]],[&quot;^17&quot;,[1743,&quot;^R&quot;,&quot;允许 operators 使用 vectorized instructions (SIMD) 来批量处理 tuples&quot;,536871086]],[&quot;^17&quot;,[1743,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1743,&quot;^F&quot;,1737,536871086]],[&quot;^17&quot;,[1743,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1743,&quot;^W&quot;,1741,536871086]],[&quot;^17&quot;,[1743,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1743,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1743,&quot;^;&quot;,&quot;~u62d3582a-7b30-4fdc-9029-b0cc70614141&quot;,536871086]],[&quot;^17&quot;,[1744,&quot;^R&quot;,&quot;当使用的不是 clustering index 时，实际上按 index 顺序检索的过程是非常低效的，DBMS 很有可能需要不断地在不同的 pages 之间来回切换。为了解决这个问题，DBMS 通常会先找到所有需要的 tuples，根据它们的 page id 来排序，完毕后再读取 tuples 数据，使得整个过程每个需要访问的 page 只会被访问一次。如下图所示：&quot;,536871086]],[&quot;^17&quot;,[1744,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1744,&quot;^F&quot;,1710,536871086]],[&quot;^17&quot;,[1744,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1744,&quot;^W&quot;,1710,536871086]],[&quot;^17&quot;,[1744,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1744,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1744,&quot;^;&quot;,&quot;~u62d3582a-c486-4938-94b5-ca6247e97cd8&quot;,536871086]],[&quot;^17&quot;,[1745,&quot;^R&quot;,&quot;如果有多个 indexes 同时可以供 DBMS 使用，就可以做这样的事情：&quot;,536871086]],[&quot;^17&quot;,[1745,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1745,&quot;^F&quot;,1713,536871086]],[&quot;^17&quot;,[1745,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1745,&quot;^W&quot;,1713,536871086]],[&quot;^17&quot;,[1745,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1745,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1745,&quot;^;&quot;,&quot;~u62d3582a-3799-4050-90f3-ecf924891e44&quot;,536871086]],[&quot;^17&quot;,[1746,&quot;^R&quot;,&quot;### Index Scan&quot;,536871086]],[&quot;^17&quot;,[1746,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1746,&quot;^X&quot;,3,536871086]],[&quot;^17&quot;,[1746,&quot;^F&quot;,1729,536871086]],[&quot;^17&quot;,[1746,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1746,&quot;^W&quot;,638,536871086]],[&quot;^17&quot;,[1746,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1746,&quot;^1&gt;&quot;,3,536871086]],[&quot;^17&quot;,[1746,&quot;^Y&quot;,&quot;^1?&quot;,536871086]],[&quot;^17&quot;,[1746,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1746,&quot;^;&quot;,&quot;~u62d3582a-6c9f-4f70-91a7-6eabd27d66e8&quot;,536871086]],[&quot;^17&quot;,[1747,&quot;^R&quot;,&quot;query plan 中的每步 operator 都实现一个 next 函数，每次调用时，operator 返回一个 tuple 或者 null，后者表示数据已经遍历完毕。operator 本身实现一个循环，每次调用其 child operators 的 next 函数，从它们那边获取下一条数据供自己操作，这样整个 query plan 就被从上至下地串联起来，它也称为 Volcano/Pipeline Model：\\n![image.png](../assets/image_1656343569135_0.png)&quot;,536871086]],[&quot;^17&quot;,[1747,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1747,&quot;^F&quot;,1728,536871086]],[&quot;^17&quot;,[1747,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1747,&quot;^W&quot;,1728,536871086]],[&quot;^17&quot;,[1747,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1747,&quot;^V&quot;,1685,536871086]],[&quot;^17&quot;,[1747,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1747,&quot;^;&quot;,&quot;~u62d3582a-e7db-4992-a0c1-3dfdbb82f22c&quot;,536871086]],[&quot;^17&quot;,[1748,&quot;^R&quot;,&quot;有些 operators 会等待 children 返回所有 tuples 后才执行，如 Joins, Subqueries 和 Order By&quot;,536871086]],[&quot;^17&quot;,[1748,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1748,&quot;^F&quot;,1712,536871086]],[&quot;^17&quot;,[1748,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1748,&quot;^W&quot;,1728,536871086]],[&quot;^17&quot;,[1748,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1748,&quot;^V&quot;,1685,536871086]],[&quot;^17&quot;,[1748,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1748,&quot;^;&quot;,&quot;~u62d3582a-94ce-43c8-8cea-fb01755631eb&quot;,536871086]],[&quot;^17&quot;,[1749,&quot;^R&quot;,&quot;DBMS 内部需要维护一个 cursor 来追踪访问到的位置。Sequential Scan 是最差方案，有许多优化&quot;,536871086]],[&quot;^17&quot;,[1749,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1749,&quot;^F&quot;,1732,536871086]],[&quot;^17&quot;,[1749,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1749,&quot;^W&quot;,1729,536871086]],[&quot;^17&quot;,[1749,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1749,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1749,&quot;^;&quot;,&quot;~u62d3582a-d49f-4d1e-95e4-7a78d9ea9262&quot;,536871086]],[&quot;^17&quot;,[1750,&quot;^R&quot;,&quot;![image.png](../assets/image_1656377516687_0.png)&quot;,536871086]],[&quot;^17&quot;,[1750,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1750,&quot;^F&quot;,1711,536871086]],[&quot;^17&quot;,[1750,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1750,&quot;^W&quot;,1721,536871086]],[&quot;^17&quot;,[1750,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1750,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1750,&quot;^;&quot;,&quot;~u62d3582a-a444-465e-ba92-df2957f70cd2&quot;,536871086]],[&quot;^17&quot;,[1751,&quot;^R&quot;,&quot;查询引用了哪些 attributes&quot;,536871086]],[&quot;^17&quot;,[1751,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1751,&quot;^F&quot;,1708,536871086]],[&quot;^17&quot;,[1751,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1751,&quot;^W&quot;,1709,536871086]],[&quot;^17&quot;,[1751,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1751,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1751,&quot;^;&quot;,&quot;~u62d3582a-19c6-454f-8137-d8dad72337d7&quot;,536871086]],[&quot;^17&quot;,[1752,&quot;^R&quot;,&quot;Access Methods&quot;,536871086]],[&quot;^17&quot;,[1752,&quot;^P&quot;,&quot;^19&quot;,536871086]],[&quot;^17&quot;,[1752,&quot;^F&quot;,1722,536871086]],[&quot;^17&quot;,[1752,&quot;^Z&quot;,267,536871086]],[&quot;^17&quot;,[1752,&quot;^W&quot;,1720,536871086]],[&quot;^17&quot;,[1752,&quot;^V&quot;,267,536871086]],[&quot;^17&quot;,[1752,&quot;^1@&quot;,true,536871086]],[&quot;^17&quot;,[1752,&quot;^;&quot;,&quot;~u62d3582a-01b6-48e6-897e-6f0f4bb8e274&quot;,536871086]],[&quot;^17&quot;,[1754,&quot;^L&quot;,1657508454547,536871263]],[&quot;^17&quot;,[1754,&quot;^@&quot;,false,536871088]],[&quot;^17&quot;,[1754,&quot;^[&quot;,&quot;read view&quot;,536871088]],[&quot;^17&quot;,[1754,&quot;^13&quot;,&quot;Read View&quot;,536871088]],[&quot;^17&quot;,[1754,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896885]],[&quot;^17&quot;,[1754,&quot;^B&quot;,1657529238997,536871263]],[&quot;^17&quot;,[1754,&quot;^;&quot;,&quot;~u62d3582c-e179-45a0-aa9a-90b2cd6ce263&quot;,536871230]],[&quot;^17&quot;,[1756,&quot;^R&quot;,&quot;read_view-&gt;trx_ids = [trx11, trx9, trx6, trx5, trx3];&quot;,536871088]],[&quot;^17&quot;,[1756,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1756,&quot;^F&quot;,1765,536871088]],[&quot;^17&quot;,[1756,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1756,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1756,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1756,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1756,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1756,&quot;^;&quot;,&quot;~u62d3582a-4683-4f4e-9ede-c6bff3ec2092&quot;,536871088]],[&quot;^17&quot;,[1757,&quot;^R&quot;,&quot;Read View简单的理解成有三个全局属性&quot;,536871088]],[&quot;^17&quot;,[1757,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1757,&quot;^F&quot;,1766,536871088]],[&quot;^17&quot;,[1757,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1757,&quot;^W&quot;,1754,536871088]],[&quot;^17&quot;,[1757,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1757,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1757,&quot;^;&quot;,&quot;~u62d3582a-90aa-4bde-9ba3-e100d0697249&quot;,536871088]],[&quot;^17&quot;,[1758,&quot;^R&quot;,&quot;low_limit_id\\nReadView生成时刻系统尚未分配的下一个事务ID，也就是目前已出现过的事务ID的最大值+1&quot;,536871088]],[&quot;^17&quot;,[1758,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1758,&quot;^F&quot;,1761,536871088]],[&quot;^17&quot;,[1758,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1758,&quot;^W&quot;,1757,536871088]],[&quot;^17&quot;,[1758,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1758,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1758,&quot;^;&quot;,&quot;~u62d3582a-7d44-431b-84b4-f9f8b73d46f9&quot;,536871088]],[&quot;^17&quot;,[1759,&quot;^R&quot;,&quot;read_view-&gt;up_limit_id = trx3; 低水位&quot;,536871088]],[&quot;^17&quot;,[1759,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1759,&quot;^F&quot;,1768,536871088]],[&quot;^17&quot;,[1759,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1759,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1759,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1759,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1759,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1759,&quot;^;&quot;,&quot;~u62d3582a-5148-4558-9dc1-4ceb9b841282&quot;,536871088]],[&quot;^17&quot;,[1760,&quot;^R&quot;,&quot;如果读取到的行数据的事务ID **大于 low_limit_id 高水位**，说明这个数据的事务是在当前事务后面后面完成的，则不可见&quot;,536871088]],[&quot;^17&quot;,[1760,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1760,&quot;^F&quot;,1756,536871088]],[&quot;^17&quot;,[1760,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1760,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1760,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1760,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1760,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1760,&quot;^;&quot;,&quot;~u62d3582a-aae5-4e04-8233-0671c1d48a7e&quot;,536871088]],[&quot;^17&quot;,[1761,&quot;^R&quot;,&quot;up_limit_id\\n记录trx_list列表中事务ID最小的ID&quot;,536871088]],[&quot;^17&quot;,[1761,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1761,&quot;^F&quot;,1764,536871088]],[&quot;^17&quot;,[1761,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1761,&quot;^W&quot;,1757,536871088]],[&quot;^17&quot;,[1761,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1761,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1761,&quot;^;&quot;,&quot;~u62d3582a-4d16-44dc-8e7b-013700ffc7c3&quot;,536871088]],[&quot;^17&quot;,[1762,&quot;^R&quot;,&quot;如果读取到的行数据的事务ID **小于 up_limit_id 低水位**，则说明这个数据的事务在本事务开启之前已经不再活跃，即已提交过的，则该数据可见&quot;,536871088]],[&quot;^17&quot;,[1762,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1762,&quot;^F&quot;,1760,536871088]],[&quot;^17&quot;,[1762,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1762,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1762,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1762,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1762,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1762,&quot;^;&quot;,&quot;~u62d3582a-fa2f-4e73-9732-98a65ebef9dc&quot;,536871088]],[&quot;^17&quot;,[1763,&quot;^R&quot;,&quot;如果读取到的行数据的事务ID 在低水位和高水位之间，则看当前事务的read_view的事务链表中是否存在该事务ID,如存在则说明，当前事务开启时，这个数据的事务正在活跃还未提交所以不可见，如果不存在则可见&quot;,536871088]],[&quot;^17&quot;,[1763,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1763,&quot;^F&quot;,1762,536871088]],[&quot;^17&quot;,[1763,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1763,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1763,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1763,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1763,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1763,&quot;^;&quot;,&quot;~u62d3582a-0d05-4cc5-997c-b75fe4d1f63e&quot;,536871088]],[&quot;^17&quot;,[1764,&quot;^R&quot;,&quot;trx_list\\n一个数值列表，用来维护Read View生成时刻系统正活跃的事务ID&quot;,536871088]],[&quot;^17&quot;,[1764,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1764,&quot;^F&quot;,1757,536871088]],[&quot;^17&quot;,[1764,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1764,&quot;^W&quot;,1757,536871088]],[&quot;^17&quot;,[1764,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1764,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1764,&quot;^;&quot;,&quot;~u62d3582a-8387-45bc-9193-32a4bf663e62&quot;,536871088]],[&quot;^17&quot;,[1765,&quot;^R&quot;,&quot;read_view-&gt;low_limit_id = trx11; 高水位&quot;,536871088]],[&quot;^17&quot;,[1765,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1765,&quot;^F&quot;,1759,536871088]],[&quot;^17&quot;,[1765,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1765,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1765,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1765,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1765,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1765,&quot;^;&quot;,&quot;~u62d3582a-bed4-4925-bd69-f61ba4536e52&quot;,536871088]],[&quot;^17&quot;,[1766,&quot;^R&quot;,&quot;事务进行读操作时产生的读视图。该事务执行的快照读的那一刻，会生成数据库系统当前的一个快照，记录并维护系统当前活跃事务的ID(当每个事务开启时，都会被分配一个ID, 这个ID是递增的，所以最新的事务，ID值越大)&quot;,536871088]],[&quot;^17&quot;,[1766,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1766,&quot;^F&quot;,4515,536896885]],[&quot;^17&quot;,[1766,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1766,&quot;^W&quot;,1754,536871088]],[&quot;^17&quot;,[1766,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1766,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1766,&quot;^;&quot;,&quot;~u62d3582a-bc4b-49e0-a4ca-e648e52ee100&quot;,536871088]],[&quot;^17&quot;,[1767,&quot;^R&quot;,&quot;与 [[高水位低水位]]相关&quot;,536871088]],[&quot;^17&quot;,[1767,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1767,&quot;^F&quot;,1757,536871088]],[&quot;^17&quot;,[1767,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1767,&quot;^W&quot;,1754,536871088]],[&quot;^17&quot;,[1767,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1767,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1767,&quot;^H&quot;,1755,536871088]],[&quot;^17&quot;,[1767,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1767,&quot;^;&quot;,&quot;~u62d3582a-397e-41ed-b59e-c8cb5b946836&quot;,536871088]],[&quot;^17&quot;,[1768,&quot;^R&quot;,&quot;read_view-&gt;creator_trx_id = ct-trx; 当前事务ID&quot;,536871088]],[&quot;^17&quot;,[1768,&quot;^P&quot;,&quot;^19&quot;,536871088]],[&quot;^17&quot;,[1768,&quot;^F&quot;,1767,536871088]],[&quot;^17&quot;,[1768,&quot;^Z&quot;,1754,536871088]],[&quot;^17&quot;,[1768,&quot;^W&quot;,1767,536871088]],[&quot;^17&quot;,[1768,&quot;^V&quot;,1754,536871088]],[&quot;^17&quot;,[1768,&quot;^V&quot;,1755,536871088]],[&quot;^17&quot;,[1768,&quot;^1@&quot;,true,536871088]],[&quot;^17&quot;,[1768,&quot;^;&quot;,&quot;~u62d3582a-a4f9-4134-93f1-e6fb3cbd5811&quot;,536871088]],[&quot;^17&quot;,[1779,&quot;^R&quot;,&quot;## ARIES - Recovery phases&quot;,536871092]],[&quot;^17&quot;,[1779,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1779,&quot;^X&quot;,2,536871092]],[&quot;^17&quot;,[1779,&quot;^F&quot;,1781,536871092]],[&quot;^17&quot;,[1779,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1779,&quot;^W&quot;,279,536871092]],[&quot;^17&quot;,[1779,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1779,&quot;^1&gt;&quot;,2,536871092]],[&quot;^17&quot;,[1779,&quot;^Y&quot;,&quot;^1?&quot;,536871092]],[&quot;^17&quot;,[1779,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1779,&quot;^;&quot;,&quot;~u62d3582a-c880-4929-8e86-fe9992fa94f6&quot;,536871092]],[&quot;^17&quot;,[1780,&quot;^R&quot;,&quot;友情链接: [[proj5-Recovery]]&quot;,536871092]],[&quot;^17&quot;,[1780,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1780,&quot;^F&quot;,4516,536896894]],[&quot;^17&quot;,[1780,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1780,&quot;^W&quot;,279,536871092]],[&quot;^17&quot;,[1780,&quot;^V&quot;,20,536871092]],[&quot;^17&quot;,[1780,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1780,&quot;^H&quot;,20,536871092]],[&quot;^17&quot;,[1780,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1780,&quot;^;&quot;,&quot;~u62d3582a-0eb8-4ac7-8eb6-6551da14ace1&quot;,536871092]],[&quot;^17&quot;,[1781,&quot;^R&quot;,&quot;[[log-sequence-numbers]]&quot;,536871092]],[&quot;^17&quot;,[1781,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1781,&quot;^F&quot;,1780,536871092]],[&quot;^17&quot;,[1781,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1781,&quot;^W&quot;,279,536871092]],[&quot;^17&quot;,[1781,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1781,&quot;^V&quot;,1778,536871092]],[&quot;^17&quot;,[1781,&quot;^H&quot;,1778,536871092]],[&quot;^17&quot;,[1781,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1781,&quot;^;&quot;,&quot;~u62d3582a-70bb-42be-8c4b-4e54afbc5020&quot;,536871092]],[&quot;^17&quot;,[1782,&quot;^R&quot;,&quot;ARIES 故障恢复氛围三步：&quot;,536871092]],[&quot;^17&quot;,[1782,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1782,&quot;^F&quot;,1779,536871092]],[&quot;^17&quot;,[1782,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1782,&quot;^W&quot;,1779,536871092]],[&quot;^17&quot;,[1782,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1782,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1782,&quot;^;&quot;,&quot;~u62d3582a-42a2-4a40-8d68-a8109cc88199&quot;,536871092]],[&quot;^17&quot;,[1783,&quot;^N&quot;,false,536876886]],[&quot;^17&quot;,[1783,&quot;^R&quot;,&quot;重做 (redo)：从正确的日志点开始重做所有操作，包括将要中止的事务&quot;,536871092]],[&quot;^17&quot;,[1783,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1783,&quot;^F&quot;,1787,536871092]],[&quot;^17&quot;,[1783,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1783,&quot;^W&quot;,1782,536871092]],[&quot;^17&quot;,[1783,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1783,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1783,&quot;^;&quot;,&quot;~u62d3582a-c482-45ad-a27d-483d3e09e095&quot;,536871092]],[&quot;^17&quot;,[1784,&quot;^R&quot;,&quot;&quot;,536871092]],[&quot;^17&quot;,[1784,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1784,&quot;^F&quot;,1785,536871092]],[&quot;^17&quot;,[1784,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1784,&quot;^W&quot;,1779,536871092]],[&quot;^17&quot;,[1784,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1784,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1784,&quot;^;&quot;,&quot;~u62d3582a-ca1f-4171-aaca-c622994a6a14&quot;,536871092]],[&quot;^17&quot;,[1785,&quot;^R&quot;,&quot;![image.png](../assets/image_1654140017148_0.png)&quot;,536871092]],[&quot;^17&quot;,[1785,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1785,&quot;^F&quot;,1782,536871092]],[&quot;^17&quot;,[1785,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1785,&quot;^W&quot;,1779,536871092]],[&quot;^17&quot;,[1785,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1785,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1785,&quot;^;&quot;,&quot;~u62d3582a-6ae3-469b-9a46-ec3a5df4ae3b&quot;,536871092]],[&quot;^17&quot;,[1786,&quot;^N&quot;,false,536876887]],[&quot;^17&quot;,[1786,&quot;^R&quot;,&quot;撤销 (undo)：将故障前未提交的事务的操作撤销&quot;,536871092]],[&quot;^17&quot;,[1786,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1786,&quot;^F&quot;,1783,536871092]],[&quot;^17&quot;,[1786,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1786,&quot;^W&quot;,1782,536871092]],[&quot;^17&quot;,[1786,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1786,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1786,&quot;^;&quot;,&quot;~u62d3582a-4676-48e2-9b63-0f663a1fa6aa&quot;,536871092]],[&quot;^17&quot;,[1787,&quot;^N&quot;,false,536876885]],[&quot;^17&quot;,[1787,&quot;^R&quot;,&quot;分析 (analysis)：从 WAL 中读取最近一次 checkpoint，找到 buffer pool 中相应的脏页以及故障时的活跃事务&quot;,536871092]],[&quot;^17&quot;,[1787,&quot;^P&quot;,&quot;^19&quot;,536871092]],[&quot;^17&quot;,[1787,&quot;^F&quot;,1782,536871092]],[&quot;^17&quot;,[1787,&quot;^Z&quot;,279,536871092]],[&quot;^17&quot;,[1787,&quot;^W&quot;,1782,536871092]],[&quot;^17&quot;,[1787,&quot;^V&quot;,279,536871092]],[&quot;^17&quot;,[1787,&quot;^1@&quot;,true,536871092]],[&quot;^17&quot;,[1787,&quot;^;&quot;,&quot;~u62d3582a-8c75-4552-a06e-b7dddeacb68e&quot;,536871092]],[&quot;^17&quot;,[1833,&quot;^5&quot;,1834,536871100]],[&quot;^17&quot;,[1833,&quot;^L&quot;,1657416741888,536871263]],[&quot;^17&quot;,[1833,&quot;^@&quot;,false,536871100]],[&quot;^17&quot;,[1833,&quot;^[&quot;,&quot;snapshot isolation&quot;,536871100]],[&quot;^17&quot;,[1833,&quot;^13&quot;,&quot;Snapshot isolation&quot;,536871100]],[&quot;^17&quot;,[1833,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;快照隔离&quot;]],&quot;^18&quot;,true],536896890]],[&quot;^17&quot;,[1833,&quot;^B&quot;,1657417710034,536871263]],[&quot;^17&quot;,[1833,&quot;^;&quot;,&quot;~u62d3582c-3e58-4a1a-ba84-7d1e13bdee8f&quot;,536871230]],[&quot;^17&quot;,[1835,&quot;^R&quot;,&quot;public:: true\\nalias:: 快照隔离&quot;,536896890]],[&quot;^17&quot;,[1835,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1835,&quot;^F&quot;,1833,536871100]],[&quot;^17&quot;,[1835,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1835,&quot;^W&quot;,1833,536871100]],[&quot;^17&quot;,[1835,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1835,&quot;^V&quot;,1834,536871100]],[&quot;^17&quot;,[1835,&quot;^:&quot;,true,536871100]],[&quot;^17&quot;,[1835,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;快照隔离&quot;]],&quot;^18&quot;,true],536896890]],[&quot;^17&quot;,[1835,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871100]],[&quot;^17&quot;,[1835,&quot;^H&quot;,1834,536871100]],[&quot;^17&quot;,[1835,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1835,&quot;^;&quot;,&quot;~u62d3582a-a82b-4b90-aa1a-0a2c96e07b34&quot;,536871100]],[&quot;^17&quot;,[1836,&quot;^R&quot;,&quot;除了 [[Isolation Level]]四种隔离级别，又有人提出了一种新的隔离级别--快照隔离 SI&quot;,536871100]],[&quot;^17&quot;,[1836,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1836,&quot;^F&quot;,1835,536871100]],[&quot;^17&quot;,[1836,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1836,&quot;^W&quot;,1833,536871100]],[&quot;^17&quot;,[1836,&quot;^V&quot;,1097,536871100]],[&quot;^17&quot;,[1836,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1836,&quot;^H&quot;,1097,536871100]],[&quot;^17&quot;,[1836,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1836,&quot;^;&quot;,&quot;~u62d3582a-f533-4d0d-be6a-dff4a9a8982f&quot;,536871100]],[&quot;^17&quot;,[1837,&quot;^R&quot;,&quot;在 Snapshot Isolation 下，不会出现脏读、不可重复度和幻读三种读异常。并且读操作不会被阻塞，对于读多写少的应用 Snapshot Isolation 是非常好的选择。并且，在很多应用场景下，Snapshot Isolation 下的并发事务并不会导致数据异常。所以，主流数据库都实现了 Snapshot Isolation，比如 Oracle、SQL Server、PostgreSQL、TiDB、CockroachDB&quot;,536871100]],[&quot;^17&quot;,[1837,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1837,&quot;^F&quot;,1836,536871100]],[&quot;^17&quot;,[1837,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1837,&quot;^W&quot;,1833,536871100]],[&quot;^17&quot;,[1837,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1837,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1837,&quot;^;&quot;,&quot;~u62d3582a-07c3-4f91-ab42-0d637c96d679&quot;,536871100]],[&quot;^17&quot;,[1838,&quot;^R&quot;,&quot;虽然大部分应用场景下，Snapshot Isolation 可以很好地运行，但是 Snapshot Isolation 依然没有达到可串行化的隔离级别，因为它会出现写偏序（write skew）。**Write skew 本质上是并发事务之间出现了读写冲突（读写冲突不一定会导致 write skew，但是发生 write skew 时肯定有读写冲突），但是 Snapshot Isolation 在事务提交时只检查了写写冲突。**&quot;,536871100]],[&quot;^17&quot;,[1838,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1838,&quot;^F&quot;,1837,536871100]],[&quot;^17&quot;,[1838,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1838,&quot;^W&quot;,1833,536871100]],[&quot;^17&quot;,[1838,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1838,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1838,&quot;^;&quot;,&quot;~u62d3582a-c7f3-4aeb-815d-84e3b24fa059&quot;,536871100]],[&quot;^17&quot;,[1839,&quot;^R&quot;,&quot;## Serializable Snapshot Isolation&quot;,536871100]],[&quot;^17&quot;,[1839,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1839,&quot;^X&quot;,2,536871100]],[&quot;^17&quot;,[1839,&quot;^F&quot;,1838,536871100]],[&quot;^17&quot;,[1839,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1839,&quot;^W&quot;,1833,536871100]],[&quot;^17&quot;,[1839,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1839,&quot;^1&gt;&quot;,2,536871100]],[&quot;^17&quot;,[1839,&quot;^Y&quot;,&quot;^1?&quot;,536871100]],[&quot;^17&quot;,[1839,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1839,&quot;^;&quot;,&quot;~u62d3582a-16fd-4637-804e-f3cdd54fc5c3&quot;,536871100]],[&quot;^17&quot;,[1840,&quot;^R&quot;,&quot;后来，又有人提出了基于 Snapshot Isolation 的可串行化 —— Serializable Snapshot Isolation，简称 SSI（PostgreSQL 和 CockroachDB 已经支持 SSI）&quot;,536871100]],[&quot;^17&quot;,[1840,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1840,&quot;^F&quot;,1839,536871100]],[&quot;^17&quot;,[1840,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1840,&quot;^W&quot;,1839,536871100]],[&quot;^17&quot;,[1840,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1840,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1840,&quot;^;&quot;,&quot;~u62d3582a-7f25-48bf-8cb5-f1764adca9ab&quot;,536871100]],[&quot;^17&quot;,[1841,&quot;^R&quot;,&quot;SSI 类似于使用序列化图测试的其他并发控制协议。但是，SSI 不是检测循环，而是在序列化图中寻找“危险结构”（当发现有两条“连续”的 rw-dependency 时）。使用这种方法，SSI 可能会给出一些误报，但它更有效，因为它的限制较少：它允许一些 rw 冲突，只要它们不用于“危险结构”。因此，与 S2PL 相比，SSI 提供了更好的性能。&quot;,536871100]],[&quot;^17&quot;,[1841,&quot;^P&quot;,&quot;^19&quot;,536871100]],[&quot;^17&quot;,[1841,&quot;^F&quot;,1840,536871100]],[&quot;^17&quot;,[1841,&quot;^Z&quot;,1833,536871100]],[&quot;^17&quot;,[1841,&quot;^W&quot;,1839,536871100]],[&quot;^17&quot;,[1841,&quot;^V&quot;,1833,536871100]],[&quot;^17&quot;,[1841,&quot;^1@&quot;,true,536871100]],[&quot;^17&quot;,[1841,&quot;^;&quot;,&quot;~u62d3582a-93c3-4f70-8460-6264caebe81a&quot;,536871100]],[&quot;^17&quot;,[1843,&quot;^R&quot;,&quot;GROUP BY: Perform aggregate computation&quot;,536871102]],[&quot;^17&quot;,[1843,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1843,&quot;^F&quot;,1875,536871102]],[&quot;^17&quot;,[1843,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1843,&quot;^W&quot;,1853,536871102]],[&quot;^17&quot;,[1843,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1843,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1843,&quot;^;&quot;,&quot;~u62d3582a-3a2a-4329-9e70-e9596ae0da18&quot;,536871102]],[&quot;^17&quot;,[1844,&quot;^R&quot;,&quot;Aggregations (GROUP BY)&quot;,536871102]],[&quot;^17&quot;,[1844,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1844,&quot;^F&quot;,1856,536871102]],[&quot;^17&quot;,[1844,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1844,&quot;^W&quot;,1846,536871102]],[&quot;^17&quot;,[1844,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1844,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1844,&quot;^;&quot;,&quot;~u62d3582a-4c83-4385-a0ad-83c31abdf105&quot;,536871102]],[&quot;^17&quot;,[1845,&quot;^R&quot;,&quot;这里有个额外的假设，即每个 partition 能够被放到 memory 中&quot;,536871102]],[&quot;^17&quot;,[1845,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1845,&quot;^F&quot;,1848,536871102]],[&quot;^17&quot;,[1845,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1845,&quot;^W&quot;,1877,536871102]],[&quot;^17&quot;,[1845,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1845,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1845,&quot;^;&quot;,&quot;~u62d3582a-4653-4461-9161-5d5627d46ed8&quot;,536871102]],[&quot;^17&quot;,[1846,&quot;^R&quot;,&quot;需要排序算法的原因：本质在于 tuples 在 table 中没有顺序，无论是用户还是 DBMS 本身，在处理某些任务时希望 tuples 能够按一定的顺序排列，如：&quot;,536871102]],[&quot;^17&quot;,[1846,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1846,&quot;^F&quot;,4503,536896816]],[&quot;^17&quot;,[1846,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1846,&quot;^W&quot;,297,536871102]],[&quot;^17&quot;,[1846,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1846,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1846,&quot;^;&quot;,&quot;~u62d3582a-400e-4727-a964-bdc57db57453&quot;,536871102]],[&quot;^17&quot;,[1847,&quot;^R&quot;,&quot;![image.png](../assets/image_1656494186004_0.png)&quot;,536871102]],[&quot;^17&quot;,[1847,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1847,&quot;^F&quot;,1870,536871102]],[&quot;^17&quot;,[1847,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1847,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1847,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1847,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1847,&quot;^;&quot;,&quot;~u62d3582a-1848-4675-9dcc-7d0973fe02b3&quot;,536871102]],[&quot;^17&quot;,[1848,&quot;^R&quot;,&quot;use a hash function h1 to split tuples into partitions on disk&quot;,536871102]],[&quot;^17&quot;,[1848,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1848,&quot;^F&quot;,1877,536871102]],[&quot;^17&quot;,[1848,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1848,&quot;^W&quot;,1877,536871102]],[&quot;^17&quot;,[1848,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1848,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1848,&quot;^;&quot;,&quot;~u62d3582a-654c-497d-a2ab-ec20e0f10a94&quot;,536871102]],[&quot;^17&quot;,[1849,&quot;^R&quot;,&quot;如果我们发现相应的 GroupKey 已经在内存中，只需要更新 RunningVal 就可以&quot;,536871102]],[&quot;^17&quot;,[1849,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1849,&quot;^F&quot;,1854,536871102]],[&quot;^17&quot;,[1849,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1849,&quot;^W&quot;,1854,536871102]],[&quot;^17&quot;,[1849,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1849,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1849,&quot;^;&quot;,&quot;~u62d3582a-b671-4e94-8aad-022b87acb962&quot;,536871102]],[&quot;^17&quot;,[1850,&quot;^R&quot;,&quot;每个 partition 的数据应当小于 B 个 pages&quot;,536871102]],[&quot;^17&quot;,[1850,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1850,&quot;^F&quot;,1873,536871102]],[&quot;^17&quot;,[1850,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1850,&quot;^W&quot;,1874,536871102]],[&quot;^17&quot;,[1850,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1850,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1850,&quot;^;&quot;,&quot;~u62d3582a-aebe-4452-8b63-aa6239d425b6&quot;,536871102]],[&quot;^17&quot;,[1851,&quot;^R&quot;,&quot;若 tuples 已经排好序，去重操作将变得很容易（DISTINCT)&quot;,536871102]],[&quot;^17&quot;,[1851,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1851,&quot;^F&quot;,1846,536871102]],[&quot;^17&quot;,[1851,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1851,&quot;^W&quot;,1846,536871102]],[&quot;^17&quot;,[1851,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1851,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1851,&quot;^;&quot;,&quot;~u62d3582a-4c54-4bb5-bf95-58a8b14e6e64&quot;,536871102]],[&quot;^17&quot;,[1852,&quot;^R&quot;,&quot;Forming groups in GROUP BY\\nRemoving duplicates in DISTINCT\\n在这样的场景下 hashing 是更好的选择，它能有效减少排序所需的额外工作。&quot;,536871102]],[&quot;^17&quot;,[1852,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1852,&quot;^F&quot;,1861,536871102]],[&quot;^17&quot;,[1852,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1852,&quot;^W&quot;,1861,536871102]],[&quot;^17&quot;,[1852,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1852,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1852,&quot;^;&quot;,&quot;~u62d3582a-9a94-4287-99cb-008db53acc8f&quot;,536871102]],[&quot;^17&quot;,[1853,&quot;^R&quot;,&quot;利用一个临时 (ephemeral) 的 hash table 来记录必要的信息，即检查 hash table 中是否存在已经记录过的元素并作出相应操作：&quot;,536871102]],[&quot;^17&quot;,[1853,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1853,&quot;^F&quot;,1858,536871102]],[&quot;^17&quot;,[1853,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1853,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1853,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1853,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1853,&quot;^;&quot;,&quot;~u62d3582a-eaea-48a5-8104-c2fece042c50&quot;,536871102]],[&quot;^17&quot;,[1854,&quot;^R&quot;,&quot;在 ReHash phase 中，存着  的键值对，当我们需要向 hash table 中插入新的 tuple 时：&quot;,536871102]],[&quot;^17&quot;,[1854,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1854,&quot;^F&quot;,1847,536871102]],[&quot;^17&quot;,[1854,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1854,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1854,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1854,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1854,&quot;^;&quot;,&quot;~u62d3582a-1297-4ed3-81ba-ed318e791279&quot;,536871102]],[&quot;^17&quot;,[1855,&quot;^R&quot;,&quot;因此能够聚合的 table 最大为  B×(B−1)\\n通常一个大小为 N pages 的 table 需要大约 根号N 个 buffer pages&quot;,536871102]],[&quot;^17&quot;,[1855,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1855,&quot;^F&quot;,1874,536871102]],[&quot;^17&quot;,[1855,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1855,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1855,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1855,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1855,&quot;^;&quot;,&quot;~u62d3582a-28b6-4297-9dd5-750d9f5895e8&quot;,536871102]],[&quot;^17&quot;,[1856,&quot;^R&quot;,&quot;批量将排好序的 tuples 插入到 B+ Tree index 中，速度更快&quot;,536871102]],[&quot;^17&quot;,[1856,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1856,&quot;^F&quot;,1851,536871102]],[&quot;^17&quot;,[1856,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1856,&quot;^W&quot;,1846,536871102]],[&quot;^17&quot;,[1856,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1856,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1856,&quot;^;&quot;,&quot;~u62d3582a-d47d-4bc0-b0a9-4a31d6d02ad8&quot;,536871102]],[&quot;^17&quot;,[1857,&quot;^R&quot;,&quot;Sorting&quot;,536871102]],[&quot;^17&quot;,[1857,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1857,&quot;^F&quot;,1871,536871102]],[&quot;^17&quot;,[1857,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1857,&quot;^W&quot;,1871,536871102]],[&quot;^17&quot;,[1857,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1857,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1857,&quot;^;&quot;,&quot;~u62d3582a-5025-4a0c-bb27-189f90e8ac34&quot;,536871102]],[&quot;^17&quot;,[1858,&quot;^R&quot;,&quot;### Hash Aggregation&quot;,536871102]],[&quot;^17&quot;,[1858,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1858,&quot;^X&quot;,3,536871102]],[&quot;^17&quot;,[1858,&quot;^F&quot;,1861,536871102]],[&quot;^17&quot;,[1858,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1858,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1858,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1858,&quot;^1&gt;&quot;,3,536871102]],[&quot;^17&quot;,[1858,&quot;^Y&quot;,&quot;^1?&quot;,536871102]],[&quot;^17&quot;,[1858,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1858,&quot;^;&quot;,&quot;~u62d3582a-7f51-4e5c-85ee-fe05f4238733&quot;,536871102]],[&quot;^17&quot;,[1859,&quot;^R&quot;,&quot;partitions are \\&quot;spilled\\&quot; to disk via output buffers&quot;,536871102]],[&quot;^17&quot;,[1859,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1859,&quot;^F&quot;,1863,536871102]],[&quot;^17&quot;,[1859,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1859,&quot;^W&quot;,1848,536871102]],[&quot;^17&quot;,[1859,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1859,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1859,&quot;^;&quot;,&quot;~u62d3582a-4735-4320-bf80-ffbabbf2dcb1&quot;,536871102]],[&quot;^17&quot;,[1860,&quot;^R&quot;,&quot;反之，则插入新的 GroupKey 到 RunningVal 的键值对&quot;,536871102]],[&quot;^17&quot;,[1860,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1860,&quot;^F&quot;,1849,536871102]],[&quot;^17&quot;,[1860,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1860,&quot;^W&quot;,1854,536871102]],[&quot;^17&quot;,[1860,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1860,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1860,&quot;^;&quot;,&quot;~u62d3582a-04e0-4907-8eb5-9aa2e1118f20&quot;,536871102]],[&quot;^17&quot;,[1861,&quot;^R&quot;,&quot;但很多时候我们并不需要排好序的数据，如：&quot;,536871102]],[&quot;^17&quot;,[1861,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1861,&quot;^F&quot;,1864,536871102]],[&quot;^17&quot;,[1861,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1861,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1861,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1861,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1861,&quot;^;&quot;,&quot;~u62d3582a-e220-41bd-af2e-3d22e64d4a71&quot;,536871102]],[&quot;^17&quot;,[1862,&quot;^R&quot;,&quot;如果所有信息都能一次性读入内存，那事情就很简单了，但如若不然，我们就得变得更聪明。&quot;,536871102]],[&quot;^17&quot;,[1862,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1862,&quot;^F&quot;,1853,536871102]],[&quot;^17&quot;,[1862,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1862,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1862,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1862,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1862,&quot;^;&quot;,&quot;~u62d3582a-9e08-4773-aca0-fda550c1d2d1&quot;,536871102]],[&quot;^17&quot;,[1863,&quot;^R&quot;,&quot;all matches live in the same partition&quot;,536871102]],[&quot;^17&quot;,[1863,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1863,&quot;^F&quot;,1848,536871102]],[&quot;^17&quot;,[1863,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1863,&quot;^W&quot;,1848,536871102]],[&quot;^17&quot;,[1863,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1863,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1863,&quot;^;&quot;,&quot;~u62d3582a-1ab8-4e3f-b28e-814136681e7e&quot;,536871102]],[&quot;^17&quot;,[1864,&quot;^R&quot;,&quot;![image.png](../assets/image_1656493906620_0.png)&quot;,536871102]],[&quot;^17&quot;,[1864,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1864,&quot;^F&quot;,1871,536871102]],[&quot;^17&quot;,[1864,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1864,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1864,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1864,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1864,&quot;^;&quot;,&quot;~u62d3582a-de45-4403-ae15-2a1a1e7b0dc3&quot;,536871102]],[&quot;^17&quot;,[1865,&quot;^R&quot;,&quot;Cost Analysis&quot;,536871102]],[&quot;^17&quot;,[1865,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1865,&quot;^F&quot;,1858,536871102]],[&quot;^17&quot;,[1865,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1865,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1865,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1865,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1865,&quot;^;&quot;,&quot;~u62d3582a-d528-4df6-8256-252c894b9be1&quot;,536871102]],[&quot;^17&quot;,[1866,&quot;^R&quot;,&quot;# External Merge Sort\\nid:: 62bbd1a8-5963-4a9d-a90e-bf885c3b43f8&quot;,536871102]],[&quot;^17&quot;,[1866,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1866,&quot;^X&quot;,1,536871102]],[&quot;^17&quot;,[1866,&quot;^F&quot;,1846,536871102]],[&quot;^17&quot;,[1866,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1866,&quot;^W&quot;,297,536871102]],[&quot;^17&quot;,[1866,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1866,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bbd1a8-5963-4a9d-a90e-bf885c3b43f8&quot;],536871102]],[&quot;^17&quot;,[1866,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871102]],[&quot;^17&quot;,[1866,&quot;^1&gt;&quot;,1,536871102]],[&quot;^17&quot;,[1866,&quot;^Y&quot;,&quot;^1?&quot;,536871102]],[&quot;^17&quot;,[1866,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1866,&quot;^;&quot;,&quot;~u62bbd1a8-5963-4a9d-a90e-bf885c3b43f8&quot;,536871102]],[&quot;^17&quot;,[1867,&quot;^R&quot;,&quot;ReHash Phase: 在内存中针对每个 partition 利用 hash table 计算 aggregation 的结果&quot;,536871102]],[&quot;^17&quot;,[1867,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1867,&quot;^F&quot;,1877,536871102]],[&quot;^17&quot;,[1867,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1867,&quot;^W&quot;,1868,536871102]],[&quot;^17&quot;,[1867,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1867,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1867,&quot;^;&quot;,&quot;~u62d3582a-8f38-44d9-b992-22454576e78a&quot;,536871102]],[&quot;^17&quot;,[1868,&quot;^R&quot;,&quot;hashing aggregation 同样分成两步：&quot;,536871102]],[&quot;^17&quot;,[1868,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1868,&quot;^F&quot;,1862,536871102]],[&quot;^17&quot;,[1868,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1868,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1868,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1868,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1868,&quot;^;&quot;,&quot;~u62d3582a-6ca4-4dde-ace4-c88f7f645051&quot;,536871102]],[&quot;^17&quot;,[1869,&quot;^R&quot;,&quot;Hashing&quot;,536871102]],[&quot;^17&quot;,[1869,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1869,&quot;^F&quot;,1857,536871102]],[&quot;^17&quot;,[1869,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1869,&quot;^W&quot;,1871,536871102]],[&quot;^17&quot;,[1869,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1869,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1869,&quot;^;&quot;,&quot;~u62d3582a-4f8f-440e-84c2-f96f61f98377&quot;,536871102]],[&quot;^17&quot;,[1870,&quot;^R&quot;,&quot;![image.png](../assets/image_1656494175186_0.png)&quot;,536871102]],[&quot;^17&quot;,[1870,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1870,&quot;^F&quot;,1868,536871102]],[&quot;^17&quot;,[1870,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1870,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1870,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1870,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1870,&quot;^;&quot;,&quot;~u62d3582a-2510-49e3-8064-1c7a5801623a&quot;,536871102]],[&quot;^17&quot;,[1871,&quot;^R&quot;,&quot;聚集就是对一组 tuples 的某些值做统计，转化为标量，如平均值，最大值，最小值。通常两种方案&quot;,536871102]],[&quot;^17&quot;,[1871,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1871,&quot;^F&quot;,1878,536871102]],[&quot;^17&quot;,[1871,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1871,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1871,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1871,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1871,&quot;^;&quot;,&quot;~u62d3582a-626b-4775-9d21-f4f5c6994283&quot;,536871102]],[&quot;^17&quot;,[1872,&quot;^R&quot;,&quot;### Using B+ Tree&quot;,536871102]],[&quot;^17&quot;,[1872,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1872,&quot;^X&quot;,3,536871102]],[&quot;^17&quot;,[1872,&quot;^F&quot;,1866,536871102]],[&quot;^17&quot;,[1872,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1872,&quot;^W&quot;,1866,536871102]],[&quot;^17&quot;,[1872,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1872,&quot;^1&gt;&quot;,3,536871102]],[&quot;^17&quot;,[1872,&quot;^Y&quot;,&quot;^1?&quot;,536871102]],[&quot;^17&quot;,[1872,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1872,&quot;^;&quot;,&quot;~u62d3582a-cf22-4844-b3e8-939819dfdc22&quot;,536871102]],[&quot;^17&quot;,[1873,&quot;^R&quot;,&quot;Phase 1：使用 1 个 page 读数据，B-1 个 page 写出 B-1 个 partition 的数据&quot;,536871102]],[&quot;^17&quot;,[1873,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1873,&quot;^F&quot;,1874,536871102]],[&quot;^17&quot;,[1873,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1873,&quot;^W&quot;,1874,536871102]],[&quot;^17&quot;,[1873,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1873,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1873,&quot;^;&quot;,&quot;~u62d3582a-ba55-4875-bdc9-137af5525e4f&quot;,536871102]],[&quot;^17&quot;,[1874,&quot;^R&quot;,&quot;使用 hashing aggregation 可以聚合多大的 table ？假设有 B 个 buffer pages&quot;,536871102]],[&quot;^17&quot;,[1874,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1874,&quot;^F&quot;,1865,536871102]],[&quot;^17&quot;,[1874,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1874,&quot;^W&quot;,1878,536871102]],[&quot;^17&quot;,[1874,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1874,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1874,&quot;^;&quot;,&quot;~u62d3582a-6d47-45c2-a813-b70716c453fd&quot;,536871102]],[&quot;^17&quot;,[1875,&quot;^R&quot;,&quot;DISTINCT: Discard duplicate&quot;,536871102]],[&quot;^17&quot;,[1875,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1875,&quot;^F&quot;,1853,536871102]],[&quot;^17&quot;,[1875,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1875,&quot;^W&quot;,1853,536871102]],[&quot;^17&quot;,[1875,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1875,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1875,&quot;^;&quot;,&quot;~u62d3582a-8c7d-4f3c-b12b-4c1e532995f9&quot;,536871102]],[&quot;^17&quot;,[1876,&quot;^R&quot;,&quot;![image.png](../assets/image_1656494286614_0.png)&quot;,536871102]],[&quot;^17&quot;,[1876,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1876,&quot;^F&quot;,1854,536871102]],[&quot;^17&quot;,[1876,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1876,&quot;^W&quot;,1858,536871102]],[&quot;^17&quot;,[1876,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1876,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1876,&quot;^;&quot;,&quot;~u62d3582a-18f0-4276-891b-0b472345d2bc&quot;,536871102]],[&quot;^17&quot;,[1877,&quot;^R&quot;,&quot;Partition Phase: 将 tuples 根据 hash key 放入不同的 buckets&quot;,536871102]],[&quot;^17&quot;,[1877,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1877,&quot;^F&quot;,1868,536871102]],[&quot;^17&quot;,[1877,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1877,&quot;^W&quot;,1868,536871102]],[&quot;^17&quot;,[1877,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1877,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1877,&quot;^;&quot;,&quot;~u62d3582a-f9e9-4be5-8065-94ba9d30c805&quot;,536871102]],[&quot;^17&quot;,[1878,&quot;^R&quot;,&quot;## Aggregations\\nid:: 62bbd1ec-5912-44a1-b12c-370fdc30b05d&quot;,536871102]],[&quot;^17&quot;,[1878,&quot;^P&quot;,&quot;^19&quot;,536871102]],[&quot;^17&quot;,[1878,&quot;^X&quot;,2,536871102]],[&quot;^17&quot;,[1878,&quot;^F&quot;,1866,536871102]],[&quot;^17&quot;,[1878,&quot;^Z&quot;,297,536871102]],[&quot;^17&quot;,[1878,&quot;^W&quot;,297,536871102]],[&quot;^17&quot;,[1878,&quot;^V&quot;,297,536871102]],[&quot;^17&quot;,[1878,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62bbd1ec-5912-44a1-b12c-370fdc30b05d&quot;],536871102]],[&quot;^17&quot;,[1878,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871102]],[&quot;^17&quot;,[1878,&quot;^1&gt;&quot;,2,536871102]],[&quot;^17&quot;,[1878,&quot;^Y&quot;,&quot;^1?&quot;,536871102]],[&quot;^17&quot;,[1878,&quot;^1@&quot;,true,536871102]],[&quot;^17&quot;,[1878,&quot;^;&quot;,&quot;~u62bbd1ec-5912-44a1-b12c-370fdc30b05d&quot;,536871102]],[&quot;^17&quot;,[1880,&quot;^R&quot;,&quot;Fixed-length Offsets：每个 attribute 都是定长的，直接靠 offset 来跟踪（常用）&quot;,536871104]],[&quot;^17&quot;,[1880,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1880,&quot;^F&quot;,1903,536871104]],[&quot;^17&quot;,[1880,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1880,&quot;^W&quot;,1903,536871104]],[&quot;^17&quot;,[1880,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1880,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1880,&quot;^;&quot;,&quot;~u62d3582a-ac20-46d7-83f4-34dc73388e9b&quot;,536871104]],[&quot;^17&quot;,[1881,&quot;^R&quot;,&quot;**NSM**&quot;,536871104]],[&quot;^17&quot;,[1881,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1881,&quot;^F&quot;,1892,536871104]],[&quot;^17&quot;,[1881,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1881,&quot;^W&quot;,751,536871104]],[&quot;^17&quot;,[1881,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1881,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1881,&quot;^;&quot;,&quot;~u62d3582a-71da-48cf-98c4-cdeee52a1afb&quot;,536871104]],[&quot;^17&quot;,[1882,&quot;^R&quot;,&quot;**DSM**&quot;,536871104]],[&quot;^17&quot;,[1882,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1882,&quot;^F&quot;,1881,536871104]],[&quot;^17&quot;,[1882,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1882,&quot;^W&quot;,751,536871104]],[&quot;^17&quot;,[1882,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1882,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1882,&quot;^;&quot;,&quot;~u62d3582a-9aac-49ea-a11f-775230e44f7f&quot;,536871104]],[&quot;^17&quot;,[1883,&quot;^R&quot;,&quot;![image.png](../assets/image_1657553529025_0.png)&quot;,536871104]],[&quot;^17&quot;,[1883,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1883,&quot;^F&quot;,1902,536871104]],[&quot;^17&quot;,[1883,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1883,&quot;^W&quot;,1903,536871104]],[&quot;^17&quot;,[1883,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1883,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1883,&quot;^;&quot;,&quot;~u62d3582a-77c2-4835-a1ba-6a8f66999e80&quot;,536871104]],[&quot;^17&quot;,[1884,&quot;^R&quot;,&quot;总结一下，DSM 的优缺点如下：&quot;,536871104]],[&quot;^17&quot;,[1884,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1884,&quot;^F&quot;,1903,536871104]],[&quot;^17&quot;,[1884,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1884,&quot;^W&quot;,1882,536871104]],[&quot;^17&quot;,[1884,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1884,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1884,&quot;^;&quot;,&quot;~u62d3582a-5133-4b2c-b1cc-95ff3a1b5781&quot;,536871104]],[&quot;^17&quot;,[1885,&quot;^R&quot;,&quot;但对于一个典型的 OLAP 查询，如下图所示：\\n![image.png](../assets/image_1657553415770_0.png)\\n尽管整个查询只涉及到 tuple 的 hostname 与 lastLogin 两个 attributes，但查询过程中仍然需要读取 tuple 的所有 attributes。&quot;,536871104]],[&quot;^17&quot;,[1885,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1885,&quot;^F&quot;,1900,536871104]],[&quot;^17&quot;,[1885,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1885,&quot;^W&quot;,1881,536871104]],[&quot;^17&quot;,[1885,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1885,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1885,&quot;^;&quot;,&quot;~u62d3582a-c99b-458c-9016-f82f7121f843&quot;,536871104]],[&quot;^17&quot;,[1886,&quot;^R&quot;,&quot;有利于需要整个 tuple （所有 attributes）的查询&quot;,536871104]],[&quot;^17&quot;,[1886,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1886,&quot;^F&quot;,1899,536871104]],[&quot;^17&quot;,[1886,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1886,&quot;^W&quot;,1898,536871104]],[&quot;^17&quot;,[1886,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1886,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1886,&quot;^;&quot;,&quot;~u62d3582a-64c5-4c22-9ac0-b19129a5a32c&quot;,536871104]],[&quot;^17&quot;,[1887,&quot;^R&quot;,&quot;减少 I/O 操作&quot;,536871104]],[&quot;^17&quot;,[1887,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1887,&quot;^F&quot;,1897,536871104]],[&quot;^17&quot;,[1887,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1887,&quot;^W&quot;,1897,536871104]],[&quot;^17&quot;,[1887,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1887,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1887,&quot;^;&quot;,&quot;~u62d3582a-d015-4715-b212-15c788ee2b94&quot;,536871104]],[&quot;^17&quot;,[1888,&quot;^R&quot;,&quot;总结一下，NSM 的优缺点如下：&quot;,536871104]],[&quot;^17&quot;,[1888,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1888,&quot;^F&quot;,1885,536871104]],[&quot;^17&quot;,[1888,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1888,&quot;^W&quot;,1881,536871104]],[&quot;^17&quot;,[1888,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1888,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1888,&quot;^;&quot;,&quot;~u62d3582a-e134-4524-9f7e-77a9bb3fd2a5&quot;,536871104]],[&quot;^17&quot;,[1889,&quot;^R&quot;,&quot;Disadvantages&quot;,536871104]],[&quot;^17&quot;,[1889,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1889,&quot;^F&quot;,1897,536871104]],[&quot;^17&quot;,[1889,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1889,&quot;^W&quot;,1884,536871104]],[&quot;^17&quot;,[1889,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1889,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1889,&quot;^;&quot;,&quot;~u62d3582a-6601-4356-a6d5-41a715a4cd4c&quot;,536871104]],[&quot;^17&quot;,[1890,&quot;^R&quot;,&quot;列存储：Decomposition Storage Model (DSM)&quot;,536871104]],[&quot;^17&quot;,[1890,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1890,&quot;^F&quot;,1896,536871104]],[&quot;^17&quot;,[1890,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1890,&quot;^W&quot;,1892,536871104]],[&quot;^17&quot;,[1890,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1890,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1890,&quot;^;&quot;,&quot;~u62d3582a-92d1-4a66-826b-4977637ac6ca&quot;,536871104]],[&quot;^17&quot;,[1891,&quot;^R&quot;,&quot;更好的查询处理和数据压缩支持&quot;,536871104]],[&quot;^17&quot;,[1891,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1891,&quot;^F&quot;,1887,536871104]],[&quot;^17&quot;,[1891,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1891,&quot;^W&quot;,1897,536871104]],[&quot;^17&quot;,[1891,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1891,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1891,&quot;^;&quot;,&quot;~u62d3582a-7736-4aa2-900f-06babe17f92a&quot;,536871104]],[&quot;^17&quot;,[1892,&quot;^R&quot;,&quot;Relational Data Model 将数据的 attributes 组合成 tuple，将结构相似的 tuple 组合成 relation，但它并没有指定这些 relation 中的 tuple，以及 tuple 的 attributes 的存储方式。一个 tuple 的所有 attributes 并不需要都存储在同一个 page 中，它们的实际存储方式可以根据数据库应用场景优化，如 OLTP 和 OLAP。\\n目前常见的 Data Storage Models 包括：&quot;,536871104]],[&quot;^17&quot;,[1892,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1892,&quot;^F&quot;,4492,536896758]],[&quot;^17&quot;,[1892,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1892,&quot;^W&quot;,751,536871104]],[&quot;^17&quot;,[1892,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1892,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1892,&quot;^;&quot;,&quot;~u62d3582a-90d9-4319-9578-c5e19bdc44a2&quot;,536871104]],[&quot;^17&quot;,[1893,&quot;^R&quot;,&quot;DSM 将所有 tuples 的单个 attribute 连续地存储在一个 page 中，这种存储方式特别适用于 OLAP 场景，如下图所示：\\n![image.png](../assets/image_1657553495751_0.png)&quot;,536871104]],[&quot;^17&quot;,[1893,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1893,&quot;^F&quot;,1882,536871104]],[&quot;^17&quot;,[1893,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1893,&quot;^W&quot;,1882,536871104]],[&quot;^17&quot;,[1893,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1893,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1893,&quot;^;&quot;,&quot;~u62d3582a-372b-4f5e-ae37-d4ba253269fb&quot;,536871104]],[&quot;^17&quot;,[1894,&quot;^R&quot;,&quot;Disadvantages&quot;,536871104]],[&quot;^17&quot;,[1894,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1894,&quot;^F&quot;,1898,536871104]],[&quot;^17&quot;,[1894,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1894,&quot;^W&quot;,1888,536871104]],[&quot;^17&quot;,[1894,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1894,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1894,&quot;^;&quot;,&quot;~u62d3582a-7118-4901-9049-8b7858c47306&quot;,536871104]],[&quot;^17&quot;,[1895,&quot;^R&quot;,&quot;涉及少量 tuples、多数 attributes 的查询低效&quot;,536871104]],[&quot;^17&quot;,[1895,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1895,&quot;^F&quot;,1889,536871104]],[&quot;^17&quot;,[1895,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1895,&quot;^W&quot;,1889,536871104]],[&quot;^17&quot;,[1895,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1895,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1895,&quot;^;&quot;,&quot;~u62d3582a-4240-4836-b139-caee6899c72f&quot;,536871104]],[&quot;^17&quot;,[1896,&quot;^R&quot;,&quot;行存储：N-ary Storage Model (NSM)&quot;,536871104]],[&quot;^17&quot;,[1896,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1896,&quot;^F&quot;,1892,536871104]],[&quot;^17&quot;,[1896,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1896,&quot;^W&quot;,1892,536871104]],[&quot;^17&quot;,[1896,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1896,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1896,&quot;^;&quot;,&quot;~u62d3582a-0288-479b-9154-c55192811bb4&quot;,536871104]],[&quot;^17&quot;,[1897,&quot;^R&quot;,&quot;Advantages&quot;,536871104]],[&quot;^17&quot;,[1897,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1897,&quot;^F&quot;,1884,536871104]],[&quot;^17&quot;,[1897,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1897,&quot;^W&quot;,1884,536871104]],[&quot;^17&quot;,[1897,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1897,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1897,&quot;^;&quot;,&quot;~u62d3582a-7c67-4c09-905a-ce55dc755348&quot;,536871104]],[&quot;^17&quot;,[1898,&quot;^R&quot;,&quot;Advantages&quot;,536871104]],[&quot;^17&quot;,[1898,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1898,&quot;^F&quot;,1888,536871104]],[&quot;^17&quot;,[1898,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1898,&quot;^W&quot;,1888,536871104]],[&quot;^17&quot;,[1898,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1898,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1898,&quot;^;&quot;,&quot;~u62d3582a-e0a2-41ee-a665-418d53f7e6a1&quot;,536871104]],[&quot;^17&quot;,[1899,&quot;^R&quot;,&quot;高效插入、更新、删除，涉及表中小部分 tuples&quot;,536871104]],[&quot;^17&quot;,[1899,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1899,&quot;^F&quot;,1898,536871104]],[&quot;^17&quot;,[1899,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1899,&quot;^W&quot;,1898,536871104]],[&quot;^17&quot;,[1899,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1899,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1899,&quot;^;&quot;,&quot;~u62d3582a-b467-45c1-be8d-0182682a662d&quot;,536871104]],[&quot;^17&quot;,[1900,&quot;^R&quot;,&quot;NSM 将一个 tuple 的所有 attributes 在 page 中连续地存储，这种存储方式非常适合 OLTP 场景，如下图所示：\\n![image.png](../assets/image_1657553353674_0.png)\\nDBMS 针对一些常用 attributes 建立 Index，如例子中的 userID，一个查询语句通过 Index 找到相应的 tuples，返回查询结果，流程如下： ![image.png](../assets/image_1657553386012_0.png)&quot;,536871104]],[&quot;^17&quot;,[1900,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1900,&quot;^F&quot;,1881,536871104]],[&quot;^17&quot;,[1900,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1900,&quot;^W&quot;,1881,536871104]],[&quot;^17&quot;,[1900,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1900,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1900,&quot;^;&quot;,&quot;~u62d3582a-d978-478e-be00-9a8f2aea727e&quot;,536871104]],[&quot;^17&quot;,[1901,&quot;^R&quot;,&quot;不利于需要检索表内大部分 tuples，或者只需要一小部分 attributes 的查询&quot;,536871104]],[&quot;^17&quot;,[1901,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1901,&quot;^F&quot;,1894,536871104]],[&quot;^17&quot;,[1901,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1901,&quot;^W&quot;,1894,536871104]],[&quot;^17&quot;,[1901,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1901,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1901,&quot;^;&quot;,&quot;~u62d3582a-e98c-49ae-b212-03820ff0c4ff&quot;,536871104]],[&quot;^17&quot;,[1902,&quot;^R&quot;,&quot;Embedded Tuple Ids：在每个 attribute 前面都加上 tupleID&quot;,536871104]],[&quot;^17&quot;,[1902,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1902,&quot;^F&quot;,1880,536871104]],[&quot;^17&quot;,[1902,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1902,&quot;^W&quot;,1903,536871104]],[&quot;^17&quot;,[1902,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1902,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1902,&quot;^;&quot;,&quot;~u62d3582a-cc25-4034-9771-b514e3bb2fc2&quot;,536871104]],[&quot;^17&quot;,[1903,&quot;^R&quot;,&quot;由于 DSM 把 attributes 分开存储，也引入了新的问题，比如：\\n如何跟踪每个 tuple 的不同 attributes？可能的解决方案有&quot;,536871104]],[&quot;^17&quot;,[1903,&quot;^P&quot;,&quot;^19&quot;,536871104]],[&quot;^17&quot;,[1903,&quot;^F&quot;,1893,536871104]],[&quot;^17&quot;,[1903,&quot;^Z&quot;,751,536871104]],[&quot;^17&quot;,[1903,&quot;^W&quot;,1882,536871104]],[&quot;^17&quot;,[1903,&quot;^V&quot;,751,536871104]],[&quot;^17&quot;,[1903,&quot;^1@&quot;,true,536871104]],[&quot;^17&quot;,[1903,&quot;^;&quot;,&quot;~u62d3582a-d5ef-4e85-a457-b1e63f7e1dc8&quot;,536871104]],[&quot;^17&quot;,[1905,&quot;^R&quot;,&quot;除了数据本身，DBMS 还需要存储数据的元数据，即数据字典，它们包括：&quot;,536871106]],[&quot;^17&quot;,[1905,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1905,&quot;^F&quot;,4491,536896753]],[&quot;^17&quot;,[1905,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1905,&quot;^W&quot;,749,536871106]],[&quot;^17&quot;,[1905,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1905,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1905,&quot;^;&quot;,&quot;~u62d3582a-f116-4636-b49d-26a7875d942e&quot;,536871106]],[&quot;^17&quot;,[1906,&quot;^R&quot;,&quot;Table, columns, indexes, views&quot;,536871106]],[&quot;^17&quot;,[1906,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1906,&quot;^F&quot;,1905,536871106]],[&quot;^17&quot;,[1906,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1906,&quot;^W&quot;,1905,536871106]],[&quot;^17&quot;,[1906,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1906,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1906,&quot;^;&quot;,&quot;~u62d3582a-06d4-4119-8420-17d6840a489a&quot;,536871106]],[&quot;^17&quot;,[1907,&quot;^R&quot;,&quot;Users, permissions&quot;,536871106]],[&quot;^17&quot;,[1907,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1907,&quot;^F&quot;,1906,536871106]],[&quot;^17&quot;,[1907,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1907,&quot;^W&quot;,1905,536871106]],[&quot;^17&quot;,[1907,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1907,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1907,&quot;^;&quot;,&quot;~u62d3582a-7da5-46dd-9711-878e25ee8f91&quot;,536871106]],[&quot;^17&quot;,[1908,&quot;^R&quot;,&quot;Internal statistics&quot;,536871106]],[&quot;^17&quot;,[1908,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1908,&quot;^F&quot;,1907,536871106]],[&quot;^17&quot;,[1908,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1908,&quot;^W&quot;,1905,536871106]],[&quot;^17&quot;,[1908,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1908,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1908,&quot;^;&quot;,&quot;~u62d3582a-9286-4bda-9966-ea3636afed80&quot;,536871106]],[&quot;^17&quot;,[1909,&quot;^R&quot;,&quot;几乎所有 DBMSs 都将这些元数据也存储在一个特定的数据库中，它们本身也会被存储为 table、tuple。根据 SQL-92 标准，你可以通过 INFORMATION_SCHEMA 数据库来查询这些数据库的元信息，但一般 DBMSs 都会提供更便捷的命令来查询这些信息，示例如下：\\n\\n#+BEGIN_TIP\\nMySQL\\n\\n``` \\nSHOW TABLES;\\nDESCRIBE student;\\n``` \\n#+END_TIP\\\\&quot;,536871106]],[&quot;^17&quot;,[1909,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1909,&quot;^F&quot;,1905,536871106]],[&quot;^17&quot;,[1909,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1909,&quot;^W&quot;,749,536871106]],[&quot;^17&quot;,[1909,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1909,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1909,&quot;^;&quot;,&quot;~u62d3582a-c273-4eca-a149-0ef22f22332d&quot;,536871106]],[&quot;^17&quot;,[1910,&quot;^R&quot;,&quot;&quot;,536871106]],[&quot;^17&quot;,[1910,&quot;^P&quot;,&quot;^19&quot;,536871106]],[&quot;^17&quot;,[1910,&quot;^F&quot;,1909,536871106]],[&quot;^17&quot;,[1910,&quot;^Z&quot;,749,536871106]],[&quot;^17&quot;,[1910,&quot;^W&quot;,749,536871106]],[&quot;^17&quot;,[1910,&quot;^V&quot;,749,536871106]],[&quot;^17&quot;,[1910,&quot;^1@&quot;,true,536871106]],[&quot;^17&quot;,[1910,&quot;^;&quot;,&quot;~u62d3582a-9853-4ee7-bdf7-f333a4fb203f&quot;,536871106]],[&quot;^17&quot;,[1914,&quot;^R&quot;,&quot;![image.png](../assets/image_1657281272818_0.png)&quot;,536871110]],[&quot;^17&quot;,[1914,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1914,&quot;^F&quot;,1934,536871110]],[&quot;^17&quot;,[1914,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1914,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1914,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1914,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1914,&quot;^;&quot;,&quot;~u62d3582a-47bd-4062-b1e6-e2730f96f0b1&quot;,536871110]],[&quot;^17&quot;,[1915,&quot;^R&quot;,&quot;3. Write Phase：如果校验成功，则合并数据；否则中止并重启事务&quot;,536871110]],[&quot;^17&quot;,[1915,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1915,&quot;^F&quot;,1930,536871110]],[&quot;^17&quot;,[1915,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1915,&quot;^W&quot;,1963,536871110]],[&quot;^17&quot;,[1915,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1915,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1915,&quot;^;&quot;,&quot;~u62d3582a-213e-44d5-b8cc-653572424043&quot;,536871110]],[&quot;^17&quot;,[1916,&quot;^R&quot;,&quot;R-TS(X)：最后一次读 X 发生的时间戳&quot;,536871110]],[&quot;^17&quot;,[1916,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1916,&quot;^F&quot;,1951,536871110]],[&quot;^17&quot;,[1916,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1916,&quot;^W&quot;,1936,536871110]],[&quot;^17&quot;,[1916,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1916,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1916,&quot;^;&quot;,&quot;~u62d3582a-f48b-4fc3-838b-b04d095f94d7&quot;,536871110]],[&quot;^17&quot;,[1917,&quot;^R&quot;,&quot;在每个事务结束时，Basic T/O 需要检查该事务中的每个操作，是否读取或写入了未来的数据，一旦发现则中止、重启事务。&quot;,536871110]],[&quot;^17&quot;,[1917,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1917,&quot;^F&quot;,1936,536871110]],[&quot;^17&quot;,[1917,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1917,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1917,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1917,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1917,&quot;^;&quot;,&quot;~u62d3582a-a7b8-49a5-97fe-fc1349de2dd7&quot;,536871110]],[&quot;^17&quot;,[1918,&quot;^R&quot;,&quot;#### Partition-Based T/O - Writes\\n写事务直接在原地修改数据，并在内存中维护一个缓冲区，用来记录修改的数据以便事务中止后回滚。如果事务尝试修改一个未获取锁的分片，那么它将被中止后重启&quot;,536871110]],[&quot;^17&quot;,[1918,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1918,&quot;^X&quot;,4,536871110]],[&quot;^17&quot;,[1918,&quot;^F&quot;,1984,536871110]],[&quot;^17&quot;,[1918,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1918,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1918,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1918,&quot;^1&gt;&quot;,4,536871110]],[&quot;^17&quot;,[1918,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1918,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1918,&quot;^;&quot;,&quot;~u62d3582a-72a1-4369-a458-f8aa421c3f78&quot;,536871110]],[&quot;^17&quot;,[1919,&quot;^R&quot;,&quot;OCC - Validation Phase&quot;,536871110]],[&quot;^17&quot;,[1919,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1919,&quot;^F&quot;,1991,536871110]],[&quot;^17&quot;,[1919,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1919,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1919,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1919,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1919,&quot;^;&quot;,&quot;~u62d3582a-54b6-4982-90f7-23adeb5452cf&quot;,536871110]],[&quot;^17&quot;,[1920,&quot;^R&quot;,&quot;**Repeating Scans**\\n另一种比较暴力的做法是在事务提交时，扫描 `status = &apos;lit&apos;` 的所有数据，检查这些数据是否与事务操作之前的数据相同。目前没有任何商业数据库采用这种方案。&quot;,536871110]],[&quot;^17&quot;,[1920,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1920,&quot;^F&quot;,1939,536871110]],[&quot;^17&quot;,[1920,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1920,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1920,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1920,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1920,&quot;^;&quot;,&quot;~u62d3582a-fcce-45e5-9ee2-97e657b986eb&quot;,536871110]],[&quot;^17&quot;,[1921,&quot;^R&quot;,&quot;逻辑计数器 (Logical Counter)&quot;,536871110]],[&quot;^17&quot;,[1921,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1921,&quot;^F&quot;,1950,536871110]],[&quot;^17&quot;,[1921,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1921,&quot;^W&quot;,1937,536871110]],[&quot;^17&quot;,[1921,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1921,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1921,&quot;^;&quot;,&quot;~u62d3582a-082c-49be-b239-2e6cd00ff54c&quot;,536871110]],[&quot;^17&quot;,[1922,&quot;^R&quot;,&quot;1. Read Phase：追踪、记录每个事务的读、写集合，并存储到私有空间中&quot;,536871110]],[&quot;^17&quot;,[1922,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1922,&quot;^F&quot;,1963,536871110]],[&quot;^17&quot;,[1922,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1922,&quot;^W&quot;,1963,536871110]],[&quot;^17&quot;,[1922,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1922,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1922,&quot;^;&quot;,&quot;~u62d3582a-2015-4969-8712-89396ad38cd2&quot;,536871110]],[&quot;^17&quot;,[1923,&quot;^R&quot;,&quot;获取 table 的每个 page 上的锁，防止其它记录的 status 被修改成 lit&quot;,536871110]],[&quot;^17&quot;,[1923,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1923,&quot;^F&quot;,1939,536871110]],[&quot;^17&quot;,[1923,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1923,&quot;^W&quot;,1939,536871110]],[&quot;^17&quot;,[1923,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1923,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1923,&quot;^;&quot;,&quot;~u62d3582a-7015-4deb-97c7-d42ba82918af&quot;,536871110]],[&quot;^17&quot;,[1924,&quot;^R&quot;,&quot;~``` go\\nfunc read(X) val {\\n    if TS(T_i) &lt; W_TS(X) {\\n        abort_and_restart(T_i)\\n    } else {\\n        val := read_data(X)\\n        R_TS(X) = max(R_TS(X), TS(T_i))\\n        // make a local copy of X to ensure repeatable reads for T_i\\n        return val\\n    }\\n}\\n```\\n如果事务 Ti 发生在 W-TS(X) 之前，则试图读取未来数据，中止 Ti; 否则，它在读取过去数据，可行。Ti 读取数据后，若有必要，则更新 R-TS(X)，同时保留一份 X 副本，保证 Ti 结束前一直能读到同一个X&quot;,536871110]],[&quot;^17&quot;,[1924,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1924,&quot;^F&quot;,1944,536871110]],[&quot;^17&quot;,[1924,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1924,&quot;^W&quot;,1944,536871110]],[&quot;^17&quot;,[1924,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1924,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1924,&quot;^;&quot;,&quot;~u62d3582a-4264-4927-aac7-edf3f353dd37&quot;,536871110]],[&quot;^17&quot;,[1925,&quot;^R&quot;,&quot;每个 partition 使用一个锁保护：&quot;,536871110]],[&quot;^17&quot;,[1925,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1925,&quot;^F&quot;,1981,536871110]],[&quot;^17&quot;,[1925,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1925,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1925,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1925,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1925,&quot;^;&quot;,&quot;~u62d3582a-7654-4769-8bc0-9f302777f773&quot;,536871110]],[&quot;^17&quot;,[1926,&quot;^R&quot;,&quot;是否大多数事务只需要访问单个 partition&quot;,536871110]],[&quot;^17&quot;,[1926,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1926,&quot;^F&quot;,1979,536871110]],[&quot;^17&quot;,[1926,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1926,&quot;^W&quot;,1966,536871110]],[&quot;^17&quot;,[1926,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1926,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1926,&quot;^;&quot;,&quot;~u62d3582a-1ff3-4dea-96c0-6764ddd9b2e6&quot;,536871110]],[&quot;^17&quot;,[1927,&quot;^R&quot;,&quot;# [[Isolation Level]]&quot;,536871110]],[&quot;^17&quot;,[1927,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1927,&quot;^X&quot;,1,536871110]],[&quot;^17&quot;,[1927,&quot;^F&quot;,1989,536871110]],[&quot;^17&quot;,[1927,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1927,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1927,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1927,&quot;^V&quot;,1097,536871110]],[&quot;^17&quot;,[1927,&quot;^H&quot;,1097,536871110]],[&quot;^17&quot;,[1927,&quot;^1&gt;&quot;,1,536871110]],[&quot;^17&quot;,[1927,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1927,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1927,&quot;^;&quot;,&quot;~u62d3582a-b2a0-450a-8773-37bd8be8bfe1&quot;,536871110]],[&quot;^17&quot;,[1928,&quot;^R&quot;,&quot;### Summary&quot;,536871110]],[&quot;^17&quot;,[1928,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1928,&quot;^X&quot;,3,536871110]],[&quot;^17&quot;,[1928,&quot;^F&quot;,1993,536871110]],[&quot;^17&quot;,[1928,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1928,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1928,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1928,&quot;^1&gt;&quot;,3,536871110]],[&quot;^17&quot;,[1928,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1928,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1928,&quot;^;&quot;,&quot;~u62d3582a-e80d-4d93-b36c-a6a8cd45bfd2&quot;,536871110]],[&quot;^17&quot;,[1929,&quot;^R&quot;,&quot;事务中止的成本比 2PL 高，因为 OCC 在事务执行快结束时才检查数据冲突&quot;,536871110]],[&quot;^17&quot;,[1929,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1929,&quot;^F&quot;,1943,536871110]],[&quot;^17&quot;,[1929,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1929,&quot;^W&quot;,1945,536871110]],[&quot;^17&quot;,[1929,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1929,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1929,&quot;^;&quot;,&quot;~u62d3582a-2880-4dfc-bab9-a03c7aee1c01&quot;,536871110]],[&quot;^17&quot;,[1930,&quot;^R&quot;,&quot;2. Validation Phase：当事务提交时，检查冲突&quot;,536871110]],[&quot;^17&quot;,[1930,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1930,&quot;^F&quot;,1922,536871110]],[&quot;^17&quot;,[1930,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1930,&quot;^W&quot;,1963,536871110]],[&quot;^17&quot;,[1930,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1930,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1930,&quot;^;&quot;,&quot;~u62d3582a-bbe0-4e64-9ba8-ad5687c65c57&quot;,536871110]],[&quot;^17&quot;,[1931,&quot;^R&quot;,&quot;![image.png](../assets/image_1657281283430_0.png)&quot;,536871110]],[&quot;^17&quot;,[1931,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1931,&quot;^F&quot;,1914,536871110]],[&quot;^17&quot;,[1931,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1931,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1931,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1931,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1931,&quot;^;&quot;,&quot;~u62d3582a-01a6-4e95-be31-7469c9a42405&quot;,536871110]],[&quot;^17&quot;,[1932,&quot;^R&quot;,&quot;### Basic T/O Writes&quot;,536871110]],[&quot;^17&quot;,[1932,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1932,&quot;^X&quot;,3,536871110]],[&quot;^17&quot;,[1932,&quot;^F&quot;,1944,536871110]],[&quot;^17&quot;,[1932,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1932,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1932,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1932,&quot;^1&gt;&quot;,3,536871110]],[&quot;^17&quot;,[1932,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1932,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1932,&quot;^;&quot;,&quot;~u62d3582a-1ebd-4da9-94e7-fd2fee9416dc&quot;,536871110]],[&quot;^17&quot;,[1933,&quot;^R&quot;,&quot;~``` go\\nfunc write(X, val) {\\n    if TS(T_i) &lt; R_TS(X) || TS(T_i) &lt; W_TS(X) {\\n        abort_and_restart(T_i)        \\n    } else {\\n        X = val\\n        W_TS(X) = max(W_TS(X), TS(T_i))\\n        // make a local copy of X to ensure repeatable reads for T_i\\n    }\\n}\\n```\\n如果 Ti 发生在 W-TS(X) 或R-TS(X) 之前，即尝试写入已经被未来的事务读取或写入的数据，则中止Ti；反之，意味着它正尝试修改过去的数据，符合规范。Ti 写入数据后，如果有必要，则更新 W-TS(X)，同时保留一份 X 的副本，用来保证 Ti 结束之前总是能读到相同的 X。&quot;,536871110]],[&quot;^17&quot;,[1933,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1933,&quot;^F&quot;,1932,536871110]],[&quot;^17&quot;,[1933,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1933,&quot;^W&quot;,1932,536871110]],[&quot;^17&quot;,[1933,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1933,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1933,&quot;^;&quot;,&quot;~u62d3582a-9033-4e5e-b459-f2d50dafd0b1&quot;,536871110]],[&quot;^17&quot;,[1934,&quot;^R&quot;,&quot;![image.png](../assets/image_1657281261051_0.png)&quot;,536871110]],[&quot;^17&quot;,[1934,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1934,&quot;^F&quot;,1969,536871110]],[&quot;^17&quot;,[1934,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1934,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1934,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1934,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1934,&quot;^;&quot;,&quot;~u62d3582a-7019-46a4-a70a-c873f156aa51&quot;,536871110]],[&quot;^17&quot;,[1935,&quot;^R&quot;,&quot;![image.png](../assets/image_1657281223588_0.png)&quot;,536871110]],[&quot;^17&quot;,[1935,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1935,&quot;^F&quot;,1988,536871110]],[&quot;^17&quot;,[1935,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1935,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1935,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1935,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1935,&quot;^;&quot;,&quot;~u62d3582a-6d5e-430d-87c7-6f1aaebff4e9&quot;,536871110]],[&quot;^17&quot;,[1936,&quot;^R&quot;,&quot;Basic T/O 是 T/O 方案的一种具体实现。在 Basic T/O 中，事务读写数据不需要加锁，每条数据 X 都会携带两个标记：&quot;,536871110]],[&quot;^17&quot;,[1936,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1936,&quot;^F&quot;,1978,536871110]],[&quot;^17&quot;,[1936,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1936,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1936,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1936,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1936,&quot;^;&quot;,&quot;~u62d3582a-e15e-41af-a312-1b8ac8ce8fbd&quot;,536871110]],[&quot;^17&quot;,[1937,&quot;^R&quot;,&quot;与2PL不同， T/O 是一个乐观策略。T/O 的核心思想就是利用时间戳来决定事务之间的等价执行顺序：如果 TSi &lt; TSj  ，那么数据库必须保证实际的 schedule 与先执行 Ti ，后执行 Tj 的结果等价。要实现 T/O，就需要一个单调递增的时钟，来决定任意事务  发生的时间。满足条件的时钟方案有很多，如：&quot;,536871110]],[&quot;^17&quot;,[1937,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1937,&quot;^F&quot;,4511,536896862]],[&quot;^17&quot;,[1937,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1937,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1937,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1937,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1937,&quot;^;&quot;,&quot;~u62d3582a-b165-4258-b446-91c93257eb98&quot;,536871110]],[&quot;^17&quot;,[1938,&quot;^R&quot;,&quot;追踪事务的读写集合 (read/write sets)，将 read set 存放在 private workspace 中用来保证 repeatable read，将 write set 存放在 private workspace 中用来作冲突检测。&quot;,536871110]],[&quot;^17&quot;,[1938,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1938,&quot;^F&quot;,1991,536871110]],[&quot;^17&quot;,[1938,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1938,&quot;^W&quot;,1991,536871110]],[&quot;^17&quot;,[1938,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1938,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1938,&quot;^;&quot;,&quot;~u62d3582a-8481-4b54-9791-d7f9c5ab27b0&quot;,536871110]],[&quot;^17&quot;,[1939,&quot;^R&quot;,&quot;**Locking Without An Index**\\n同样以上文中的例子为例，如果在 status 字段上没有索引，那么事务就需要执行以下操作&quot;,536871110]],[&quot;^17&quot;,[1939,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1939,&quot;^F&quot;,1941,536871110]],[&quot;^17&quot;,[1939,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1939,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1939,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1939,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1939,&quot;^;&quot;,&quot;~u62d3582a-0b10-4ad5-b521-84dca2f0f251&quot;,536871110]],[&quot;^17&quot;,[1940,&quot;^R&quot;,&quot;**The Phantom Problem**\\n![image.png](../assets/image_1657288088919_0.png)\\n即在单个事务内部，同样的查询，读到不一样的数据。这种现象发生的原因在于，尽管  锁住了已经存在的记录，但新生成的记录并不会被锁住，因此实际上 **conflict serializability 能保证事务可序列化的前提是数据集合是固定的**，出现记录新增和删除时，这个结论就不成立了。&quot;,536871110]],[&quot;^17&quot;,[1940,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1940,&quot;^F&quot;,1955,536871110]],[&quot;^17&quot;,[1940,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1940,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1940,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1940,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1940,&quot;^;&quot;,&quot;~u62d3582a-93ff-4309-9d31-53ca6f98fd68&quot;,536871110]],[&quot;^17&quot;,[1941,&quot;^R&quot;,&quot;**Index Locking**\\n同样以上文中的例子为例，如果在 status 字段上有索引，那么我们可以锁住满足 `status = &apos;lit&apos;` 的 index page，如果尚未存在这样的 index page，我们也需要能够找到可能对应的 index page，锁住它们。&quot;,536871110]],[&quot;^17&quot;,[1941,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1941,&quot;^F&quot;,1959,536871110]],[&quot;^17&quot;,[1941,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1941,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1941,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1941,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1941,&quot;^;&quot;,&quot;~u62d3582a-9fc5-414f-9cae-d6b15a5e873d&quot;,536871110]],[&quot;^17&quot;,[1942,&quot;^R&quot;,&quot;如果事务的时间戳是整个 partition 中最小的，那么该事务就获得锁&quot;,536871110]],[&quot;^17&quot;,[1942,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1942,&quot;^F&quot;,1990,536871110]],[&quot;^17&quot;,[1942,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1942,&quot;^W&quot;,1925,536871110]],[&quot;^17&quot;,[1942,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1942,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1942,&quot;^;&quot;,&quot;~u62d3582a-174e-4c11-a54e-594cfa5185b5&quot;,536871110]],[&quot;^17&quot;,[1943,&quot;^R&quot;,&quot;在 Validation Phase 中，待提交事务需要和其它事务做冲突检查，即便实际上并没有冲突，这里也有很多获取 latch 的成本 (锁住其它事务的 private workspace，对比是否有冲突，再释放锁)&quot;,536871110]],[&quot;^17&quot;,[1943,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1943,&quot;^F&quot;,1954,536871110]],[&quot;^17&quot;,[1943,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1943,&quot;^W&quot;,1945,536871110]],[&quot;^17&quot;,[1943,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1943,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1943,&quot;^;&quot;,&quot;~u62d3582a-2978-41ce-9974-259daeae09ec&quot;,536871110]],[&quot;^17&quot;,[1944,&quot;^R&quot;,&quot;### Basic T/O Read&quot;,536871110]],[&quot;^17&quot;,[1944,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1944,&quot;^X&quot;,3,536871110]],[&quot;^17&quot;,[1944,&quot;^F&quot;,1917,536871110]],[&quot;^17&quot;,[1944,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1944,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1944,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1944,&quot;^1&gt;&quot;,3,536871110]],[&quot;^17&quot;,[1944,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1944,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1944,&quot;^;&quot;,&quot;~u62d3582a-fbd5-40ff-8a1f-7f43da2f2cd6&quot;,536871110]],[&quot;^17&quot;,[1945,&quot;^R&quot;,&quot;OCC 的表现很好，如在数据库体量较大，workload 比较均衡的场景下。2PC 的性能瓶颈在于锁管理，尽管 OCC 没有加锁的成本，但它也存在性能问题:&quot;,536871110]],[&quot;^17&quot;,[1945,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1945,&quot;^F&quot;,1985,536871110]],[&quot;^17&quot;,[1945,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1945,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1945,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1945,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1945,&quot;^;&quot;,&quot;~u62d3582a-3a77-4fdd-ad7b-bd7b730338d9&quot;,536871110]],[&quot;^17&quot;,[1946,&quot;^R&quot;,&quot;# Partition-Based T/O\\nid:: 62c9766e-a56d-4c91-83de-91b4622dfd6c&quot;,536871110]],[&quot;^17&quot;,[1946,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1946,&quot;^X&quot;,1,536871110]],[&quot;^17&quot;,[1946,&quot;^F&quot;,1965,536871110]],[&quot;^17&quot;,[1946,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1946,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1946,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1946,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c9766e-a56d-4c91-83de-91b4622dfd6c&quot;],536871110]],[&quot;^17&quot;,[1946,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871110]],[&quot;^17&quot;,[1946,&quot;^1&gt;&quot;,1,536871110]],[&quot;^17&quot;,[1946,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1946,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1946,&quot;^;&quot;,&quot;~u62c9766e-a56d-4c91-83de-91b4622dfd6c&quot;,536871110]],[&quot;^17&quot;,[1947,&quot;^R&quot;,&quot;与此类似，在 Forward Validation 中，需要检查待提交的事务 (txn #2) 的读写集合是否与尚未提交的事务的读写集合存在交集：\\n![image.png](../assets/image_1657286972352_0.png)&quot;,536871110]],[&quot;^17&quot;,[1947,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1947,&quot;^F&quot;,1958,536871110]],[&quot;^17&quot;,[1947,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1947,&quot;^W&quot;,1919,536871110]],[&quot;^17&quot;,[1947,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1947,&quot;^V&quot;,1913,536871110]],[&quot;^17&quot;,[1947,&quot;^H&quot;,1913,536871110]],[&quot;^17&quot;,[1947,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1947,&quot;^;&quot;,&quot;~u62d3582a-fac4-421d-b324-03b7a6d20a0b&quot;,536871110]],[&quot;^17&quot;,[1948,&quot;^R&quot;,&quot;大部分事务都是读事务\\n大部分事务之间访问的数据间没有交集&quot;,536871110]],[&quot;^17&quot;,[1948,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1948,&quot;^F&quot;,1985,536871110]],[&quot;^17&quot;,[1948,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1948,&quot;^W&quot;,1985,536871110]],[&quot;^17&quot;,[1948,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1948,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1948,&quot;^;&quot;,&quot;~u62d3582a-3986-4d0e-9e8c-7b2be9551f77&quot;,536871110]],[&quot;^17&quot;,[1949,&quot;^R&quot;,&quot;在 private workspace 与 global database 之间移动、合并数据开销大&quot;,536871110]],[&quot;^17&quot;,[1949,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1949,&quot;^F&quot;,1945,536871110]],[&quot;^17&quot;,[1949,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1949,&quot;^W&quot;,1945,536871110]],[&quot;^17&quot;,[1949,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1949,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1949,&quot;^;&quot;,&quot;~u62d3582a-39d9-4676-bf3c-017443886d47&quot;,536871110]],[&quot;^17&quot;,[1950,&quot;^R&quot;,&quot;系统单调时钟 (System Clock)&quot;,536871110]],[&quot;^17&quot;,[1950,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1950,&quot;^F&quot;,1937,536871110]],[&quot;^17&quot;,[1950,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1950,&quot;^W&quot;,1937,536871110]],[&quot;^17&quot;,[1950,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1950,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1950,&quot;^;&quot;,&quot;~u62d3582a-c492-431d-a171-911ac037a482&quot;,536871110]],[&quot;^17&quot;,[1951,&quot;^R&quot;,&quot;W-TS(X)：最后一次写 X 发生的时间戳&quot;,536871110]],[&quot;^17&quot;,[1951,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1951,&quot;^F&quot;,1936,536871110]],[&quot;^17&quot;,[1951,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1951,&quot;^W&quot;,1936,536871110]],[&quot;^17&quot;,[1951,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1951,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1951,&quot;^;&quot;,&quot;~u62d3582a-a497-4978-8276-e2987894259f&quot;,536871110]],[&quot;^17&quot;,[1952,&quot;^R&quot;,&quot;所有修改都在私有空间中执行&quot;,536871110]],[&quot;^17&quot;,[1952,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1952,&quot;^F&quot;,1960,536871110]],[&quot;^17&quot;,[1952,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1952,&quot;^W&quot;,1977,536871110]],[&quot;^17&quot;,[1952,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1952,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1952,&quot;^;&quot;,&quot;~u62d3582a-66d0-48fb-a702-ae9739da60d2&quot;,536871110]],[&quot;^17&quot;,[1953,&quot;^R&quot;,&quot;#### Partition-Based T/O - Example\\n假设有两个事务同时开启，并分别被分配了全局的时间戳 100 和 101，二者都需要获取 partition 1 上的锁，如下图所示：\\n![image.png](../assets/image_1657287918329_0.png)\\n![image.png](../assets/image_1657287929826_0.png)\\n![image.png](../assets/image_1657287940280_0.png)\\n![image.png](../assets/image_1657287951506_0.png)&quot;,536871110]],[&quot;^17&quot;,[1953,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1953,&quot;^X&quot;,4,536871110]],[&quot;^17&quot;,[1953,&quot;^F&quot;,1918,536871110]],[&quot;^17&quot;,[1953,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1953,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1953,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1953,&quot;^1&gt;&quot;,4,536871110]],[&quot;^17&quot;,[1953,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1953,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1953,&quot;^;&quot;,&quot;~u62d3582a-8555-4106-b5f2-0c3f161116b1&quot;,536871110]],[&quot;^17&quot;,[1954,&quot;^R&quot;,&quot;Validation/Write Phase 需要在一个全局的 critical section 中完成，可能造成瓶颈&quot;,536871110]],[&quot;^17&quot;,[1954,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1954,&quot;^F&quot;,1949,536871110]],[&quot;^17&quot;,[1954,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1954,&quot;^W&quot;,1945,536871110]],[&quot;^17&quot;,[1954,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1954,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1954,&quot;^;&quot;,&quot;~u62d3582a-b976-4436-82af-1dc5c861b894&quot;,536871110]],[&quot;^17&quot;,[1955,&quot;^R&quot;,&quot;到现在为止，我们都只考虑事务读取和更新数据，如果我们再考虑插入、删除操作，就会遇到新的问题。&quot;,536871110]],[&quot;^17&quot;,[1955,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1955,&quot;^F&quot;,1989,536871110]],[&quot;^17&quot;,[1955,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1955,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1955,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1955,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1955,&quot;^;&quot;,&quot;~u62d3582a-c5a6-4420-9908-ea55d62b24e1&quot;,536871110]],[&quot;^17&quot;,[1956,&quot;^R&quot;,&quot;1. Backward Validation&quot;,536871110]],[&quot;^17&quot;,[1956,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1956,&quot;^F&quot;,1962,536871110]],[&quot;^17&quot;,[1956,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1956,&quot;^W&quot;,1962,536871110]],[&quot;^17&quot;,[1956,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1956,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1956,&quot;^;&quot;,&quot;~u62d3582a-25df-4038-a1a6-605f73f23281&quot;,536871110]],[&quot;^17&quot;,[1957,&quot;^R&quot;,&quot;因此  将被数据库中止。但实际上，仔细分析上述例子，如果我们忽略掉 的 W(A) 操作，即不更新 A 数据，也不修改 W-TS(A)，那么  和  都可以正常提交，且结果和二者先后执行等价，这便是所谓的 Thomas Write Rule (TWR)：\\n\\n``` go\\nfunc write(X, val) {\\n    if TS(T_i) &lt; R_TS(X) {\\n        abort_and_restart(T_i)\\n        return\\n    }\\n    \\n    if TS(T_i) &lt; W_TS(X) {\\n        // ignore write\\n        return\\n    }\\n    \\n    X = val\\n    W_TS(X) = TS(T_i)\\n    // ...\\n}\\n```&quot;,536871110]],[&quot;^17&quot;,[1957,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1957,&quot;^F&quot;,1993,536871110]],[&quot;^17&quot;,[1957,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1957,&quot;^W&quot;,1993,536871110]],[&quot;^17&quot;,[1957,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1957,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1957,&quot;^;&quot;,&quot;~u62d3582a-01de-4261-af5f-df46c30aa0da&quot;,536871110]],[&quot;^17&quot;,[1958,&quot;^R&quot;,&quot;如下图所示，在 Backward Validation 中，需要检查待提交的事务 (txn 2) 的读写集合是否与已经提交的事务的读写集合存在交集\\n![image.png](../assets/image_1657286956683_0.png)&quot;,536871110]],[&quot;^17&quot;,[1958,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1958,&quot;^F&quot;,1962,536871110]],[&quot;^17&quot;,[1958,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1958,&quot;^W&quot;,1919,536871110]],[&quot;^17&quot;,[1958,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1958,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1958,&quot;^;&quot;,&quot;~u62d3582a-25cb-4307-94a3-f20089047c29&quot;,536871110]],[&quot;^17&quot;,[1959,&quot;^R&quot;,&quot;**Predicate Locking**\\npredicate locking 指的是通过一个逻辑表达式来为潜在的记录加锁，如：`status = &apos;lit&apos;` 。然而，predicate locking 的成本很高，对每条新插入的数据都需要做校验。基本没有 DBMS 用这种方式实现，一种更高效的做法是 index locking。&quot;,536871110]],[&quot;^17&quot;,[1959,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1959,&quot;^F&quot;,1940,536871110]],[&quot;^17&quot;,[1959,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1959,&quot;^W&quot;,1989,536871110]],[&quot;^17&quot;,[1959,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1959,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1959,&quot;^;&quot;,&quot;~u62d3582a-3ea7-47c1-8a4c-914b81920fb3&quot;,536871110]],[&quot;^17&quot;,[1960,&quot;^R&quot;,&quot;所有被读取的数据都复制到私有空间中&quot;,536871110]],[&quot;^17&quot;,[1960,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1960,&quot;^F&quot;,1977,536871110]],[&quot;^17&quot;,[1960,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1960,&quot;^W&quot;,1977,536871110]],[&quot;^17&quot;,[1960,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1960,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1960,&quot;^;&quot;,&quot;~u62d3582a-deb1-4570-aeb1-80431ce9b85d&quot;,536871110]],[&quot;^17&quot;,[1961,&quot;^R&quot;,&quot;当事务获取其所需访问的所有 partitions 的全部锁，它就可以开始执行&quot;,536871110]],[&quot;^17&quot;,[1961,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1961,&quot;^F&quot;,1942,536871110]],[&quot;^17&quot;,[1961,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1961,&quot;^W&quot;,1925,536871110]],[&quot;^17&quot;,[1961,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1961,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1961,&quot;^;&quot;,&quot;~u62d3582a-017d-479a-8e21-acb2b881896a&quot;,536871110]],[&quot;^17&quot;,[1962,&quot;^R&quot;,&quot;在进入 Validation Phase 后，每个事务都会被赋予一个时间戳，然后与其它正在运行的事务执行 Timestamp Ordering 检查，检查的方式有两种：&quot;,536871110]],[&quot;^17&quot;,[1962,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1962,&quot;^F&quot;,1919,536871110]],[&quot;^17&quot;,[1962,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1962,&quot;^W&quot;,1919,536871110]],[&quot;^17&quot;,[1962,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1962,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1962,&quot;^;&quot;,&quot;~u62d3582a-1184-4d9f-b1b7-fb94ae295653&quot;,536871110]],[&quot;^17&quot;,[1963,&quot;^R&quot;,&quot;OCC 分为 3 个阶段：&quot;,536871110]],[&quot;^17&quot;,[1963,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1963,&quot;^F&quot;,1977,536871110]],[&quot;^17&quot;,[1963,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1963,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1963,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1963,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1963,&quot;^;&quot;,&quot;~u62d3582a-d2b4-4a0d-a48a-855ee919c552&quot;,536871110]],[&quot;^17&quot;,[1964,&quot;^R&quot;,&quot;类似全局锁到分段锁的优化，我们也可以将数据库切分成不相交 (disjoint) 的子集，即 horizontal partitions 或 shards，然后在 partition 内部使用单调递增的时间戳确定各个事务的顺序，不同 partition 上的事务之间无需检测冲突。\\n假设数据库中存储着如下三张表：\\n![image.png](../assets/image_1657287684930_0.png)&quot;,536871110]],[&quot;^17&quot;,[1964,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1964,&quot;^F&quot;,1946,536871110]],[&quot;^17&quot;,[1964,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1964,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1964,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1964,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1964,&quot;^;&quot;,&quot;~u62d3582a-b1c6-42bf-8530-f77c8541ea33&quot;,536871110]],[&quot;^17&quot;,[1965,&quot;^R&quot;,&quot;# Optimistic Concurrency Control(OOC)\\nid:: 62c9766e-c9ca-4f72-baf7-83e0f73a96b8&quot;,536871110]],[&quot;^17&quot;,[1965,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1965,&quot;^X&quot;,1,536871110]],[&quot;^17&quot;,[1965,&quot;^F&quot;,1978,536871110]],[&quot;^17&quot;,[1965,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1965,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1965,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1965,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c9766e-c9ca-4f72-baf7-83e0f73a96b8&quot;],536871110]],[&quot;^17&quot;,[1965,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871110]],[&quot;^17&quot;,[1965,&quot;^1&gt;&quot;,1,536871110]],[&quot;^17&quot;,[1965,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1965,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1965,&quot;^;&quot;,&quot;~u62c9766e-c9ca-4f72-baf7-83e0f73a96b8&quot;,536871110]],[&quot;^17&quot;,[1966,&quot;^R&quot;,&quot;Partition-based T/O 的性能取决于以下两点：&quot;,536871110]],[&quot;^17&quot;,[1966,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1966,&quot;^F&quot;,1953,536871110]],[&quot;^17&quot;,[1966,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1966,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1966,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1966,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1966,&quot;^;&quot;,&quot;~u62d3582a-1547-469a-bea3-e60cdad90984&quot;,536871110]],[&quot;^17&quot;,[1967,&quot;^R&quot;,&quot;获取 table 本身的锁，防止满足 `status = &apos;lit&apos;` 的记录被插入或删除&quot;,536871110]],[&quot;^17&quot;,[1967,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1967,&quot;^F&quot;,1923,536871110]],[&quot;^17&quot;,[1967,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1967,&quot;^W&quot;,1939,536871110]],[&quot;^17&quot;,[1967,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1967,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1967,&quot;^;&quot;,&quot;~u62d3582a-3f6a-4e4e-8ff7-757bbdac588f&quot;,536871110]],[&quot;^17&quot;,[1968,&quot;^R&quot;,&quot;![image.png](../assets/image_1657281237402_0.png){:height 285, :width 466}&quot;,536871110]],[&quot;^17&quot;,[1968,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1968,&quot;^F&quot;,1935,536871110]],[&quot;^17&quot;,[1968,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1968,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1968,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1968,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1968,&quot;^;&quot;,&quot;~u62d3582a-9a3a-43de-9a06-e225f33eb840&quot;,536871110]],[&quot;^17&quot;,[1969,&quot;^R&quot;,&quot;id:: 62c81ad6-69e8-40bc-b1fe-3ba58613a2e7&quot;,536871110]],[&quot;^17&quot;,[1969,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1969,&quot;^F&quot;,1968,536871110]],[&quot;^17&quot;,[1969,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1969,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1969,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1969,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c81ad6-69e8-40bc-b1fe-3ba58613a2e7&quot;],536871110]],[&quot;^17&quot;,[1969,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871110]],[&quot;^17&quot;,[1969,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1969,&quot;^;&quot;,&quot;~u62c81ad6-69e8-40bc-b1fe-3ba58613a2e7&quot;,536871110]],[&quot;^17&quot;,[1970,&quot;^R&quot;,&quot;&quot;,536871110]],[&quot;^17&quot;,[1970,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1970,&quot;^F&quot;,1931,536871110]],[&quot;^17&quot;,[1970,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1970,&quot;^W&quot;,1988,536871110]],[&quot;^17&quot;,[1970,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1970,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1970,&quot;^;&quot;,&quot;~u62d3582a-b610-40ff-b1bb-a7be318e06d2&quot;,536871110]],[&quot;^17&quot;,[1971,&quot;^R&quot;,&quot;2. Forward Validation&quot;,536871110]],[&quot;^17&quot;,[1971,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1971,&quot;^F&quot;,1956,536871110]],[&quot;^17&quot;,[1971,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1971,&quot;^W&quot;,1962,536871110]],[&quot;^17&quot;,[1971,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1971,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1971,&quot;^;&quot;,&quot;~u62d3582a-82d8-4cfa-9e93-ae138776a5c6&quot;,536871110]],[&quot;^17&quot;,[1972,&quot;^R&quot;,&quot;![image.png](../assets/image_1657287048011_0.png)\\n\\n#+BEGIN_QUOTE\\nCondition 1:  Ti completes all three phases before Tj begins ：Ti 在 Tj 开始前完成OCC 所有的3个阶段，二者之间不存在任何冲突\\n#+END_QUOTE\\n#+BEGIN_QUOTE\\nCondition 2:  Ti completes before  Tj starts its Write Phase, and Ti does not write to any object read by Tj \\n如果 Ti 在 Tj 的 Write Phase 开始前就已提交，同时没有修改任意 Tj 读取的数据，即 WriteSet(Ti) ∧ ReadSet(Tj)，则二者之间不存在冲突。\\n#+END_QUOTE\\n![image.png](../assets/image_1657287393517_0.png)&quot;,536871110]],[&quot;^17&quot;,[1972,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1972,&quot;^F&quot;,1947,536871110]],[&quot;^17&quot;,[1972,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1972,&quot;^W&quot;,1919,536871110]],[&quot;^17&quot;,[1972,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1972,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1972,&quot;^;&quot;,&quot;~u62d3582a-ef44-4f05-a4bd-505610f13eb4&quot;,536871110]],[&quot;^17&quot;,[1973,&quot;^R&quot;,&quot;如果一个 schedule 能够保证每个事务提交前，修改过其读取过数据的事务都已提交，那么这个 schedule 就是 recoverable。如果不能保证 recoverable，DBMS 就无法在发生崩溃之后恢复数据，举例如下：\\n![image.png](../assets/image_1657279015370_0.png)&quot;,536871110]],[&quot;^17&quot;,[1973,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1973,&quot;^F&quot;,1974,536871110]],[&quot;^17&quot;,[1973,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1973,&quot;^W&quot;,1974,536871110]],[&quot;^17&quot;,[1973,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1973,&quot;^V&quot;,1770,536871110]],[&quot;^17&quot;,[1973,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1973,&quot;^;&quot;,&quot;~u62d3582a-6a62-40f8-8b06-44ddb1dcf746&quot;,536871110]],[&quot;^17&quot;,[1974,&quot;^R&quot;,&quot;[[Recoverable Schedule]]&quot;,536871110]],[&quot;^17&quot;,[1974,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1974,&quot;^F&quot;,1928,536871110]],[&quot;^17&quot;,[1974,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1974,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1974,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1974,&quot;^V&quot;,1770,536871110]],[&quot;^17&quot;,[1974,&quot;^H&quot;,1770,536871110]],[&quot;^17&quot;,[1974,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1974,&quot;^;&quot;,&quot;~u62d3582a-1deb-49d3-bc82-679ef7c1a9d8&quot;,536871110]],[&quot;^17&quot;,[1975,&quot;^R&quot;,&quot;&quot;,536871110]],[&quot;^17&quot;,[1975,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1975,&quot;^F&quot;,1927,536871110]],[&quot;^17&quot;,[1975,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1975,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1975,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1975,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1975,&quot;^;&quot;,&quot;~u62d3582a-338f-4137-aa64-a089a27b829d&quot;,536871110]],[&quot;^17&quot;,[1976,&quot;^R&quot;,&quot;1. 不会造成死锁，因为没有事务需要等待\\n2. 如果单个事务涉及的数据不多、不同事务涉及的数据基本不相同 (OLTP)，可以节省 2PL 中控制锁的额外成本，提高事务并发度&quot;,536871110]],[&quot;^17&quot;,[1976,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1976,&quot;^F&quot;,1987,536871110]],[&quot;^17&quot;,[1976,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1976,&quot;^W&quot;,1987,536871110]],[&quot;^17&quot;,[1976,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1976,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1976,&quot;^;&quot;,&quot;~u62d3582a-3c63-456b-9433-9e597a304f9a&quot;,536871110]],[&quot;^17&quot;,[1977,&quot;^R&quot;,&quot;OCC 是 H.T. KUNG 在 CMU 任教时提出的并发控制算法。在 OCC 中，数据库为每个事务都创建一个私有空间：&quot;,536871110]],[&quot;^17&quot;,[1977,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1977,&quot;^F&quot;,1965,536871110]],[&quot;^17&quot;,[1977,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1977,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1977,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1977,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1977,&quot;^;&quot;,&quot;~u62d3582a-6c20-4003-baff-3c21e39db5a6&quot;,536871110]],[&quot;^17&quot;,[1978,&quot;^R&quot;,&quot;# Basic T/O\\nid:: 62c9766e-f802-43c4-8169-568065347c40&quot;,536871110]],[&quot;^17&quot;,[1978,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1978,&quot;^X&quot;,1,536871110]],[&quot;^17&quot;,[1978,&quot;^F&quot;,1937,536871110]],[&quot;^17&quot;,[1978,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1978,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1978,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1978,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c9766e-f802-43c4-8169-568065347c40&quot;],536871110]],[&quot;^17&quot;,[1978,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871110]],[&quot;^17&quot;,[1978,&quot;^1&gt;&quot;,1,536871110]],[&quot;^17&quot;,[1978,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1978,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1978,&quot;^;&quot;,&quot;~u62c9766e-f802-43c4-8169-568065347c40&quot;,536871110]],[&quot;^17&quot;,[1979,&quot;^R&quot;,&quot;DBMS 是否在事务开启前就能知道事务所需的所有 partitions&quot;,536871110]],[&quot;^17&quot;,[1979,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1979,&quot;^F&quot;,1966,536871110]],[&quot;^17&quot;,[1979,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1979,&quot;^W&quot;,1966,536871110]],[&quot;^17&quot;,[1979,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1979,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1979,&quot;^;&quot;,&quot;~u62d3582a-5712-4f26-86e7-0dec6d3bf1b7&quot;,536871110]],[&quot;^17&quot;,[1980,&quot;^R&quot;,&quot;混合方案 (Hybrid)&quot;,536871110]],[&quot;^17&quot;,[1980,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1980,&quot;^F&quot;,1921,536871110]],[&quot;^17&quot;,[1980,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1980,&quot;^W&quot;,1937,536871110]],[&quot;^17&quot;,[1980,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1980,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1980,&quot;^;&quot;,&quot;~u62d3582a-8620-4509-ba70-87d191a56e09&quot;,536871110]],[&quot;^17&quot;,[1981,&quot;^R&quot;,&quot;我们可以按照 customer 的 c_id 对数据库分片：\\n![image.png](../assets/image_1657287744581_0.png)&quot;,536871110]],[&quot;^17&quot;,[1981,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1981,&quot;^F&quot;,1964,536871110]],[&quot;^17&quot;,[1981,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1981,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1981,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1981,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1981,&quot;^;&quot;,&quot;~u62d3582a-8e6f-4047-9ccd-44deb2d8667b&quot;,536871110]],[&quot;^17&quot;,[1982,&quot;^R&quot;,&quot;DBMS 需要维持所有活跃事务的全局视角，并将 Validation Phase 和 Write Phase 的逻辑放入一个 critical section 中。&quot;,536871110]],[&quot;^17&quot;,[1982,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1982,&quot;^F&quot;,1963,536871110]],[&quot;^17&quot;,[1982,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1982,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1982,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1982,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1982,&quot;^;&quot;,&quot;~u62d3582a-2fff-4122-a265-427f4dd7836c&quot;,536871110]],[&quot;^17&quot;,[1983,&quot;^R&quot;,&quot;multi-partition 的事务将使得更多其它事务陷入等待状态，取了锁而未使用的 partition 也可能陷入空转。&quot;,536871110]],[&quot;^17&quot;,[1983,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1983,&quot;^F&quot;,1966,536871110]],[&quot;^17&quot;,[1983,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1983,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1983,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1983,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1983,&quot;^;&quot;,&quot;~u62d3582a-f39d-4e8c-9e84-b204a15f95d8&quot;,536871110]],[&quot;^17&quot;,[1984,&quot;^R&quot;,&quot;#### Partition-Based T/O - Reads\\n如果事务已经获取分片上的锁，该事务就能够读取它想读取的任意数据。如果事务尝试访问一个未获取锁的分片，那么它将被中止后重启。&quot;,536871110]],[&quot;^17&quot;,[1984,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1984,&quot;^X&quot;,4,536871110]],[&quot;^17&quot;,[1984,&quot;^F&quot;,1925,536871110]],[&quot;^17&quot;,[1984,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1984,&quot;^W&quot;,1946,536871110]],[&quot;^17&quot;,[1984,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1984,&quot;^1&gt;&quot;,4,536871110]],[&quot;^17&quot;,[1984,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1984,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1984,&quot;^;&quot;,&quot;~u62d3582a-b9db-4e23-8db1-c079e4fd4788&quot;,536871110]],[&quot;^17&quot;,[1985,&quot;^R&quot;,&quot;OCC 与 Basic T/O 的思路类似，都是在检查事务之间的 WW、WR 冲突。当冲突发生的频率很低时，即：&quot;,536871110]],[&quot;^17&quot;,[1985,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1985,&quot;^F&quot;,1919,536871110]],[&quot;^17&quot;,[1985,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1985,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1985,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1985,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1985,&quot;^;&quot;,&quot;~u62d3582a-3cda-436c-ab9f-4fe45942ff9b&quot;,536871110]],[&quot;^17&quot;,[1986,&quot;^R&quot;,&quot;缺点在于：&quot;,536871110]],[&quot;^17&quot;,[1986,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1986,&quot;^F&quot;,1987,536871110]],[&quot;^17&quot;,[1986,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1986,&quot;^W&quot;,1928,536871110]],[&quot;^17&quot;,[1986,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1986,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1986,&quot;^;&quot;,&quot;~u62d3582a-0993-4f2b-b126-5027e4379676&quot;,536871110]],[&quot;^17&quot;,[1987,&quot;^R&quot;,&quot;如果不使用 TWR 优化，Basic T/O 能够生成 conflict serializable 的 schedule，如果使用了 TWR，则 Basic T/O 生成的 schedule 虽然与顺序执行的效果相同，但不满足 conflict serializable。Basic T/O 的优势在于：&quot;,536871110]],[&quot;^17&quot;,[1987,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1987,&quot;^F&quot;,1928,536871110]],[&quot;^17&quot;,[1987,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1987,&quot;^W&quot;,1928,536871110]],[&quot;^17&quot;,[1987,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1987,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1987,&quot;^;&quot;,&quot;~u62d3582a-f280-487b-96b0-a8bcfaafffc2&quot;,536871110]],[&quot;^17&quot;,[1988,&quot;^R&quot;,&quot;### OCC-Example&quot;,536871110]],[&quot;^17&quot;,[1988,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1988,&quot;^X&quot;,3,536871110]],[&quot;^17&quot;,[1988,&quot;^F&quot;,1982,536871110]],[&quot;^17&quot;,[1988,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1988,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1988,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1988,&quot;^1&gt;&quot;,3,536871110]],[&quot;^17&quot;,[1988,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1988,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1988,&quot;^;&quot;,&quot;~u62d3582a-db80-4cba-adca-b5d8f230e2ce&quot;,536871110]],[&quot;^17&quot;,[1989,&quot;^R&quot;,&quot;# Dynamic Databases\\nid:: 62c9766e-3321-4031-935a-217746fe2e3b&quot;,536871110]],[&quot;^17&quot;,[1989,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1989,&quot;^X&quot;,1,536871110]],[&quot;^17&quot;,[1989,&quot;^F&quot;,1946,536871110]],[&quot;^17&quot;,[1989,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1989,&quot;^W&quot;,269,536871110]],[&quot;^17&quot;,[1989,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1989,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c9766e-3321-4031-935a-217746fe2e3b&quot;],536871110]],[&quot;^17&quot;,[1989,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871110]],[&quot;^17&quot;,[1989,&quot;^1&gt;&quot;,1,536871110]],[&quot;^17&quot;,[1989,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1989,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1989,&quot;^;&quot;,&quot;~u62c9766e-3321-4031-935a-217746fe2e3b&quot;,536871110]],[&quot;^17&quot;,[1990,&quot;^R&quot;,&quot;当事务需要访问多个 partitions 时，就在所需的多个 partitions 上排队&quot;,536871110]],[&quot;^17&quot;,[1990,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1990,&quot;^F&quot;,1925,536871110]],[&quot;^17&quot;,[1990,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1990,&quot;^W&quot;,1925,536871110]],[&quot;^17&quot;,[1990,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1990,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1990,&quot;^;&quot;,&quot;~u62d3582a-310d-4197-88c1-d38617c0f7a6&quot;,536871110]],[&quot;^17&quot;,[1991,&quot;^R&quot;,&quot;#### OCC-Read phase&quot;,536871110]],[&quot;^17&quot;,[1991,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1991,&quot;^X&quot;,4,536871110]],[&quot;^17&quot;,[1991,&quot;^F&quot;,1988,536871110]],[&quot;^17&quot;,[1991,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1991,&quot;^W&quot;,1965,536871110]],[&quot;^17&quot;,[1991,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1991,&quot;^1&gt;&quot;,4,536871110]],[&quot;^17&quot;,[1991,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1991,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1991,&quot;^;&quot;,&quot;~u62d3582a-8ff3-4098-96d1-647d632c5f1d&quot;,536871110]],[&quot;^17&quot;,[1992,&quot;^R&quot;,&quot;1.长事务容易因为与短事务冲突而饿死\\n2. 复制数据，维护、更新时间戳存在额外成本\\n3. 可能产生不可恢复的 schedule (具体见下节)&quot;,536871110]],[&quot;^17&quot;,[1992,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1992,&quot;^F&quot;,1986,536871110]],[&quot;^17&quot;,[1992,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1992,&quot;^W&quot;,1986,536871110]],[&quot;^17&quot;,[1992,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1992,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1992,&quot;^;&quot;,&quot;~u62d3582a-06cf-4b62-bb45-23a656b1620c&quot;,536871110]],[&quot;^17&quot;,[1993,&quot;^R&quot;,&quot;### example\\n![image.png](../assets/image_1657278805914_0.png)&quot;,536871110]],[&quot;^17&quot;,[1993,&quot;^P&quot;,&quot;^19&quot;,536871110]],[&quot;^17&quot;,[1993,&quot;^X&quot;,3,536871110]],[&quot;^17&quot;,[1993,&quot;^F&quot;,1932,536871110]],[&quot;^17&quot;,[1993,&quot;^Z&quot;,269,536871110]],[&quot;^17&quot;,[1993,&quot;^W&quot;,1978,536871110]],[&quot;^17&quot;,[1993,&quot;^V&quot;,269,536871110]],[&quot;^17&quot;,[1993,&quot;^1&gt;&quot;,3,536871110]],[&quot;^17&quot;,[1993,&quot;^Y&quot;,&quot;^1?&quot;,536871110]],[&quot;^17&quot;,[1993,&quot;^1@&quot;,true,536871110]],[&quot;^17&quot;,[1993,&quot;^;&quot;,&quot;~u62d3582a-913f-42b6-9477-214783a5d850&quot;,536871110]],[&quot;^17&quot;,[1995,&quot;^R&quot;,&quot;#+BEGIN_NOTE\\nA transaction is the execution of a sequence of one or more operations (e.g., SQL queries) on a shared database to perform some higher-level function.\\n#+END_NOTE&quot;,536871112]],[&quot;^17&quot;,[1995,&quot;^P&quot;,&quot;^19&quot;,536871112]],[&quot;^17&quot;,[1995,&quot;^F&quot;,4507,536896836]],[&quot;^17&quot;,[1995,&quot;^Z&quot;,635,536871112]],[&quot;^17&quot;,[1995,&quot;^W&quot;,635,536871112]],[&quot;^17&quot;,[1995,&quot;^V&quot;,635,536871112]],[&quot;^17&quot;,[1995,&quot;^1@&quot;,true,536871112]],[&quot;^17&quot;,[1995,&quot;^;&quot;,&quot;~u62d3582a-5f82-4d67-81ca-ea099370185d&quot;,536871112]],[&quot;^17&quot;,[1996,&quot;^R&quot;,&quot;一个txn只有执行提交和未执行两种状态&quot;,536871112]],[&quot;^17&quot;,[1996,&quot;^P&quot;,&quot;^19&quot;,536871112]],[&quot;^17&quot;,[1996,&quot;^F&quot;,1995,536871112]],[&quot;^17&quot;,[1996,&quot;^Z&quot;,635,536871112]],[&quot;^17&quot;,[1996,&quot;^W&quot;,635,536871112]],[&quot;^17&quot;,[1996,&quot;^V&quot;,635,536871112]],[&quot;^17&quot;,[1996,&quot;^1@&quot;,true,536871112]],[&quot;^17&quot;,[1996,&quot;^;&quot;,&quot;~u62d3582a-1051-48e8-81b4-7e759a6b169b&quot;,536871112]],[&quot;^17&quot;,[1998,&quot;^R&quot;,&quot;上节讨论了 page 的 layout 可以分成 header 与 data 两部分，而 data 部分又分为 tuple-oriented 和 log structured 两种，那么在 tuple-oriented 的 layout 中，DMBS 如何存储 tuple 本身呢？&quot;,536871114]],[&quot;^17&quot;,[1998,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[1998,&quot;^F&quot;,4489,536896743]],[&quot;^17&quot;,[1998,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[1998,&quot;^W&quot;,746,536871114]],[&quot;^17&quot;,[1998,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[1998,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[1998,&quot;^;&quot;,&quot;~u62d3582a-edeb-4ced-acd2-e0ed91f7ec10&quot;,536871114]],[&quot;^17&quot;,[1999,&quot;^R&quot;,&quot;由于 tuple 本身还有别的元信息，如：&quot;,536871114]],[&quot;^17&quot;,[1999,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[1999,&quot;^F&quot;,1998,536871114]],[&quot;^17&quot;,[1999,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[1999,&quot;^W&quot;,746,536871114]],[&quot;^17&quot;,[1999,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[1999,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[1999,&quot;^;&quot;,&quot;~u62d3582a-6aed-4648-99fa-ac44b0c0f9c8&quot;,536871114]],[&quot;^17&quot;,[2000,&quot;^R&quot;,&quot;Visibility Info (concurrency control)：即 tuple 粒度的权限和并发控制&quot;,536871114]],[&quot;^17&quot;,[2000,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2000,&quot;^F&quot;,1999,536871114]],[&quot;^17&quot;,[2000,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2000,&quot;^W&quot;,1999,536871114]],[&quot;^17&quot;,[2000,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2000,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2000,&quot;^;&quot;,&quot;~u62d3582a-5c6c-4ebb-97a2-8809d95f748e&quot;,536871114]],[&quot;^17&quot;,[2001,&quot;^R&quot;,&quot;Bit Map for **NULL** values&quot;,536871114]],[&quot;^17&quot;,[2001,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2001,&quot;^F&quot;,2000,536871114]],[&quot;^17&quot;,[2001,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2001,&quot;^W&quot;,1999,536871114]],[&quot;^17&quot;,[2001,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2001,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2001,&quot;^;&quot;,&quot;~u62d3582a-60b1-4e5d-9893-56429c326df9&quot;,536871114]],[&quot;^17&quot;,[2002,&quot;^R&quot;,&quot;![image.png](../assets/image_1657552848257_0.png)&quot;,536871114]],[&quot;^17&quot;,[2002,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2002,&quot;^F&quot;,1999,536871114]],[&quot;^17&quot;,[2002,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2002,&quot;^W&quot;,746,536871114]],[&quot;^17&quot;,[2002,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2002,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2002,&quot;^;&quot;,&quot;~u62d3582a-9d9a-4e06-a317-fa8dfe766279&quot;,536871114]],[&quot;^17&quot;,[2003,&quot;^R&quot;,&quot;有时候，为了提高操作性能，DBMS 会在存储层面上将有关联的表的数据预先 join 起来，称作 denormalize，如下图所示：\\n![image.png](../assets/image_1657552875483_0.png) ![image.png](../assets/image_1657552882297_0.png)&quot;,536871114]],[&quot;^17&quot;,[2003,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2003,&quot;^F&quot;,2002,536871114]],[&quot;^17&quot;,[2003,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2003,&quot;^W&quot;,746,536871114]],[&quot;^17&quot;,[2003,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2003,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2003,&quot;^;&quot;,&quot;~u62d3582a-557b-4f87-ac36-7f2f16948395&quot;,536871114]],[&quot;^17&quot;,[2004,&quot;^R&quot;,&quot;如果表 bar 与表 foo 经常需要被 join 起来，那么二者可以在存储阶段就预先 join 到一起，这么做当然有利有弊：&quot;,536871114]],[&quot;^17&quot;,[2004,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2004,&quot;^F&quot;,2003,536871114]],[&quot;^17&quot;,[2004,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2004,&quot;^W&quot;,746,536871114]],[&quot;^17&quot;,[2004,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2004,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2004,&quot;^;&quot;,&quot;~u62d3582a-1395-4246-a930-c884d1b343dd&quot;,536871114]],[&quot;^17&quot;,[2005,&quot;^R&quot;,&quot;利：减少 I/O\\n弊：更新操作复杂化&quot;,536871114]],[&quot;^17&quot;,[2005,&quot;^P&quot;,&quot;^19&quot;,536871114]],[&quot;^17&quot;,[2005,&quot;^F&quot;,2004,536871114]],[&quot;^17&quot;,[2005,&quot;^Z&quot;,746,536871114]],[&quot;^17&quot;,[2005,&quot;^W&quot;,2004,536871114]],[&quot;^17&quot;,[2005,&quot;^V&quot;,746,536871114]],[&quot;^17&quot;,[2005,&quot;^1@&quot;,true,536871114]],[&quot;^17&quot;,[2005,&quot;^;&quot;,&quot;~u62d3582a-3276-4444-b20a-305d7a858335&quot;,536871114]],[&quot;^17&quot;,[2015,&quot;^R&quot;,&quot;## Lock and Latches\\nid:: 62c9766e-df22-450a-ba17-9b69524290af&quot;,536871118]],[&quot;^17&quot;,[2015,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2015,&quot;^X&quot;,2,536871118]],[&quot;^17&quot;,[2015,&quot;^F&quot;,2017,536871118]],[&quot;^17&quot;,[2015,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2015,&quot;^W&quot;,305,536871118]],[&quot;^17&quot;,[2015,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2015,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62c9766e-df22-450a-ba17-9b69524290af&quot;],536871118]],[&quot;^17&quot;,[2015,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871118]],[&quot;^17&quot;,[2015,&quot;^1&gt;&quot;,2,536871118]],[&quot;^17&quot;,[2015,&quot;^Y&quot;,&quot;^1?&quot;,536871118]],[&quot;^17&quot;,[2015,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2015,&quot;^;&quot;,&quot;~u62c9766e-df22-450a-ba17-9b69524290af&quot;,536871118]],[&quot;^17&quot;,[2016,&quot;^R&quot;,&quot;回到 universe of schedules，cascading aborts 也是 schedule 的一个特性，它与 serializable 并无直接关系，因此将 cascading aborts schedule 考虑进来，可以得到下图：\\n![image.png](../assets/image_1657249877660_0.png)&quot;,536871118]],[&quot;^17&quot;,[2016,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2016,&quot;^F&quot;,2019,536871118]],[&quot;^17&quot;,[2016,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2016,&quot;^W&quot;,2027,536871118]],[&quot;^17&quot;,[2016,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2016,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2016,&quot;^;&quot;,&quot;~u62d3582a-671e-4413-a558-bf7e11e75501&quot;,536871118]],[&quot;^17&quot;,[2017,&quot;^R&quot;,&quot;public:: true\\nalias:: 2PL&quot;,536896852]],[&quot;^17&quot;,[2017,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2017,&quot;^F&quot;,305,536871118]],[&quot;^17&quot;,[2017,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2017,&quot;^W&quot;,305,536871118]],[&quot;^17&quot;,[2017,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2017,&quot;^V&quot;,623,536871118]],[&quot;^17&quot;,[2017,&quot;^:&quot;,true,536871118]],[&quot;^17&quot;,[2017,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;2PL&quot;]],&quot;^18&quot;,true],536896852]],[&quot;^17&quot;,[2017,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871118]],[&quot;^17&quot;,[2017,&quot;^H&quot;,623,536871118]],[&quot;^17&quot;,[2017,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2017,&quot;^;&quot;,&quot;~u62d3582a-e254-4e28-b95b-b69b4a61ec1e&quot;,536871118]],[&quot;^17&quot;,[2018,&quot;^R&quot;,&quot;[[latch]] ![image.png](../assets/image_1657249544768_0.png)&quot;,536871118]],[&quot;^17&quot;,[2018,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2018,&quot;^F&quot;,2015,536871118]],[&quot;^17&quot;,[2018,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2018,&quot;^W&quot;,2015,536871118]],[&quot;^17&quot;,[2018,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2018,&quot;^V&quot;,502,536871118]],[&quot;^17&quot;,[2018,&quot;^H&quot;,502,536871118]],[&quot;^17&quot;,[2018,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2018,&quot;^;&quot;,&quot;~u62d3582a-fac2-4e0f-960b-1a440a4daa03&quot;,536871118]],[&quot;^17&quot;,[2019,&quot;^R&quot;,&quot;增强版 Rigorous 2PL **每个事务在结束之前，其写过的数据不能被其它事务读取或者重写**&quot;,536871118]],[&quot;^17&quot;,[2019,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2019,&quot;^F&quot;,2025,536871118]],[&quot;^17&quot;,[2019,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2019,&quot;^W&quot;,2027,536871118]],[&quot;^17&quot;,[2019,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2019,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2019,&quot;^;&quot;,&quot;~u62d3582a-0ed3-4df5-b150-c6461718cb75&quot;,536871118]],[&quot;^17&quot;,[2020,&quot;^R&quot;,&quot;&quot;,536871118]],[&quot;^17&quot;,[2020,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2020,&quot;^F&quot;,2021,536871118]],[&quot;^17&quot;,[2020,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2020,&quot;^W&quot;,305,536871118]],[&quot;^17&quot;,[2020,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2020,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2020,&quot;^;&quot;,&quot;~u62d3582a-02c5-4359-833a-95df14b93bd1&quot;,536871118]],[&quot;^17&quot;,[2021,&quot;^R&quot;,&quot;## [[Deadlock Detection &amp; Prevention]]&quot;,536871118]],[&quot;^17&quot;,[2021,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2021,&quot;^X&quot;,2,536871118]],[&quot;^17&quot;,[2021,&quot;^F&quot;,2027,536871118]],[&quot;^17&quot;,[2021,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2021,&quot;^W&quot;,305,536871118]],[&quot;^17&quot;,[2021,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2021,&quot;^V&quot;,779,536871118]],[&quot;^17&quot;,[2021,&quot;^H&quot;,779,536871118]],[&quot;^17&quot;,[2021,&quot;^1&gt;&quot;,2,536871118]],[&quot;^17&quot;,[2021,&quot;^Y&quot;,&quot;^1?&quot;,536871118]],[&quot;^17&quot;,[2021,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2021,&quot;^;&quot;,&quot;~u62d3582a-8089-4365-a371-6169b227ea7f&quot;,536871118]],[&quot;^17&quot;,[2022,&quot;^R&quot;,&quot;如下图所示：DBMS 中有个专门的模块，lock manager，负责管理系统中的 locks，每当事务需要加锁或者升级锁的时候，都需要向它发出请求，lock manager 内部维护着一个 lock table，上面记录着当前的所有分配信息，lock manager 需要根据这些来决定赋予锁还是拒绝请求，以保证事务操作重排的正确性和并发度。\\n![image.png](../assets/image_1657249625815_0.png)&quot;,536871118]],[&quot;^17&quot;,[2022,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2022,&quot;^F&quot;,2018,536871118]],[&quot;^17&quot;,[2022,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2022,&quot;^W&quot;,2015,536871118]],[&quot;^17&quot;,[2022,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2022,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2022,&quot;^;&quot;,&quot;~u62d3582a-575a-4abe-a0ef-065d6d21e81f&quot;,536871118]],[&quot;^17&quot;,[2023,&quot;^R&quot;,&quot;[[Schedules in DBMS]]&quot;,536871118]],[&quot;^17&quot;,[2023,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2023,&quot;^F&quot;,2016,536871118]],[&quot;^17&quot;,[2023,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2023,&quot;^W&quot;,2027,536871118]],[&quot;^17&quot;,[2023,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2023,&quot;^V&quot;,1098,536871118]],[&quot;^17&quot;,[2023,&quot;^H&quot;,1098,536871118]],[&quot;^17&quot;,[2023,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2023,&quot;^;&quot;,&quot;~u62d3582a-2824-4754-a179-69fba83cd074&quot;,536871118]],[&quot;^17&quot;,[2024,&quot;^R&quot;,&quot;2PL 是一种并发控制协议，它帮助数据库在运行过程中决定某个事务是否可以访问某条数据，并且 2PL 的正常工作并不需要提前知道所有事务的执行内容，仅仅依靠已知的信息即可。\\n2PL，顾名思义，有两个阶段：growing 和 shrinking：\\n![image.png](../assets/image_1657249666160_0.png)&quot;,536871118]],[&quot;^17&quot;,[2024,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2024,&quot;^F&quot;,2027,536871118]],[&quot;^17&quot;,[2024,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2024,&quot;^W&quot;,2027,536871118]],[&quot;^17&quot;,[2024,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2024,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2024,&quot;^;&quot;,&quot;~u62d3582a-9f75-4a4d-aeb9-268be218f922&quot;,536871118]],[&quot;^17&quot;,[2025,&quot;^R&quot;,&quot;2PL 本身能够保证序列化，但是会导致级联中止问题（cascadng aborts）\\n![image.png](../assets/image_1657249772072_0.png)&quot;,536871118]],[&quot;^17&quot;,[2025,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2025,&quot;^F&quot;,2024,536871118]],[&quot;^17&quot;,[2025,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2025,&quot;^W&quot;,2027,536871118]],[&quot;^17&quot;,[2025,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2025,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2025,&quot;^;&quot;,&quot;~u62d3582a-e0a6-4f14-a270-64a1ae566742&quot;,536871118]],[&quot;^17&quot;,[2026,&quot;^R&quot;,&quot;&quot;,536871118]],[&quot;^17&quot;,[2026,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2026,&quot;^F&quot;,2021,536871118]],[&quot;^17&quot;,[2026,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2026,&quot;^W&quot;,2021,536871118]],[&quot;^17&quot;,[2026,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2026,&quot;^V&quot;,779,536871118]],[&quot;^17&quot;,[2026,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2026,&quot;^;&quot;,&quot;~u62d3582a-aee8-41cb-b3ac-3fbc8321e737&quot;,536871118]],[&quot;^17&quot;,[2027,&quot;^R&quot;,&quot;## 2PL&quot;,536871118]],[&quot;^17&quot;,[2027,&quot;^P&quot;,&quot;^19&quot;,536871118]],[&quot;^17&quot;,[2027,&quot;^X&quot;,2,536871118]],[&quot;^17&quot;,[2027,&quot;^F&quot;,2015,536871118]],[&quot;^17&quot;,[2027,&quot;^Z&quot;,305,536871118]],[&quot;^17&quot;,[2027,&quot;^W&quot;,305,536871118]],[&quot;^17&quot;,[2027,&quot;^V&quot;,305,536871118]],[&quot;^17&quot;,[2027,&quot;^1&gt;&quot;,2,536871118]],[&quot;^17&quot;,[2027,&quot;^Y&quot;,&quot;^1?&quot;,536871118]],[&quot;^17&quot;,[2027,&quot;^1@&quot;,true,536871118]],[&quot;^17&quot;,[2027,&quot;^;&quot;,&quot;~u62d3582a-7043-4047-8c9a-28bc67c277ed&quot;,536871118]],[&quot;^17&quot;,[2040,&quot;^L&quot;,1657955666077,536871263]],[&quot;^17&quot;,[2040,&quot;^@&quot;,false,536871124]],[&quot;^17&quot;,[2040,&quot;^[&quot;,&quot;wal&quot;,536871124]],[&quot;^17&quot;,[2040,&quot;^13&quot;,&quot;WAL&quot;,536871124]],[&quot;^17&quot;,[2040,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896929]],[&quot;^17&quot;,[2040,&quot;^B&quot;,1657955666077,536871263]],[&quot;^17&quot;,[2040,&quot;^;&quot;,&quot;~u62d3582c-09f7-4ed9-9a39-7229f06035c6&quot;,536871230]],[&quot;^17&quot;,[2042,&quot;^R&quot;,&quot;{{embed ((62cf80a9-b5f1-4604-b2b4-bf9e72f24341))}}&quot;,536871124]],[&quot;^17&quot;,[2042,&quot;^P&quot;,&quot;^19&quot;,536871124]],[&quot;^17&quot;,[2042,&quot;^F&quot;,4523,536896929]],[&quot;^17&quot;,[2042,&quot;^Z&quot;,2040,536871124]],[&quot;^17&quot;,[2042,&quot;^W&quot;,2040,536871124]],[&quot;^17&quot;,[2042,&quot;^V&quot;,2040,536871124]],[&quot;^17&quot;,[2042,&quot;^V&quot;,2041,536871124]],[&quot;^17&quot;,[2042,&quot;^H&quot;,2041,536871124]],[&quot;^17&quot;,[2042,&quot;^H&quot;,2044,536871124]],[&quot;^17&quot;,[2042,&quot;^1@&quot;,true,536871124]],[&quot;^17&quot;,[2042,&quot;^;&quot;,&quot;~u62d3582a-caec-43e8-9140-b32e249a64db&quot;,536871124]],[&quot;^17&quot;,[2043,&quot;^R&quot;,&quot;&quot;,536871124]],[&quot;^17&quot;,[2043,&quot;^P&quot;,&quot;^19&quot;,536871124]],[&quot;^17&quot;,[2043,&quot;^F&quot;,2042,536871124]],[&quot;^17&quot;,[2043,&quot;^Z&quot;,2040,536871124]],[&quot;^17&quot;,[2043,&quot;^W&quot;,2040,536871124]],[&quot;^17&quot;,[2043,&quot;^V&quot;,2040,536871124]],[&quot;^17&quot;,[2043,&quot;^1@&quot;,true,536871124]],[&quot;^17&quot;,[2043,&quot;^;&quot;,&quot;~u62d3582a-8fc4-4db0-8a5a-8246c782fad8&quot;,536871124]],[&quot;^17&quot;,[2044,&quot;^R&quot;,&quot;## WAL : Steal + No-Force\\nid:: 62cf80a9-b5f1-4604-b2b4-bf9e72f24341&quot;,536871182]],[&quot;^17&quot;,[2044,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2044,&quot;^X&quot;,2,536871182]],[&quot;^17&quot;,[2044,&quot;^F&quot;,2469,536871182]],[&quot;^17&quot;,[2044,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2044,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2044,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2044,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62cf80a9-b5f1-4604-b2b4-bf9e72f24341&quot;],536871182]],[&quot;^17&quot;,[2044,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871182]],[&quot;^17&quot;,[2044,&quot;^1&gt;&quot;,2,536871182]],[&quot;^17&quot;,[2044,&quot;^Y&quot;,&quot;^1?&quot;,536871182]],[&quot;^17&quot;,[2044,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2044,&quot;^;&quot;,&quot;~u62cf80a9-b5f1-4604-b2b4-bf9e72f24341&quot;,536871124]],[&quot;^17&quot;,[2058,&quot;^L&quot;,1657955666078,536871263]],[&quot;^17&quot;,[2058,&quot;^@&quot;,false,536871130]],[&quot;^17&quot;,[2058,&quot;^[&quot;,&quot;binlog&quot;,536871130]],[&quot;^17&quot;,[2058,&quot;^13&quot;,&quot;binlog&quot;,536871130]],[&quot;^17&quot;,[2058,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896919]],[&quot;^17&quot;,[2058,&quot;^B&quot;,1657955666078,536871263]],[&quot;^17&quot;,[2058,&quot;^;&quot;,&quot;~u62d3582c-b069-498c-9a7e-8a035ebfeae5&quot;,536871230]],[&quot;^17&quot;,[2059,&quot;^R&quot;,&quot;**binlog**\\nbinlog用于记录数据库执行的写入性操作(不包括查询)信息，以二进制的形式保存在磁盘中。binlog是mysql的逻辑日志，并且由Server层进行记录，使用任何存储引擎的mysql数据库都会记录binlog日志。&quot;,536871130]],[&quot;^17&quot;,[2059,&quot;^P&quot;,&quot;^19&quot;,536871130]],[&quot;^17&quot;,[2059,&quot;^F&quot;,4521,536896919]],[&quot;^17&quot;,[2059,&quot;^Z&quot;,2058,536871130]],[&quot;^17&quot;,[2059,&quot;^W&quot;,2058,536871130]],[&quot;^17&quot;,[2059,&quot;^V&quot;,2058,536871130]],[&quot;^17&quot;,[2059,&quot;^1@&quot;,true,536871130]],[&quot;^17&quot;,[2059,&quot;^;&quot;,&quot;~u62d3582a-bffd-4f96-951d-b5e08e4464c0&quot;,536871130]],[&quot;^17&quot;,[2060,&quot;^R&quot;,&quot;逻辑日志：可以简单理解为记录的就是sql语句。\\n物理日志：因为mysql数据最终是保存在数据页中的，物理日志记录的就是数据页变更。&quot;,536871130]],[&quot;^17&quot;,[2060,&quot;^P&quot;,&quot;^19&quot;,536871130]],[&quot;^17&quot;,[2060,&quot;^F&quot;,2059,536871130]],[&quot;^17&quot;,[2060,&quot;^Z&quot;,2058,536871130]],[&quot;^17&quot;,[2060,&quot;^W&quot;,2059,536871130]],[&quot;^17&quot;,[2060,&quot;^V&quot;,2058,536871130]],[&quot;^17&quot;,[2060,&quot;^1@&quot;,true,536871130]],[&quot;^17&quot;,[2060,&quot;^;&quot;,&quot;~u62d3582a-75ae-485d-9a07-71afd3d5bd9b&quot;,536871130]],[&quot;^17&quot;,[2061,&quot;^R&quot;,&quot;binlog是通过追加的方式进行写入的，可以通过max_binlog_size参数设置每个binlog文件的大小，当文件大小达到给定值之后，会生成新的文件来保存日志。&quot;,536871130]],[&quot;^17&quot;,[2061,&quot;^P&quot;,&quot;^19&quot;,536871130]],[&quot;^17&quot;,[2061,&quot;^F&quot;,2059,536871130]],[&quot;^17&quot;,[2061,&quot;^Z&quot;,2058,536871130]],[&quot;^17&quot;,[2061,&quot;^W&quot;,2058,536871130]],[&quot;^17&quot;,[2061,&quot;^V&quot;,2058,536871130]],[&quot;^17&quot;,[2061,&quot;^1@&quot;,true,536871130]],[&quot;^17&quot;,[2061,&quot;^;&quot;,&quot;~u62d3582a-492b-480b-a255-fb41b297d017&quot;,536871130]],[&quot;^17&quot;,[2062,&quot;^R&quot;,&quot;**binlog使用场景**\\n在实际应用中，binlog的主要使用场景有两个，分别是主从复制和数据恢复。&quot;,536871130]],[&quot;^17&quot;,[2062,&quot;^P&quot;,&quot;^19&quot;,536871130]],[&quot;^17&quot;,[2062,&quot;^F&quot;,2061,536871130]],[&quot;^17&quot;,[2062,&quot;^Z&quot;,2058,536871130]],[&quot;^17&quot;,[2062,&quot;^W&quot;,2058,536871130]],[&quot;^17&quot;,[2062,&quot;^V&quot;,2058,536871130]],[&quot;^17&quot;,[2062,&quot;^1@&quot;,true,536871130]],[&quot;^17&quot;,[2062,&quot;^;&quot;,&quot;~u62d3582a-729c-4059-a98b-917dd6f7b9a1&quot;,536871130]],[&quot;^17&quot;,[2063,&quot;^R&quot;,&quot;主从复制：在Master端开启binlog，然后将binlog发送到各个Slave端，Slave端重放binlog从而达到主从数据一致。\\n数据恢复：通过使用mysqlbinlog工具来恢复数据。&quot;,536871130]],[&quot;^17&quot;,[2063,&quot;^P&quot;,&quot;^19&quot;,536871130]],[&quot;^17&quot;,[2063,&quot;^F&quot;,2062,536871130]],[&quot;^17&quot;,[2063,&quot;^Z&quot;,2058,536871130]],[&quot;^17&quot;,[2063,&quot;^W&quot;,2062,536871130]],[&quot;^17&quot;,[2063,&quot;^V&quot;,2058,536871130]],[&quot;^17&quot;,[2063,&quot;^1@&quot;,true,536871130]],[&quot;^17&quot;,[2063,&quot;^;&quot;,&quot;~u62d3582a-c054-4ea5-9b0a-5703bdd686f9&quot;,536871130]],[&quot;^17&quot;,[2253,&quot;^5&quot;,1475,536871164]],[&quot;^17&quot;,[2253,&quot;^L&quot;,1657419107661,536871263]],[&quot;^17&quot;,[2253,&quot;^@&quot;,false,536871164]],[&quot;^17&quot;,[2253,&quot;^[&quot;,&quot;lsm树&quot;,536871164]],[&quot;^17&quot;,[2253,&quot;^13&quot;,&quot;lsm树&quot;,536871164]],[&quot;^17&quot;,[2253,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;LSM Tree&quot;]],&quot;^18&quot;,true],536896794]],[&quot;^17&quot;,[2253,&quot;^B&quot;,1661251314445,536899427]],[&quot;^17&quot;,[2253,&quot;^;&quot;,&quot;~u62d3582c-453a-4dbf-941e-cc32445317cb&quot;,536871230]],[&quot;^17&quot;,[2254,&quot;^R&quot;,&quot;[github: facebook/rocksdb](https://github.com/facebook/rocksdb)&quot;,536871164]],[&quot;^17&quot;,[2254,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2254,&quot;^F&quot;,2274,536871164]],[&quot;^17&quot;,[2254,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2254,&quot;^W&quot;,2262,536871164]],[&quot;^17&quot;,[2254,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2254,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2254,&quot;^;&quot;,&quot;~u62d3582b-f467-4933-beff-abe996d182be&quot;,536871164]],[&quot;^17&quot;,[2255,&quot;^R&quot;,&quot;## Lookups\\nid:: 62cb801f-317c-4f9b-b8e5-3d1b8db6790e\\n由于上层的数据比下层的新，因此单条数据的查询首先从 buffer 开始，然后到 L0，L1，...，Ln，在每层数据查询时可以使用**二分查找**。范围查询也类似，可能需要查询多层数据。这种结构对于具有时间局部性的数据效率更高。\\n有许多优化手段可以避免每次查询都在每层的每个 SST 上执行二分查找。最常见的有两种，fence pointers 和 Bloom filters。&quot;,536871164]],[&quot;^17&quot;,[2255,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2255,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2255,&quot;^F&quot;,2260,536871164]],[&quot;^17&quot;,[2255,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2255,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2255,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2255,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62cb801f-317c-4f9b-b8e5-3d1b8db6790e&quot;],536871164]],[&quot;^17&quot;,[2255,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871164]],[&quot;^17&quot;,[2255,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2255,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2255,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2255,&quot;^;&quot;,&quot;~u62cb801f-317c-4f9b-b8e5-3d1b8db6790e&quot;,536871164]],[&quot;^17&quot;,[2256,&quot;^R&quot;,&quot;## Buffer \\n在 buffer 中存储着最新写入的键值对数据，这些数据通常按照键的顺序存储在相应的有序数据结构中，如[[跳表]]。同时 Buffer 也是数据查询的入口，存储着最新鲜的数据，或者数据的最新版本。&quot;,536871164]],[&quot;^17&quot;,[2256,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2256,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2256,&quot;^F&quot;,2265,536871164]],[&quot;^17&quot;,[2256,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2256,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2256,&quot;^V&quot;,272,536871164]],[&quot;^17&quot;,[2256,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2256,&quot;^H&quot;,272,536871164]],[&quot;^17&quot;,[2256,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2256,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2256,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2256,&quot;^;&quot;,&quot;~u62d3582b-505b-41e5-808a-f14d5495f229&quot;,536871164]],[&quot;^17&quot;,[2257,&quot;^R&quot;,&quot;## Sorted String Table(SST)\\nid:: 62ca9f6e-86ca-4dfb-9181-890543ad6372\\n当 Buffer 中的数据容量到达一定阈值时，会被顺序地写入磁盘中。磁盘中的数据分为多个层次，每层的数据容量指数递增。每层数据又可以继续被划分为一个或多个 SST，每个 SST 中的数据按顺序排列。且同一层级中的多个 SST 之间的键数据通常不会有交集。每层数据量大小都有限制，当数据量达到阈值时，该层的某个 SST 需要与下一层的若干个 SST 合并 (merge)，流入下一层中。因此图中越上层的数据越新、越下层的数据量越大。\\n\\n通常认为 SST 是不可变 (Immutable) 的数据结构，所有数据更新都通过**写入新的 SST 实现**，而所有合并操作也是通过生成新的 SST 实现。这种方式对实现数据库的多版本并发控制 (MVCC) 比较友好&quot;,536871164]],[&quot;^17&quot;,[2257,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2257,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2257,&quot;^F&quot;,2256,536871164]],[&quot;^17&quot;,[2257,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2257,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2257,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2257,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62ca9f6e-86ca-4dfb-9181-890543ad6372&quot;],536871164]],[&quot;^17&quot;,[2257,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871164]],[&quot;^17&quot;,[2257,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2257,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2257,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2257,&quot;^;&quot;,&quot;~u62ca9f6e-86ca-4dfb-9181-890543ad6372&quot;,536871164]],[&quot;^17&quot;,[2258,&quot;^R&quot;,&quot;![image.png](../assets/image_1657507718988_0.png)&quot;,536871164]],[&quot;^17&quot;,[2258,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2258,&quot;^F&quot;,2271,536871164]],[&quot;^17&quot;,[2258,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2258,&quot;^W&quot;,2270,536871164]],[&quot;^17&quot;,[2258,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2258,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2258,&quot;^;&quot;,&quot;~u62d3582b-1656-4fd5-9885-a68e5c92ad07&quot;,536871164]],[&quot;^17&quot;,[2259,&quot;^R&quot;,&quot;![image.png](../assets/image_1657507589637_0.png)&quot;,536871164]],[&quot;^17&quot;,[2259,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2259,&quot;^F&quot;,2272,536871164]],[&quot;^17&quot;,[2259,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2259,&quot;^W&quot;,2270,536871164]],[&quot;^17&quot;,[2259,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2259,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2259,&quot;^;&quot;,&quot;~u62d3582b-e736-4261-be3b-185e50975bb3&quot;,536871164]],[&quot;^17&quot;,[2260,&quot;^R&quot;,&quot;## Merge(Compaction)\\n上文提到，disk 中每层数据都有容量限制，当 L 层数据超过阈值时，需要将 L 层的某个 SST 与 L+1 层中键的范围与该 SST 有重叠的多个 SST 合并，产生新的一组 SST 存放在 L+1 层中。如果此时 L+1 层中的数据容量也达到阈值，则会触发连续的合并。\\n在合并的过程中，相同键的值会被合并，只留下最新的值或者被删除，因此合并的过程也是压缩 (compaction) 的过程。&quot;,536871164]],[&quot;^17&quot;,[2260,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2260,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2260,&quot;^F&quot;,2266,536871164]],[&quot;^17&quot;,[2260,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2260,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2260,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2260,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2260,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2260,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2260,&quot;^;&quot;,&quot;~u62d3582b-d29f-41c0-84fa-c728326b3130&quot;,536871164]],[&quot;^17&quot;,[2261,&quot;^R&quot;,&quot;其中两层之间的容量比例是很重要的参数，记为 R。R 越大，则层数越少；R 越小，则层数越多。数据的总层数为 $log_R N$  。当 R 很小时，Tiering 与 Leveling 的效果趋于一致。通常 Tiering 中的 R 比较大，而 Leveling 的 R 比较小，如下图所示：\\n![image.png](../assets/image_1657507657175_0.png)&quot;,536871164]],[&quot;^17&quot;,[2261,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2261,&quot;^F&quot;,2259,536871164]],[&quot;^17&quot;,[2261,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2261,&quot;^W&quot;,2270,536871164]],[&quot;^17&quot;,[2261,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2261,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2261,&quot;^;&quot;,&quot;~u62d3582b-28ec-49f9-99ed-4f1e1d942652&quot;,536871164]],[&quot;^17&quot;,[2262,&quot;^R&quot;,&quot;Projects&quot;,536871164]],[&quot;^17&quot;,[2262,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2262,&quot;^F&quot;,2276,536871164]],[&quot;^17&quot;,[2262,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2262,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2262,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2262,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2262,&quot;^;&quot;,&quot;~u62d3582b-7f4f-4e14-ac1d-627b75a6cf6f&quot;,536871164]],[&quot;^17&quot;,[2263,&quot;^R&quot;,&quot;[github: couchbase/moss](https://github.com/couchbase/moss)&quot;,536871164]],[&quot;^17&quot;,[2263,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2263,&quot;^F&quot;,2262,536871164]],[&quot;^17&quot;,[2263,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2263,&quot;^W&quot;,2262,536871164]],[&quot;^17&quot;,[2263,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2263,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2263,&quot;^;&quot;,&quot;~u62d3582b-1cff-423e-8020-7c0a9cd51754&quot;,536871164]],[&quot;^17&quot;,[2264,&quot;^R&quot;,&quot;[github: syndtr/goleveldb](https://github.com/syndtr/goleveldb)&quot;,536871164]],[&quot;^17&quot;,[2264,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2264,&quot;^F&quot;,2254,536871164]],[&quot;^17&quot;,[2264,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2264,&quot;^W&quot;,2262,536871164]],[&quot;^17&quot;,[2264,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2264,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2264,&quot;^;&quot;,&quot;~u62d3582b-df48-46dc-8612-e468d6dc24e6&quot;,536871164]],[&quot;^17&quot;,[2265,&quot;^R&quot;,&quot;在键值数据库场景下，相较于 B+ 树，LSM 树能够提供更高效的写性能。LSM 树的基本思路就是批量写数据，即先将需要写入的数据放在内存中，等到达一定容量时再写入磁盘。其基本结构如下图所示：\\n![image.png](../assets/image_1657421520109_0.png){:height 231, :width 510}&quot;,536899427]],[&quot;^17&quot;,[2265,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2265,&quot;^F&quot;,2273,536871164]],[&quot;^17&quot;,[2265,&quot;^T&quot;,[&quot;^16&quot;,[]],536899423]],[&quot;^17&quot;,[2265,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2265,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2265,&quot;^V&quot;,2253,536899428]],[&quot;^17&quot;,[2265,&quot;^?&quot;,[&quot;^ &quot;],536899427]],[&quot;^17&quot;,[2265,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2265,&quot;^;&quot;,&quot;~u62d3582b-f9c3-4039-8653-f6fc20e96061&quot;,536871164]],[&quot;^17&quot;,[2266,&quot;^R&quot;,&quot;## Writes\\nid:: 62caa43a-f2fb-449d-8085-20983f064397\\n写入键值数据时，先将数据插入放到内存中的缓存 (buffer) 数据结构中，写入请求就可以返回响应。这个过程完全在内存中，因此效率很高。这里的写入操作包含插入、更新和删除，对于 LSM Tree 来说，**更新和删除也是插入新的键值对**，只不过删除存放的值是一个删除标记。\\n需要注意的是，大部分数据库为了保证 durability，都会将操作日志写入 WAL (write-ahead log) 中，因此这里实际上每次写数据，都有日志落盘。但因为日志是 append-only 的结构，因此这种写入的效率通常很高。&quot;,536871164]],[&quot;^17&quot;,[2266,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2266,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2266,&quot;^F&quot;,2257,536871164]],[&quot;^17&quot;,[2266,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2266,&quot;^W&quot;,2273,536871164]],[&quot;^17&quot;,[2266,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2266,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62caa43a-f2fb-449d-8085-20983f064397&quot;],536871164]],[&quot;^17&quot;,[2266,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871164]],[&quot;^17&quot;,[2266,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2266,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2266,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2266,&quot;^;&quot;,&quot;~u62caa43a-f2fb-449d-8085-20983f064397&quot;,536871164]],[&quot;^17&quot;,[2267,&quot;^R&quot;,&quot;&quot;,536871164]],[&quot;^17&quot;,[2267,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2267,&quot;^F&quot;,2268,536871164]],[&quot;^17&quot;,[2267,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2267,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2267,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2267,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2267,&quot;^;&quot;,&quot;~u62d3582b-6df1-4225-9cad-efdc0a0fec59&quot;,536871164]],[&quot;^17&quot;,[2268,&quot;^R&quot;,&quot;&quot;,536871164]],[&quot;^17&quot;,[2268,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2268,&quot;^F&quot;,2278,536871164]],[&quot;^17&quot;,[2268,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2268,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2268,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2268,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2268,&quot;^;&quot;,&quot;~u62d3582b-5d7d-429f-9619-d78b1f10b81a&quot;,536871164]],[&quot;^17&quot;,[2269,&quot;^R&quot;,&quot;**fence pointers**\\nfence pointers 的思路就是记录每个 SST 中建的最大值和最小值，由于每层中的多个 SST 的键值范围互相不重叠，这样对于单个键的查询，就能将查找范围缩小到某一个 SST 中&quot;,536871164]],[&quot;^17&quot;,[2269,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2269,&quot;^F&quot;,2255,536871164]],[&quot;^17&quot;,[2269,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2269,&quot;^W&quot;,2255,536871164]],[&quot;^17&quot;,[2269,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2269,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2269,&quot;^;&quot;,&quot;~u62d3582b-6384-4c53-a30d-08f2bfd491d6&quot;,536871164]],[&quot;^17&quot;,[2270,&quot;^R&quot;,&quot;# Tiering &amp; Leveling&quot;,536871164]],[&quot;^17&quot;,[2270,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2270,&quot;^X&quot;,1,536871164]],[&quot;^17&quot;,[2270,&quot;^F&quot;,2273,536871164]],[&quot;^17&quot;,[2270,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2270,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2270,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2270,&quot;^1&gt;&quot;,1,536871164]],[&quot;^17&quot;,[2270,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2270,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2270,&quot;^;&quot;,&quot;~u62d3582b-762b-47d0-9134-70ff67b5ddc4&quot;,536871164]],[&quot;^17&quot;,[2271,&quot;^R&quot;,&quot;考虑极端情况：当 R 很小时，相邻两层数据容量差别小，每层数据就是一个 sorted array，在每层中查找数据只需一次二分查找，这种情况下读性能好；当 R 很大时，每层数据约等于没有顺序，就像日志一样，这种情况下写性能好。&quot;,536871164]],[&quot;^17&quot;,[2271,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2271,&quot;^F&quot;,2261,536871164]],[&quot;^17&quot;,[2271,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2271,&quot;^W&quot;,2270,536871164]],[&quot;^17&quot;,[2271,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2271,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2271,&quot;^;&quot;,&quot;~u62d3582b-efc7-445f-8cb0-fe74af536fe2&quot;,536871164]],[&quot;^17&quot;,[2272,&quot;^R&quot;,&quot;在 LSM 树的实现中，合并时间点的选择决定了该实现的读写性能取舍。通常合并地越频繁，读取数据所涉及的 SST 数量越少，读性能越好，与此同时写操作的放大效应越大，单条数据被合并的次数越多，写性能越差。\\n![image.png](../assets/image_1657507579320_0.png)&quot;,536871164]],[&quot;^17&quot;,[2272,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2272,&quot;^F&quot;,2270,536871164]],[&quot;^17&quot;,[2272,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2272,&quot;^W&quot;,2270,536871164]],[&quot;^17&quot;,[2272,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2272,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2272,&quot;^;&quot;,&quot;~u62d3582b-7244-4a6f-8a62-fb016f4241ea&quot;,536871164]],[&quot;^17&quot;,[2273,&quot;^R&quot;,&quot;## 引入 Log-Structured-Merge-Tree&quot;,536871164]],[&quot;^17&quot;,[2273,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2273,&quot;^X&quot;,2,536871164]],[&quot;^17&quot;,[2273,&quot;^F&quot;,2262,536871164]],[&quot;^17&quot;,[2273,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2273,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2273,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2273,&quot;^1&gt;&quot;,2,536871164]],[&quot;^17&quot;,[2273,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2273,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2273,&quot;^;&quot;,&quot;~u62d3582b-fad2-42c0-a590-27252b6c774a&quot;,536871164]],[&quot;^17&quot;,[2274,&quot;^R&quot;,&quot;[github: google/leveldb](https://github.com/google/leveldb)&quot;,536871164]],[&quot;^17&quot;,[2274,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2274,&quot;^F&quot;,2263,536871164]],[&quot;^17&quot;,[2274,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2274,&quot;^W&quot;,2262,536871164]],[&quot;^17&quot;,[2274,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2274,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2274,&quot;^;&quot;,&quot;~u62d3582b-12c6-4319-84f1-c58ac752e4fc&quot;,536871164]],[&quot;^17&quot;,[2275,&quot;^R&quot;,&quot;public:: true\\nalias:: LSM Tree&quot;,536896794]],[&quot;^17&quot;,[2275,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2275,&quot;^F&quot;,2253,536871164]],[&quot;^17&quot;,[2275,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2275,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2275,&quot;^V&quot;,1475,536871164]],[&quot;^17&quot;,[2275,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2275,&quot;^:&quot;,true,536871164]],[&quot;^17&quot;,[2275,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;LSM Tree&quot;]],&quot;^18&quot;,true],536896794]],[&quot;^17&quot;,[2275,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1;&quot;]],536871164]],[&quot;^17&quot;,[2275,&quot;^H&quot;,1475,536871164]],[&quot;^17&quot;,[2275,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2275,&quot;^;&quot;,&quot;~u62d3582b-e7b8-4049-935a-538eed341039&quot;,536871164]],[&quot;^17&quot;,[2276,&quot;^R&quot;,&quot;课程:[CS265: Data Systems：An LSM-Tree Based Key-Value Store](http://daslab.seas.harvard.edu/classes/cs265/project.html)&quot;,536871164]],[&quot;^17&quot;,[2276,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2276,&quot;^F&quot;,2275,536871164]],[&quot;^17&quot;,[2276,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2276,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2276,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2276,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2276,&quot;^;&quot;,&quot;~u62d3582b-3b44-429b-808a-10fdf5e5e093&quot;,536871164]],[&quot;^17&quot;,[2277,&quot;^R&quot;,&quot;&quot;,536871164]],[&quot;^17&quot;,[2277,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2277,&quot;^F&quot;,2280,536871164]],[&quot;^17&quot;,[2277,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2277,&quot;^W&quot;,2255,536871164]],[&quot;^17&quot;,[2277,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2277,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2277,&quot;^;&quot;,&quot;~u62d3582b-27b7-477c-a9dd-431aa68a474f&quot;,536871164]],[&quot;^17&quot;,[2278,&quot;^R&quot;,&quot;# TODO Case Study&quot;,536871164]],[&quot;^17&quot;,[2278,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2278,&quot;^X&quot;,1,536871164]],[&quot;^17&quot;,[2278,&quot;^F&quot;,2270,536871164]],[&quot;^17&quot;,[2278,&quot;^12&quot;,&quot;TODO&quot;,536871164]],[&quot;^17&quot;,[2278,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2278,&quot;^W&quot;,2253,536871164]],[&quot;^17&quot;,[2278,&quot;^V&quot;,4,536871164]],[&quot;^17&quot;,[2278,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2278,&quot;^H&quot;,4,536871164]],[&quot;^17&quot;,[2278,&quot;^1&gt;&quot;,1,536871164]],[&quot;^17&quot;,[2278,&quot;^Y&quot;,&quot;^1?&quot;,536871164]],[&quot;^17&quot;,[2278,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2278,&quot;^;&quot;,&quot;~u62d3582b-2fb6-40c0-9e75-d29eff366e23&quot;,536871164]],[&quot;^17&quot;,[2279,&quot;^R&quot;,&quot;[doc/impl.md](https://github.com/google/leveldb/blob/master/doc/impl.md)&quot;,536871164]],[&quot;^17&quot;,[2279,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2279,&quot;^F&quot;,2274,536871164]],[&quot;^17&quot;,[2279,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2279,&quot;^W&quot;,2274,536871164]],[&quot;^17&quot;,[2279,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2279,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2279,&quot;^;&quot;,&quot;~u62d3582b-08ef-4d3e-a43b-6702f0c7260d&quot;,536871164]],[&quot;^17&quot;,[2280,&quot;^R&quot;,&quot;**[[Bloom filters]]**\\nbloom filter 则是在 fence pointers 之前的一层过滤器，通过其较低的 FP(false positive)，将大多数不必要的查询拒之门外。\\n![image.png](../assets/image_1657505146755_0.png)&quot;,536871164]],[&quot;^17&quot;,[2280,&quot;^P&quot;,&quot;^19&quot;,536871164]],[&quot;^17&quot;,[2280,&quot;^F&quot;,2269,536871164]],[&quot;^17&quot;,[2280,&quot;^Z&quot;,2253,536871164]],[&quot;^17&quot;,[2280,&quot;^W&quot;,2255,536871164]],[&quot;^17&quot;,[2280,&quot;^V&quot;,470,536871164]],[&quot;^17&quot;,[2280,&quot;^V&quot;,2253,536871164]],[&quot;^17&quot;,[2280,&quot;^H&quot;,470,536871164]],[&quot;^17&quot;,[2280,&quot;^1@&quot;,true,536871164]],[&quot;^17&quot;,[2280,&quot;^;&quot;,&quot;~u62d3582b-dd41-4851-8036-26261ccf9e20&quot;,536871164]],[&quot;^17&quot;,[2285,&quot;^R&quot;,&quot;普通的hash table 每个不同的逻辑页号会分别映射一个物理页，但可拓展hash不是，多个不同都逻辑页可能对应同一个物理页\\n![image.png](../assets/image_1655975864253_0.png)&quot;,536871168]],[&quot;^17&quot;,[2285,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2285,&quot;^F&quot;,2301,536871168]],[&quot;^17&quot;,[2285,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2285,&quot;^W&quot;,2297,536871168]],[&quot;^17&quot;,[2285,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2285,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2285,&quot;^;&quot;,&quot;~u62d3582b-abdf-43cf-b4de-b998f4e6c0ad&quot;,536871168]],[&quot;^17&quot;,[2286,&quot;^R&quot;,&quot;分裂如图，但我们可以不删除原有页，只将`splitImageIndex`的迁移到另一个页\\n![image.png](../assets/image_1655977773277_0.png)&quot;,536871168]],[&quot;^17&quot;,[2286,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2286,&quot;^F&quot;,2302,536871168]],[&quot;^17&quot;,[2286,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2286,&quot;^W&quot;,2293,536871168]],[&quot;^17&quot;,[2286,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2286,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2286,&quot;^;&quot;,&quot;~u62d3582b-4a87-4483-91a1-bc4cb48395d1&quot;,536871168]],[&quot;^17&quot;,[2287,&quot;^R&quot;,&quot;~`GetSplitImageIndex`通过原`bucket_id`得到分裂后新的`bucket_id`,比如`001 and 101`原来都映射到 `01` 这个物理页，这个物理页分裂后变成`001 and 101`；对于`001`来说`101`是新分裂出的页，对于`101`正好相反。那么这个函数应该实现一个翻转最高位为输出编号的功能。`GetSplitImageIndex(101) = 001; GetSplitImageIndex(001) = 101`&quot;,536871168]],[&quot;^17&quot;,[2287,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2287,&quot;^F&quot;,2302,536871168]],[&quot;^17&quot;,[2287,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2287,&quot;^W&quot;,2302,536871168]],[&quot;^17&quot;,[2287,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2287,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2287,&quot;^;&quot;,&quot;~u62d3582b-0bbc-480f-bfa7-e54f1590a62f&quot;,536871168]],[&quot;^17&quot;,[2288,&quot;^R&quot;,&quot;lecture与lab文档的可拓展hash内容不多，有许多方面我不能理解，查询了一些资料，终于看到一份图文并茂的材料[Extensible Hash Table](http://www.mathcs.emory.edu/~cheung/Courses/554/Syllabus/3-index/extensible-hashing-new.html)&quot;,536871168]],[&quot;^17&quot;,[2288,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2288,&quot;^F&quot;,2295,536871168]],[&quot;^17&quot;,[2288,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2288,&quot;^W&quot;,2295,536871168]],[&quot;^17&quot;,[2288,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2288,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2288,&quot;^;&quot;,&quot;~u62d3582b-f08a-4ee0-8590-154e145e7259&quot;,536871168]],[&quot;^17&quot;,[2289,&quot;^R&quot;,&quot;~`remove` 过程是`insert`的逆过程，产生一个空页后需要`merge`，不再赘述&quot;,536871168]],[&quot;^17&quot;,[2289,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2289,&quot;^F&quot;,2286,536871168]],[&quot;^17&quot;,[2289,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2289,&quot;^W&quot;,2293,536871168]],[&quot;^17&quot;,[2289,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2289,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2289,&quot;^;&quot;,&quot;~u62d3582b-f21a-481f-ad32-f39e961a69dc&quot;,536871168]],[&quot;^17&quot;,[2290,&quot;^R&quot;,&quot;首先看一篇文章来了解一下[Extendible Hashing (Dynamic approach to DBMS)](https://www.geeksforgeeks.org/extendible-hashing-dynamic-approach-to-dbms/)&quot;,536871168]],[&quot;^17&quot;,[2290,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2290,&quot;^F&quot;,4499,536896789]],[&quot;^17&quot;,[2290,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2290,&quot;^W&quot;,100,536871168]],[&quot;^17&quot;,[2290,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2290,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2290,&quot;^;&quot;,&quot;~u62d3582b-bddd-46fd-a263-f7bbee3b321c&quot;,536871168]],[&quot;^17&quot;,[2291,&quot;^R&quot;,&quot;&quot;,536871168]],[&quot;^17&quot;,[2291,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2291,&quot;^F&quot;,2304,536871168]],[&quot;^17&quot;,[2291,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2291,&quot;^W&quot;,2292,536871168]],[&quot;^17&quot;,[2291,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2291,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2291,&quot;^;&quot;,&quot;~u62d3582b-10f1-4120-bab6-ab6ac0430ec4&quot;,536871168]],[&quot;^17&quot;,[2292,&quot;^R&quot;,&quot;## 注意点&quot;,536871168]],[&quot;^17&quot;,[2292,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2292,&quot;^X&quot;,2,536871168]],[&quot;^17&quot;,[2292,&quot;^F&quot;,2295,536871168]],[&quot;^17&quot;,[2292,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2292,&quot;^W&quot;,100,536871168]],[&quot;^17&quot;,[2292,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2292,&quot;^1&gt;&quot;,2,536871168]],[&quot;^17&quot;,[2292,&quot;^Y&quot;,&quot;^1?&quot;,536871168]],[&quot;^17&quot;,[2292,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2292,&quot;^;&quot;,&quot;~u62d3582b-09b1-43ca-affa-033ee7967cf5&quot;,536871168]],[&quot;^17&quot;,[2293,&quot;^R&quot;,&quot;模拟一下运行过程吧:&quot;,536871168]],[&quot;^17&quot;,[2293,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2293,&quot;^F&quot;,2297,536871168]],[&quot;^17&quot;,[2293,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2293,&quot;^W&quot;,2295,536871168]],[&quot;^17&quot;,[2293,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2293,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2293,&quot;^;&quot;,&quot;~u62d3582b-f948-421e-979c-ac17a6b1befe&quot;,536871168]],[&quot;^17&quot;,[2294,&quot;^R&quot;,&quot;插入时，若bucket有空间，则直接插入；否则，先分裂bucket，再插入。比如此图，插入时需要将`global_depth`也增大，先将新增项指向原有页，再分裂bucket\\n![image.png](../assets/image_1655976693463_0.png)&quot;,536871168]],[&quot;^17&quot;,[2294,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2294,&quot;^F&quot;,2296,536871168]],[&quot;^17&quot;,[2294,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2294,&quot;^W&quot;,2293,536871168]],[&quot;^17&quot;,[2294,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2294,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2294,&quot;^;&quot;,&quot;~u62d3582b-9dc3-40d4-8e78-48c248b4d75c&quot;,536871168]],[&quot;^17&quot;,[2295,&quot;^R&quot;,&quot;## 可拓展hash运行过程&quot;,536871168]],[&quot;^17&quot;,[2295,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2295,&quot;^X&quot;,2,536871168]],[&quot;^17&quot;,[2295,&quot;^F&quot;,2290,536871168]],[&quot;^17&quot;,[2295,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2295,&quot;^W&quot;,100,536871168]],[&quot;^17&quot;,[2295,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2295,&quot;^1&gt;&quot;,2,536871168]],[&quot;^17&quot;,[2295,&quot;^Y&quot;,&quot;^1?&quot;,536871168]],[&quot;^17&quot;,[2295,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2295,&quot;^;&quot;,&quot;~u62d3582b-1b41-4826-830a-8f7d91d7f2fe&quot;,536871168]],[&quot;^17&quot;,[2296,&quot;^R&quot;,&quot;初始状态，如图：初始`global_depth`为几都行\\n![image.png](../assets/image_1655976543951_0.png)&quot;,536871168]],[&quot;^17&quot;,[2296,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2296,&quot;^F&quot;,2293,536871168]],[&quot;^17&quot;,[2296,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2296,&quot;^W&quot;,2293,536871168]],[&quot;^17&quot;,[2296,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2296,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2296,&quot;^;&quot;,&quot;~u62d3582b-7c66-4020-a066-da62ecf226cb&quot;,536871168]],[&quot;^17&quot;,[2297,&quot;^R&quot;,&quot;首先，我们要明确一些概念:&quot;,536871168]],[&quot;^17&quot;,[2297,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2297,&quot;^F&quot;,2288,536871168]],[&quot;^17&quot;,[2297,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2297,&quot;^W&quot;,2295,536871168]],[&quot;^17&quot;,[2297,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2297,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2297,&quot;^;&quot;,&quot;~u62d3582b-6625-4d7e-929a-b1e23d1c94a0&quot;,536871168]],[&quot;^17&quot;,[2298,&quot;^R&quot;,&quot;那么这个逻辑页个数就和 `global_depth_`息息相关了， `2^global_depth_` 就是逻辑页的个数&quot;,536871168]],[&quot;^17&quot;,[2298,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2298,&quot;^F&quot;,2285,536871168]],[&quot;^17&quot;,[2298,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2298,&quot;^W&quot;,2297,536871168]],[&quot;^17&quot;,[2298,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2298,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2298,&quot;^;&quot;,&quot;~u62d3582b-505f-4001-851c-9edd7028a037&quot;,536871168]],[&quot;^17&quot;,[2299,&quot;^R&quot;,&quot;~`GetLocalHighBit()` 用于取这个最高位&quot;,536871168]],[&quot;^17&quot;,[2299,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2299,&quot;^F&quot;,2287,536871168]],[&quot;^17&quot;,[2299,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2299,&quot;^W&quot;,2302,536871168]],[&quot;^17&quot;,[2299,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2299,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2299,&quot;^;&quot;,&quot;~u62d3582b-cf01-483a-bd27-200a67a45f4d&quot;,536871168]],[&quot;^17&quot;,[2300,&quot;^R&quot;,&quot;而`local_depths_`中存放的是什么呢？如图，这个局部深度与物理页中hash得到值实际使用长度有关，`000`与`100`两个不同的hash值，因为`local_depth` 为 2 ，所以存放在同一个物理页中 \\n![image.png](../assets/image_1655976010835_0.png)&quot;,536871168]],[&quot;^17&quot;,[2300,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2300,&quot;^F&quot;,2298,536871168]],[&quot;^17&quot;,[2300,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2300,&quot;^W&quot;,2297,536871168]],[&quot;^17&quot;,[2300,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2300,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2300,&quot;^;&quot;,&quot;~u62d3582b-b8c3-49f0-9cf9-e211b3c87ea2&quot;,536871168]],[&quot;^17&quot;,[2301,&quot;^R&quot;,&quot;Logic Hash Bucket 与 Physical Hash Bucket: 逻辑hash框就是`DirectoryHashTablePage` 中存放 page_ids 的数组，而物理hash框就是实际存在的物理页(`BucketHashTablePage`)\\n![image.png](../assets/image_1655975746627_0.png)&quot;,536871168]],[&quot;^17&quot;,[2301,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2301,&quot;^F&quot;,2297,536871168]],[&quot;^17&quot;,[2301,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2301,&quot;^W&quot;,2297,536871168]],[&quot;^17&quot;,[2301,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2301,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2301,&quot;^;&quot;,&quot;~u62d3582b-8f2f-4ab4-9659-f152aec557ff&quot;,536871168]],[&quot;^17&quot;,[2302,&quot;^R&quot;,&quot;关于分裂，我要讲一下实现细节。`HashTableDirectoryPage`中有两个方法与分裂关系很大，当然你不用也行。我看了函数注释，说实话没看懂它要做什么。询问了群友，看了看上面那篇文章，终于明白了。我的理解是：&quot;,536871168]],[&quot;^17&quot;,[2302,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2302,&quot;^F&quot;,2294,536871168]],[&quot;^17&quot;,[2302,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2302,&quot;^W&quot;,2293,536871168]],[&quot;^17&quot;,[2302,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2302,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2302,&quot;^;&quot;,&quot;~u62d3582b-c3e0-44f8-b33d-a49e06bc2197&quot;,536871168]],[&quot;^17&quot;,[2303,&quot;^R&quot;,&quot;什么时候`Physical Hash Bucket`对应的`local_depth`增大，什么时候`Logic Hash Bucket`数翻倍(其实也是`global_depth + 1`)?\\n当物理页满且需要分裂时，`local_depth`增大；增大时，若此时`local_depth == global_depth` 先将 `global_depth`增大&quot;,536871168]],[&quot;^17&quot;,[2303,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2303,&quot;^F&quot;,2300,536871168]],[&quot;^17&quot;,[2303,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2303,&quot;^W&quot;,2297,536871168]],[&quot;^17&quot;,[2303,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2303,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2303,&quot;^;&quot;,&quot;~u62d3582b-9962-425f-b54c-da3240776be6&quot;,536871168]],[&quot;^17&quot;,[2304,&quot;^R&quot;,&quot;每次insert，remove结束，不仅要 Unpin() `bucket page`， 也要 `Unpin dir_page`&quot;,536871168]],[&quot;^17&quot;,[2304,&quot;^P&quot;,&quot;^19&quot;,536871168]],[&quot;^17&quot;,[2304,&quot;^F&quot;,2292,536871168]],[&quot;^17&quot;,[2304,&quot;^Z&quot;,100,536871168]],[&quot;^17&quot;,[2304,&quot;^W&quot;,2292,536871168]],[&quot;^17&quot;,[2304,&quot;^V&quot;,100,536871168]],[&quot;^17&quot;,[2304,&quot;^1@&quot;,true,536871168]],[&quot;^17&quot;,[2304,&quot;^;&quot;,&quot;~u62d3582b-6829-4997-8bef-fc43cc556c23&quot;,536871168]],[&quot;^17&quot;,[2321,&quot;^R&quot;,&quot;Parent Matrix\\n\\n```java \\n/**\\n\\t * Parent Matrix\\n     * (Boolean value in cell answers can `left` be the parent of `top`?)\\n     *\\n     *     | NL  | IS  | IX  |  S  | SIX |  X\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * NL  |  T  |  F  |  F  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * IS  |  T  |  T  |  F  |  T  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * IX  |  T  |  T  |  T  |  T  |  T  |  T\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * S   |  T  |  F  |  F  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * SIX |  T  |  F  |  T  |  F  |  T  |  T\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * X   |  T  |  F  |  F  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n*/\\n```&quot;,536871172]],[&quot;^17&quot;,[2321,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2321,&quot;^F&quot;,2326,536871172]],[&quot;^17&quot;,[2321,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2321,&quot;^W&quot;,2329,536871172]],[&quot;^17&quot;,[2321,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2321,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2321,&quot;^;&quot;,&quot;~u62d3582b-1637-4d72-ae44-c9d1f500dc21&quot;,536871172]],[&quot;^17&quot;,[2322,&quot;^R&quot;,&quot;Substitutability Matrix\\n\\n``` java\\n     * Substitutability Matrix\\n     * (Values along left are `substitute`, values along top are `required`)\\n     *\\n     *     | NL  | IS  | IX  |  S  | SIX |  X\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * NL  |  T  |  F  |  F  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * IS  |  T  |  T  |  F  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * IX  |  T  |  T  |  T  |  F  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * S   |  T  |  T  |  F  |  T  |  F  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * SIX |  T  |  T  |  T  |  T  |  T  |  F\\n     * ----+-----+-----+-----+-----+-----+-----\\n     * X   |  T  |  T  |  T  |  T  |  T  |  T\\n     * ----+-----+-----+-----+-----+-----+-----\\n\\n```&quot;,536871172]],[&quot;^17&quot;,[2322,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2322,&quot;^F&quot;,2321,536871172]],[&quot;^17&quot;,[2322,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2322,&quot;^W&quot;,2329,536871172]],[&quot;^17&quot;,[2322,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2322,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2322,&quot;^;&quot;,&quot;~u62d3582b-d05f-4a2f-b191-88c5a17ca1b8&quot;,536871172]],[&quot;^17&quot;,[2323,&quot;^R&quot;,&quot;~`LockManager` 负责管理所有锁，但它将所有锁都单独处理&quot;,536871172]],[&quot;^17&quot;,[2323,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2323,&quot;^F&quot;,2328,536871172]],[&quot;^17&quot;,[2323,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2323,&quot;^W&quot;,2337,536871172]],[&quot;^17&quot;,[2323,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2323,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2323,&quot;^;&quot;,&quot;~u62d3582b-97fb-42bc-b6fd-71d5975400d0&quot;,536871172]],[&quot;^17&quot;,[2324,&quot;^R&quot;,&quot;首先我们必须要关注`Lock`类，它包含三个实例变量，分别表示锁对应资源名，锁类型，以及拥有锁的事务编号.&quot;,536871172]],[&quot;^17&quot;,[2324,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2324,&quot;^F&quot;,2334,536871172]],[&quot;^17&quot;,[2324,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2324,&quot;^W&quot;,2334,536871172]],[&quot;^17&quot;,[2324,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2324,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2324,&quot;^;&quot;,&quot;~u62d3582b-f3eb-4879-b6cd-f063f1102eb7&quot;,536871172]],[&quot;^17&quot;,[2325,&quot;^R&quot;,&quot;~`ResourceEntry`子类中，授予锁更新锁释放锁，都需要对`transactionLocks`进行更新&quot;,536871172]],[&quot;^17&quot;,[2325,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2325,&quot;^F&quot;,2341,536871172]],[&quot;^17&quot;,[2325,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2325,&quot;^W&quot;,2341,536871172]],[&quot;^17&quot;,[2325,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2325,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2325,&quot;^;&quot;,&quot;~u62d3582b-1812-4160-9b91-41ecf8e519c4&quot;,536871172]],[&quot;^17&quot;,[2326,&quot;^R&quot;,&quot;Compatibility Matrix\\n![image.png](../assets/image_1653461284859_0.png)&quot;,536871172]],[&quot;^17&quot;,[2326,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2326,&quot;^F&quot;,2329,536871172]],[&quot;^17&quot;,[2326,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2326,&quot;^W&quot;,2329,536871172]],[&quot;^17&quot;,[2326,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2326,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2326,&quot;^;&quot;,&quot;~u62d3582b-1e3f-4903-aee9-31c78162188a&quot;,536871172]],[&quot;^17&quot;,[2327,&quot;^R&quot;,&quot;~`LockContext` 是中间层，赋予了锁层次关系。`LockManager`对象都共享一个单独的`LockManager`对象， 每个锁环境都对其方法有多粒度限制&quot;,536871172]],[&quot;^17&quot;,[2327,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2327,&quot;^F&quot;,2323,536871172]],[&quot;^17&quot;,[2327,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2327,&quot;^W&quot;,2337,536871172]],[&quot;^17&quot;,[2327,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2327,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2327,&quot;^;&quot;,&quot;~u62d3582b-d0f5-498b-afcd-533e6ea7de27&quot;,536871172]],[&quot;^17&quot;,[2328,&quot;^R&quot;,&quot;rookieDB 构建锁用了三层结构\\n![image.png](../assets/image_1653451832679_0.png)&quot;,536871172]],[&quot;^17&quot;,[2328,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2328,&quot;^F&quot;,2337,536871172]],[&quot;^17&quot;,[2328,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2328,&quot;^W&quot;,2337,536871172]],[&quot;^17&quot;,[2328,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2328,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2328,&quot;^;&quot;,&quot;~u62d3582b-b916-4bb3-a9a7-552e9ea32b9d&quot;,536871172]],[&quot;^17&quot;,[2329,&quot;^R&quot;,&quot;## Task 1: Lock Tpye&quot;,536871172]],[&quot;^17&quot;,[2329,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2329,&quot;^X&quot;,2,536871172]],[&quot;^17&quot;,[2329,&quot;^F&quot;,2345,536871172]],[&quot;^17&quot;,[2329,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2329,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2329,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2329,&quot;^1&gt;&quot;,2,536871172]],[&quot;^17&quot;,[2329,&quot;^Y&quot;,&quot;^1?&quot;,536871172]],[&quot;^17&quot;,[2329,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2329,&quot;^;&quot;,&quot;~u62d3582b-ee1e-4f71-8efb-26fe9b6dcece&quot;,536871172]],[&quot;^17&quot;,[2330,&quot;^R&quot;,&quot;不要使用`resourceEntries.get(name)` ，用以封装的`getResourceEntry()` 方法。我这么做导致对`Entry`操作变成对`null`操作，出现错误&quot;,536871172]],[&quot;^17&quot;,[2330,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2330,&quot;^F&quot;,2325,536871172]],[&quot;^17&quot;,[2330,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2330,&quot;^W&quot;,2341,536871172]],[&quot;^17&quot;,[2330,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2330,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2330,&quot;^;&quot;,&quot;~u62d3582b-bb25-41a4-bc71-cc68a3519b10&quot;,536871172]],[&quot;^17&quot;,[2331,&quot;^R&quot;,&quot;&quot;,536871172]],[&quot;^17&quot;,[2331,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2331,&quot;^F&quot;,2344,536871172]],[&quot;^17&quot;,[2331,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2331,&quot;^W&quot;,2343,536871172]],[&quot;^17&quot;,[2331,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2331,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2331,&quot;^;&quot;,&quot;~u62d3582b-4fc0-4e86-8ac3-dafdf6a70530&quot;,536871172]],[&quot;^17&quot;,[2332,&quot;^R&quot;,&quot;&quot;,536871172]],[&quot;^17&quot;,[2332,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2332,&quot;^F&quot;,2330,536871172]],[&quot;^17&quot;,[2332,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2332,&quot;^W&quot;,2341,536871172]],[&quot;^17&quot;,[2332,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2332,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2332,&quot;^;&quot;,&quot;~u62d3582b-e1fa-418d-b745-e6fd6c776ba5&quot;,536871172]],[&quot;^17&quot;,[2333,&quot;^R&quot;,&quot;~`ResourceName` 存储一个`names`链表，将资源名安按层次存储比如`database`数据库的`someTable`表，存储为`[\\&quot;database\\&quot;, \\&quot;someTable\\&quot;]`&quot;,536871172]],[&quot;^17&quot;,[2333,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2333,&quot;^F&quot;,2350,536871172]],[&quot;^17&quot;,[2333,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2333,&quot;^W&quot;,2345,536871172]],[&quot;^17&quot;,[2333,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2333,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2333,&quot;^;&quot;,&quot;~u62d3582b-a172-4ce1-a82f-383a8935f5b7&quot;,536871172]],[&quot;^17&quot;,[2334,&quot;^R&quot;,&quot;## Task 2: LockManager&quot;,536871172]],[&quot;^17&quot;,[2334,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2334,&quot;^X&quot;,2,536871172]],[&quot;^17&quot;,[2334,&quot;^F&quot;,2329,536871172]],[&quot;^17&quot;,[2334,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2334,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2334,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2334,&quot;^1&gt;&quot;,2,536871172]],[&quot;^17&quot;,[2334,&quot;^Y&quot;,&quot;^1?&quot;,536871172]],[&quot;^17&quot;,[2334,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2334,&quot;^;&quot;,&quot;~u62d3582b-6fc4-48b4-a0e3-fa1df009b78d&quot;,536871172]],[&quot;^17&quot;,[2335,&quot;^R&quot;,&quot;&quot;,536871172]],[&quot;^17&quot;,[2335,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2335,&quot;^F&quot;,2349,536871172]],[&quot;^17&quot;,[2335,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2335,&quot;^W&quot;,2349,536871172]],[&quot;^17&quot;,[2335,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2335,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2335,&quot;^;&quot;,&quot;~u62d3582b-78de-4017-aa2a-c474dbf7b154&quot;,536871172]],[&quot;^17&quot;,[2336,&quot;^R&quot;,&quot;#concurrency&quot;,536871172]],[&quot;^17&quot;,[2336,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2336,&quot;^F&quot;,4478,536896647]],[&quot;^17&quot;,[2336,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2336,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2336,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2336,&quot;^V&quot;,2320,536871172]],[&quot;^17&quot;,[2336,&quot;^H&quot;,2320,536871172]],[&quot;^17&quot;,[2336,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2336,&quot;^;&quot;,&quot;~u62d3582b-5528-49bc-b2c6-143477b1b685&quot;,536871172]],[&quot;^17&quot;,[2337,&quot;^R&quot;,&quot;## Skeleton Code&quot;,536871172]],[&quot;^17&quot;,[2337,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2337,&quot;^X&quot;,2,536871172]],[&quot;^17&quot;,[2337,&quot;^F&quot;,2336,536871172]],[&quot;^17&quot;,[2337,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2337,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2337,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2337,&quot;^1&gt;&quot;,2,536871172]],[&quot;^17&quot;,[2337,&quot;^Y&quot;,&quot;^1?&quot;,536871172]],[&quot;^17&quot;,[2337,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2337,&quot;^;&quot;,&quot;~u62d3582b-d29c-4e0b-91a9-8038815d3a37&quot;,536871172]],[&quot;^17&quot;,[2338,&quot;^R&quot;,&quot;~`LockManager`: 有三个map，一个是事务与其持有锁链表的映射，另一个是资源名与其`ResourseEntry`（包含授予`Lock`的链表和`LockRequest`队列）的映射。最后还有一个`contexts`Map。类中的方法，等到实现时候再细说&quot;,536871172]],[&quot;^17&quot;,[2338,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2338,&quot;^F&quot;,2345,536871172]],[&quot;^17&quot;,[2338,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2338,&quot;^W&quot;,2345,536871172]],[&quot;^17&quot;,[2338,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2338,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2338,&quot;^;&quot;,&quot;~u62d3582b-7036-4f27-ac08-d0cc0ea26b3e&quot;,536871172]],[&quot;^17&quot;,[2339,&quot;^R&quot;,&quot;文件结构\\n``` \\n|-- concurrency\\n\\t|-- DummyLockContext\\n    |-- DummyLockManager\\n    |-- DuplicateLockRequestException\\n    |-- InvalidLockException\\n    |-- Lock\\n    |-- LockContext\\n    |-- LockManager\\n    |-- LockRequest\\n    |-- LockType\\n    |-- LockUtil\\n    |-- NoLockHeldException\\n    |-- ResourceName\\n    \\n```&quot;,536871172]],[&quot;^17&quot;,[2339,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2339,&quot;^F&quot;,2337,536871172]],[&quot;^17&quot;,[2339,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2339,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2339,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2339,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2339,&quot;^;&quot;,&quot;~u62d3582b-9c6f-4701-a8b7-448384f11fe6&quot;,536871172]],[&quot;^17&quot;,[2340,&quot;^R&quot;,&quot;~`LockRequest` ：包含着请求锁的事务，请求的锁，以及当事务停止阻塞是要释放的锁链表&quot;,536871172]],[&quot;^17&quot;,[2340,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2340,&quot;^F&quot;,2348,536871172]],[&quot;^17&quot;,[2340,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2340,&quot;^W&quot;,2345,536871172]],[&quot;^17&quot;,[2340,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2340,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2340,&quot;^;&quot;,&quot;~u62d3582b-047d-431d-9c04-e275a1777c82&quot;,536871172]],[&quot;^17&quot;,[2341,&quot;^R&quot;,&quot;注意点：&quot;,536871172]],[&quot;^17&quot;,[2341,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2341,&quot;^F&quot;,2324,536871172]],[&quot;^17&quot;,[2341,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2341,&quot;^W&quot;,2334,536871172]],[&quot;^17&quot;,[2341,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2341,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2341,&quot;^;&quot;,&quot;~u62d3582b-44b6-4510-b992-e7366a13c851&quot;,536871172]],[&quot;^17&quot;,[2342,&quot;^R&quot;,&quot;&quot;,536871172]],[&quot;^17&quot;,[2342,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2342,&quot;^F&quot;,2349,536871172]],[&quot;^17&quot;,[2342,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2342,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2342,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2342,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2342,&quot;^;&quot;,&quot;~u62d3582b-8228-4f24-9d85-289cf7a6f0e8&quot;,536871172]],[&quot;^17&quot;,[2343,&quot;^R&quot;,&quot;## Task 3: LockContext&quot;,536871172]],[&quot;^17&quot;,[2343,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2343,&quot;^X&quot;,2,536871172]],[&quot;^17&quot;,[2343,&quot;^F&quot;,2334,536871172]],[&quot;^17&quot;,[2343,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2343,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2343,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2343,&quot;^1&gt;&quot;,2,536871172]],[&quot;^17&quot;,[2343,&quot;^Y&quot;,&quot;^1?&quot;,536871172]],[&quot;^17&quot;,[2343,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2343,&quot;^;&quot;,&quot;~u62d3582b-e76d-4ba4-95b4-ae52ca69fb27&quot;,536871172]],[&quot;^17&quot;,[2344,&quot;^R&quot;,&quot;例如：call `tableContext.escalate(transaction)` ,页层级的锁都升级到了表层级\\n![image.png](../assets/image_1653621265280_0.png)&quot;,536871172]],[&quot;^17&quot;,[2344,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2344,&quot;^F&quot;,2346,536871172]],[&quot;^17&quot;,[2344,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2344,&quot;^W&quot;,2343,536871172]],[&quot;^17&quot;,[2344,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2344,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2344,&quot;^;&quot;,&quot;~u62d3582b-9d54-4aad-813f-11f0af113210&quot;,536871172]],[&quot;^17&quot;,[2345,&quot;^R&quot;,&quot;傀儡类是没有实现真正类时的替代品，我们重点来看以下几个类的实现&quot;,536871172]],[&quot;^17&quot;,[2345,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2345,&quot;^F&quot;,2339,536871172]],[&quot;^17&quot;,[2345,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2345,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2345,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2345,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2345,&quot;^;&quot;,&quot;~u62d3582b-f616-4871-afea-470470a62810&quot;,536871172]],[&quot;^17&quot;,[2346,&quot;^R&quot;,&quot;关于`escalate` 和`promote`的区别：Lock escalate 是同一锁层级中有太多的细粒度锁(fine-granularity)锁，为了恢复被锁占用的大量资源，将多个锁升级为更高级别的粗粒度锁(coarse-granularity); Lock promotion 是在同一个资源上，将锁变为一个更严格的锁的操作，由同一个事务持有&quot;,536871172]],[&quot;^17&quot;,[2346,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2346,&quot;^F&quot;,2343,536871172]],[&quot;^17&quot;,[2346,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2346,&quot;^W&quot;,2343,536871172]],[&quot;^17&quot;,[2346,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2346,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2346,&quot;^;&quot;,&quot;~u62d3582b-ebab-425e-9dd6-e4edfa0fe70d&quot;,536871172]],[&quot;^17&quot;,[2347,&quot;^R&quot;,&quot;~`LockUtil` 表示申请释放锁的方法&quot;,536871172]],[&quot;^17&quot;,[2347,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2347,&quot;^F&quot;,2327,536871172]],[&quot;^17&quot;,[2347,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2347,&quot;^W&quot;,2337,536871172]],[&quot;^17&quot;,[2347,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2347,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2347,&quot;^;&quot;,&quot;~u62d3582b-d5d9-4768-a9c2-137acb1faa8c&quot;,536871172]],[&quot;^17&quot;,[2348,&quot;^R&quot;,&quot;~`LockContext`&quot;,536871172]],[&quot;^17&quot;,[2348,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2348,&quot;^F&quot;,2338,536871172]],[&quot;^17&quot;,[2348,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2348,&quot;^W&quot;,2345,536871172]],[&quot;^17&quot;,[2348,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2348,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2348,&quot;^;&quot;,&quot;~u62d3582b-38da-4657-89be-012cb40d82e6&quot;,536871172]],[&quot;^17&quot;,[2349,&quot;^R&quot;,&quot;## Task 4: LockUtil&quot;,536871172]],[&quot;^17&quot;,[2349,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2349,&quot;^X&quot;,2,536871172]],[&quot;^17&quot;,[2349,&quot;^F&quot;,2343,536871172]],[&quot;^17&quot;,[2349,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2349,&quot;^W&quot;,160,536871172]],[&quot;^17&quot;,[2349,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2349,&quot;^1&gt;&quot;,2,536871172]],[&quot;^17&quot;,[2349,&quot;^Y&quot;,&quot;^1?&quot;,536871172]],[&quot;^17&quot;,[2349,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2349,&quot;^;&quot;,&quot;~u62d3582b-e562-4bd5-bbc7-b49666ad2e0f&quot;,536871172]],[&quot;^17&quot;,[2350,&quot;^R&quot;,&quot;~`LockType`: 就是S, X, IX, IS, SIX, NL(没有持有锁 )&quot;,536871172]],[&quot;^17&quot;,[2350,&quot;^P&quot;,&quot;^19&quot;,536871172]],[&quot;^17&quot;,[2350,&quot;^F&quot;,2340,536871172]],[&quot;^17&quot;,[2350,&quot;^Z&quot;,160,536871172]],[&quot;^17&quot;,[2350,&quot;^W&quot;,2345,536871172]],[&quot;^17&quot;,[2350,&quot;^V&quot;,160,536871172]],[&quot;^17&quot;,[2350,&quot;^1@&quot;,true,536871172]],[&quot;^17&quot;,[2350,&quot;^;&quot;,&quot;~u62d3582b-31dd-4775-9038-609f6b869560&quot;,536871172]],[&quot;^17&quot;,[2352,&quot;^R&quot;,&quot;Disk Space Manager：不能直接使用 disk space manager(records 子类中有相关方法)，disk space manager 对申请页负责， 我们的 disk space manager 将 pages 分成 partitions。 例如 Page 40000000001 是第一个页，再partition 4， partition 被显示的申请和释放， partition 0 被保留用来存 log。 每个其他的partition 是一个表或者一个序列化的 B+ tree 对象&quot;,536871174]],[&quot;^17&quot;,[2352,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2352,&quot;^F&quot;,2445,536871174]],[&quot;^17&quot;,[2352,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2352,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2352,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2352,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2352,&quot;^;&quot;,&quot;~u62d3582b-6c6c-4d26-b636-a67120305726&quot;,536871174]],[&quot;^17&quot;,[2353,&quot;^R&quot;,&quot;回顾lecture，SQL中使用 savepoints 来允许部分回滚:`SAVEPOINT pomelo` 创建一个名为柚子的保存点，允许用户回滚到保存点，通过`ROLLBACK TO SAVEPOINT pomelo` 这个保存点可以使用`RELEASE SAVEPOINT pomelo`删除&quot;,536871174]],[&quot;^17&quot;,[2353,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2353,&quot;^F&quot;,2395,536871174]],[&quot;^17&quot;,[2353,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2353,&quot;^W&quot;,2395,536871174]],[&quot;^17&quot;,[2353,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2353,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2353,&quot;^;&quot;,&quot;~u62d3582b-db29-4659-9145-90c5d2d876a2&quot;,536871174]],[&quot;^17&quot;,[2354,&quot;^R&quot;,&quot;### Task5: Analysis&quot;,536871174]],[&quot;^17&quot;,[2354,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2354,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2354,&quot;^F&quot;,2360,536871174]],[&quot;^17&quot;,[2354,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2354,&quot;^W&quot;,2371,536871174]],[&quot;^17&quot;,[2354,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2354,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2354,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2354,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2354,&quot;^;&quot;,&quot;~u62d3582b-084a-45e9-9b66-4ae59defd8e8&quot;,536871174]],[&quot;^17&quot;,[2355,&quot;^R&quot;,&quot;lastLSN应该被更新&quot;,536871174]],[&quot;^17&quot;,[2355,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2355,&quot;^F&quot;,2375,536871174]],[&quot;^17&quot;,[2355,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2355,&quot;^W&quot;,2364,536871174]],[&quot;^17&quot;,[2355,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2355,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2355,&quot;^;&quot;,&quot;~u62d3582b-e48f-44af-b4f6-cf92621ff398&quot;,536871174]],[&quot;^17&quot;,[2356,&quot;^R&quot;,&quot;最后我们必须重写master record的LSN，改为新的成功检测点&quot;,536871174]],[&quot;^17&quot;,[2356,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2356,&quot;^F&quot;,2361,536871174]],[&quot;^17&quot;,[2356,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2356,&quot;^W&quot;,2382,536871174]],[&quot;^17&quot;,[2356,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2356,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2356,&quot;^;&quot;,&quot;~u62d3582b-c589-48fc-8d0b-3c424b5a2ae8&quot;,536871174]],[&quot;^17&quot;,[2357,&quot;^R&quot;,&quot;WAL 让我们实现保存点，恢复管理器有三个方法于保存点有关，分别对应三种SQL保存点状态，遵循相应的SQL语义&quot;,536871174]],[&quot;^17&quot;,[2357,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2357,&quot;^F&quot;,2353,536871174]],[&quot;^17&quot;,[2357,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2357,&quot;^W&quot;,2395,536871174]],[&quot;^17&quot;,[2357,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2357,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2357,&quot;^;&quot;,&quot;~u62d3582b-c71b-4f40-b351-a09492c56df5&quot;,536871174]],[&quot;^17&quot;,[2358,&quot;^R&quot;,&quot;### Task1： Transaction status\\nrecovery manager 在前进过程的部分工作是维持事务的运行状态，并且在事务状态改变时记录日志。这个恢复管理器会注意事务状态变化通过三个方法&quot;,536871174]],[&quot;^17&quot;,[2358,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2358,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2358,&quot;^F&quot;,2430,536871174]],[&quot;^17&quot;,[2358,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2358,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2358,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2358,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2358,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2358,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2358,&quot;^;&quot;,&quot;~u62d3582b-6393-4cb1-9b38-1c79e835ee21&quot;,536871174]],[&quot;^17&quot;,[2359,&quot;^R&quot;,&quot;~`Transaction#setStatus`&quot;,536871174]],[&quot;^17&quot;,[2359,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2359,&quot;^F&quot;,2414,536871174]],[&quot;^17&quot;,[2359,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2359,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2359,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2359,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2359,&quot;^;&quot;,&quot;~u62d3582b-ceb4-41c0-ac77-15c2c68e977e&quot;,536871174]],[&quot;^17&quot;,[2360,&quot;^R&quot;,&quot;除了三个阶段,`restart` 方法做两件事&quot;,536871174]],[&quot;^17&quot;,[2360,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2360,&quot;^F&quot;,2397,536871174]],[&quot;^17&quot;,[2360,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2360,&quot;^W&quot;,2371,536871174]],[&quot;^17&quot;,[2360,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2360,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2360,&quot;^;&quot;,&quot;~u62d3582b-1236-40df-932d-5a38416bde69&quot;,536871174]],[&quot;^17&quot;,[2361,&quot;^R&quot;,&quot;如果表都是空，只要记录一条 `end checkpoint`; 否则要写多条。这个过程如下：&quot;,536871174]],[&quot;^17&quot;,[2361,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2361,&quot;^F&quot;,2370,536871174]],[&quot;^17&quot;,[2361,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2361,&quot;^W&quot;,2382,536871174]],[&quot;^17&quot;,[2361,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2361,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2361,&quot;^;&quot;,&quot;~u62d3582b-6d7e-47da-87f3-d8dd8a79545c&quot;,536871174]],[&quot;^17&quot;,[2362,&quot;^R&quot;,&quot;你啥也不用做当碰到`AllocPage/UndoFreePage`。\\n如果你对如何如何将释放页面之前的数据恢复好奇，那么可以通过更新log record 从[old data]-&gt;[zeros]。再undo阶段后会[zeros]-&gt;[old data]&quot;,536871174]],[&quot;^17&quot;,[2362,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2362,&quot;^F&quot;,2415,536871174]],[&quot;^17&quot;,[2362,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2362,&quot;^W&quot;,2380,536871174]],[&quot;^17&quot;,[2362,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2362,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2362,&quot;^;&quot;,&quot;~u62d3582b-d9c0-4845-8c94-4e50976f9234&quot;,536871174]],[&quot;^17&quot;,[2363,&quot;^R&quot;,&quot;~`LogManager#fetchLogRecord`&quot;,536871174]],[&quot;^17&quot;,[2363,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2363,&quot;^F&quot;,2420,536871174]],[&quot;^17&quot;,[2363,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2363,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2363,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2363,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2363,&quot;^;&quot;,&quot;~u62d3582b-eecb-4a3a-b3ac-401a4e17934c&quot;,536871174]],[&quot;^17&quot;,[2364,&quot;^R&quot;,&quot;~`Log Records for TXN Operations`: 这些记录与事务有关，我们需要更新事务表，每当我们遇到这种记录时。接下来情况适用于非空结果：&quot;,536871174]],[&quot;^17&quot;,[2364,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2364,&quot;^F&quot;,2410,536871174]],[&quot;^17&quot;,[2364,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2364,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2364,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2364,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2364,&quot;^;&quot;,&quot;~u62d3582b-722f-4b7f-bbba-3c5a685819be&quot;,536871174]],[&quot;^17&quot;,[2365,&quot;^R&quot;,&quot;~`End Transactions`: 事务表中事务应该有三个状态 `RUNNING`, `COMMITTING`, `RECOVERY_ABORTING`&quot;,536871174]],[&quot;^17&quot;,[2365,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2365,&quot;^F&quot;,2396,536871174]],[&quot;^17&quot;,[2365,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2365,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2365,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2365,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2365,&quot;^;&quot;,&quot;~u62d3582b-54f1-4ccd-a280-72b373d00c40&quot;,536871174]],[&quot;^17&quot;,[2366,&quot;^R&quot;,&quot;迭代`txn table`，复制状态和lastLSN，在必要时输出`end checkpoint`&quot;,536871174]],[&quot;^17&quot;,[2366,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2366,&quot;^F&quot;,2369,536871174]],[&quot;^17&quot;,[2366,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2366,&quot;^W&quot;,2361,536871174]],[&quot;^17&quot;,[2366,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2366,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2366,&quot;^;&quot;,&quot;~u62d3582b-633a-4ffa-a97b-caf071f31107&quot;,536871174]],[&quot;^17&quot;,[2367,&quot;^R&quot;,&quot;~`LogRecord#undo`&quot;,536871174]],[&quot;^17&quot;,[2367,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2367,&quot;^F&quot;,2398,536871174]],[&quot;^17&quot;,[2367,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2367,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2367,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2367,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2367,&quot;^;&quot;,&quot;~u62d3582b-6066-43c2-a502-d37f2450b853&quot;,536871174]],[&quot;^17&quot;,[2368,&quot;^R&quot;,&quot;这三个方法你都需要实现，你需要保持事务表ATT时刻更新，设置事务状态，并记录合适的record log 到log 中（查看`records/文件夹`）。在这个任务期间你要有**更新 lastLSN** 的习惯，无论你为哪一个事务操作增加log。这包括状态改变记录、更新记录、以及CLRs&quot;,536871174]],[&quot;^17&quot;,[2368,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2368,&quot;^F&quot;,2358,536871174]],[&quot;^17&quot;,[2368,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2368,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2368,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2368,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2368,&quot;^;&quot;,&quot;~u62d3582b-dc76-444b-afc3-1466a93574af&quot;,536871174]],[&quot;^17&quot;,[2369,&quot;^R&quot;,&quot;迭代 `dirtyPageTable` 复制记录。如果在任意点，复制当前记录会造成`end checkpoint`太大，那么应该在日志末端添加一个有DPT复制的记录&quot;,536871174]],[&quot;^17&quot;,[2369,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2369,&quot;^F&quot;,2361,536871174]],[&quot;^17&quot;,[2369,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2369,&quot;^W&quot;,2361,536871174]],[&quot;^17&quot;,[2369,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2369,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2369,&quot;^;&quot;,&quot;~u62d3582b-51f2-4089-9687-e9871cc30147&quot;,536871174]],[&quot;^17&quot;,[2370,&quot;^R&quot;,&quot;接下来，我们记录`end checkpoint`，考虑到有太多的DPT/Xact table条目，我们可能不得不打断`end checkpoint`&quot;,536871174]],[&quot;^17&quot;,[2370,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2370,&quot;^F&quot;,2404,536871174]],[&quot;^17&quot;,[2370,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2370,&quot;^W&quot;,2382,536871174]],[&quot;^17&quot;,[2370,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2370,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2370,&quot;^;&quot;,&quot;~u62d3582b-11e2-4a1e-8b15-a491c2215a0b&quot;,536871174]],[&quot;^17&quot;,[2371,&quot;^R&quot;,&quot;## Restart Recovery&quot;,536871174]],[&quot;^17&quot;,[2371,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2371,&quot;^X&quot;,2,536871174]],[&quot;^17&quot;,[2371,&quot;^F&quot;,2383,536871174]],[&quot;^17&quot;,[2371,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2371,&quot;^W&quot;,20,536871174]],[&quot;^17&quot;,[2371,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2371,&quot;^1&gt;&quot;,2,536871174]],[&quot;^17&quot;,[2371,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2371,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2371,&quot;^;&quot;,&quot;~u62d3582b-2b47-458d-8729-d991272012fd&quot;,536871174]],[&quot;^17&quot;,[2372,&quot;^R&quot;,&quot;你也需要实现：&quot;,536871174]],[&quot;^17&quot;,[2372,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2372,&quot;^F&quot;,2368,536871174]],[&quot;^17&quot;,[2372,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2372,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2372,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2372,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2372,&quot;^;&quot;,&quot;~u62d3582b-a26e-4be1-8d43-3ba24842fe25&quot;,536871174]],[&quot;^17&quot;,[2373,&quot;^R&quot;,&quot;调用 redo 在 CLR 上来实现undo效果&quot;,536871174]],[&quot;^17&quot;,[2373,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2373,&quot;^F&quot;,2436,536871174]],[&quot;^17&quot;,[2373,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2373,&quot;^W&quot;,2412,536871174]],[&quot;^17&quot;,[2373,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2373,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2373,&quot;^;&quot;,&quot;~u62d3582b-e16a-4eb3-a498-7b83b03e082a&quot;,536871174]],[&quot;^17&quot;,[2374,&quot;^R&quot;,&quot;当数据库被创建，在任何事务运行前，恢复管理器需要翔安初始化，被`ARIESRecoveryManager.java`的`initialize`完成。\\n我们先在log中写入一条 master log with LSN0. 为了简化重启恢复阶段的 analysis phase, 我们立刻记录了一个checkpoint,  记录一个 `begin` 和一个 `end checkpoint` 并更新master record&quot;,536871174]],[&quot;^17&quot;,[2374,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2374,&quot;^F&quot;,2408,536871174]],[&quot;^17&quot;,[2374,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2374,&quot;^W&quot;,2430,536871174]],[&quot;^17&quot;,[2374,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2374,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2374,&quot;^;&quot;,&quot;~u62d3582b-89fd-44c2-a2cf-d11f8f88f039&quot;,536871174]],[&quot;^17&quot;,[2375,&quot;^R&quot;,&quot;如果txn不在ATT，它应该被加入这个表--the `newTransaction` function object can be used to create a Transaction object, which can be passed to `startTransaction`&quot;,536871174]],[&quot;^17&quot;,[2375,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2375,&quot;^F&quot;,2364,536871174]],[&quot;^17&quot;,[2375,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2375,&quot;^W&quot;,2364,536871174]],[&quot;^17&quot;,[2375,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2375,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2375,&quot;^;&quot;,&quot;~u62d3582b-3072-4fdd-89bf-79a9ea259475&quot;,536871174]],[&quot;^17&quot;,[2376,&quot;^R&quot;,&quot;三种(CommitTransaction/AbortTransaction/EndTransaction) record 会改变事务的状态\\n当遇到三个之一时，ATT应该被更新。事务状态也应该被设置。\\n如果遇到`EndTransaction` record， 事务应该被移除 ATT，另外你需要将事务号加入 `endedTransactions`集合。&quot;,536871174]],[&quot;^17&quot;,[2376,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2376,&quot;^F&quot;,2411,536871174]],[&quot;^17&quot;,[2376,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2376,&quot;^W&quot;,2411,536871174]],[&quot;^17&quot;,[2376,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2376,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2376,&quot;^;&quot;,&quot;~u62d3582b-02da-4bc9-b989-b5e8a228b5e9&quot;,536871174]],[&quot;^17&quot;,[2377,&quot;^R&quot;,&quot;输出最终`end checkpoint`&quot;,536871174]],[&quot;^17&quot;,[2377,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2377,&quot;^F&quot;,2366,536871174]],[&quot;^17&quot;,[2377,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2377,&quot;^W&quot;,2361,536871174]],[&quot;^17&quot;,[2377,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2377,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2377,&quot;^;&quot;,&quot;~u62d3582b-3f26-4c51-b68d-de7e67ff9883&quot;,536871174]],[&quot;^17&quot;,[2378,&quot;^R&quot;,&quot;~`LogManager.java`: 提供了appending, fetching and flushing logs 的接口&quot;,536871174]],[&quot;^17&quot;,[2378,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2378,&quot;^F&quot;,2401,536871174]],[&quot;^17&quot;,[2378,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2378,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2378,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2378,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2378,&quot;^;&quot;,&quot;~u62d3582b-3b47-4892-aa27-b825e3b27264&quot;,536871174]],[&quot;^17&quot;,[2379,&quot;^R&quot;,&quot;~`rollbackToSavepoint` 回滚到指定保存点。保存点后所有改变都应该被undone，就和 `aborting` 一样除了事务状态不会改变. 与 `ROLLBACK TO SAVEPOINT` 对应&quot;,536871174]],[&quot;^17&quot;,[2379,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2379,&quot;^F&quot;,2409,536871174]],[&quot;^17&quot;,[2379,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2379,&quot;^W&quot;,2357,536871174]],[&quot;^17&quot;,[2379,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2379,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2379,&quot;^;&quot;,&quot;~u62d3582b-a597-4d63-808e-d5f8af43475c&quot;,536871174]],[&quot;^17&quot;,[2380,&quot;^R&quot;,&quot;~`Log Records for Page Operations`: DPT需要被更新当：&quot;,536871174]],[&quot;^17&quot;,[2380,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2380,&quot;^F&quot;,2364,536871174]],[&quot;^17&quot;,[2380,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2380,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2380,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2380,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2380,&quot;^;&quot;,&quot;~u62d3582b-30e9-42d2-87b4-b23e9449c3a5&quot;,536871174]],[&quot;^17&quot;,[2381,&quot;^R&quot;,&quot;获得一个 CLR 通过调用 `LogRecord.undo`&quot;,536871174]],[&quot;^17&quot;,[2381,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2381,&quot;^F&quot;,2412,536871174]],[&quot;^17&quot;,[2381,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2381,&quot;^W&quot;,2412,536871174]],[&quot;^17&quot;,[2381,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2381,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2381,&quot;^;&quot;,&quot;~u62d3582b-0796-45a2-8af4-7994f729d849&quot;,536871174]],[&quot;^17&quot;,[2382,&quot;^R&quot;,&quot;这个方法概述如下：注意部分实现已经完成，你只要负责写没有给代码的 `end checkpoint`部分&quot;,536871174]],[&quot;^17&quot;,[2382,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2382,&quot;^F&quot;,2435,536871174]],[&quot;^17&quot;,[2382,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2382,&quot;^W&quot;,2429,536871174]],[&quot;^17&quot;,[2382,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2382,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2382,&quot;^;&quot;,&quot;~u62d3582b-8377-4609-95e3-f9031defe8c3&quot;,536871174]],[&quot;^17&quot;,[2383,&quot;^R&quot;,&quot;## Forward Processing\\n当数据库在正常的运行阶段--事务正常运行，读写数据--recovery manager 在此时的工作是维持log 通过添加新的log记录，保证log被恰当地落盘当有必要时，未来我们能够在崩溃时保证恢复性。前向过程一部分已经为你完成了&quot;,536871174]],[&quot;^17&quot;,[2383,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2383,&quot;^X&quot;,2,536871174]],[&quot;^17&quot;,[2383,&quot;^F&quot;,2434,536871174]],[&quot;^17&quot;,[2383,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2383,&quot;^W&quot;,20,536871174]],[&quot;^17&quot;,[2383,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2383,&quot;^1&gt;&quot;,2,536871174]],[&quot;^17&quot;,[2383,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2383,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2383,&quot;^;&quot;,&quot;~u62d3582b-ceed-43d2-946e-572592514b70&quot;,536871174]],[&quot;^17&quot;,[2384,&quot;^R&quot;,&quot;注意：calling undo() 并没有正在实现undo，只是获得 CLR&quot;,536871174]],[&quot;^17&quot;,[2384,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2384,&quot;^F&quot;,2439,536871174]],[&quot;^17&quot;,[2384,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2384,&quot;^W&quot;,2387,536871174]],[&quot;^17&quot;,[2384,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2384,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2384,&quot;^;&quot;,&quot;~u62d3582b-d1d1-4575-885d-eacb093a6deb&quot;,536871174]],[&quot;^17&quot;,[2385,&quot;^R&quot;,&quot;事务的`lastLSN`再检查点应该被使用，如果它大于等于 ATT中的 `lastLSN`&quot;,536871174]],[&quot;^17&quot;,[2385,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2385,&quot;^F&quot;,2426,536871174]],[&quot;^17&quot;,[2385,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2385,&quot;^W&quot;,2446,536871174]],[&quot;^17&quot;,[2385,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2385,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2385,&quot;^;&quot;,&quot;~u62d3582b-bbe3-4531-8b87-9c801ec821eb&quot;,536871174]],[&quot;^17&quot;,[2386,&quot;^R&quot;,&quot;~`commit`：当事务试图进入 `COMMITTING`状态&quot;,536871174]],[&quot;^17&quot;,[2386,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2386,&quot;^F&quot;,2358,536871174]],[&quot;^17&quot;,[2386,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2386,&quot;^W&quot;,2358,536871174]],[&quot;^17&quot;,[2386,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2386,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2386,&quot;^;&quot;,&quot;~u62d3582b-ca0e-45ea-bec5-73a912667ddb&quot;,536871174]],[&quot;^17&quot;,[2387,&quot;^R&quot;,&quot;~`end` 实现：\\n当事务状态为`aborting`需要回滚；任何修改都需要 undone， txn 需要被移除 txn table， end record应该被记录， txn状态需要更新。\\n\\n辅助函数`rollbackLSN`， 从没有undone 的 most recent record 开始，到达一个确定的 LSN--这个LSN需要由`lastLSN`对应record取到最前面的LSN&quot;,536871174]],[&quot;^17&quot;,[2387,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2387,&quot;^F&quot;,2420,536871174]],[&quot;^17&quot;,[2387,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2387,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2387,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2387,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2387,&quot;^;&quot;,&quot;~u62d3582b-a1bd-4965-b06b-f476afb3ac8c&quot;,536871174]],[&quot;^17&quot;,[2388,&quot;^R&quot;,&quot;~`abort`: 当.....`ABORTING`&quot;,536871174]],[&quot;^17&quot;,[2388,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2388,&quot;^F&quot;,2386,536871174]],[&quot;^17&quot;,[2388,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2388,&quot;^W&quot;,2358,536871174]],[&quot;^17&quot;,[2388,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2388,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2388,&quot;^;&quot;,&quot;~u62d3582b-fe9a-49d4-899c-b2e6966d73b3&quot;,536871174]],[&quot;^17&quot;,[2389,&quot;^R&quot;,&quot;Functional objects in Java: 用来函数式对象。 就是函数式编程了，有点忘记了😥&quot;,536871174]],[&quot;^17&quot;,[2389,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2389,&quot;^F&quot;,2352,536871174]],[&quot;^17&quot;,[2389,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2389,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2389,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2389,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2389,&quot;^;&quot;,&quot;~u62d3582b-6cfd-4ba3-b504-8bc68af91832&quot;,536871174]],[&quot;^17&quot;,[2390,&quot;^R&quot;,&quot;**Master Method**: 开始分析阶段，需要获得master record，来确定restart开始的LSN&quot;,536871174]],[&quot;^17&quot;,[2390,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2390,&quot;^F&quot;,2354,536871174]],[&quot;^17&quot;,[2390,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2390,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2390,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2390,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2390,&quot;^;&quot;,&quot;~u62d3582b-4803-46d3-a5df-833c56ccd360&quot;,536871174]],[&quot;^17&quot;,[2391,&quot;^R&quot;,&quot;running -&gt; committing -&gt; complete&quot;,536871174]],[&quot;^17&quot;,[2391,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2391,&quot;^F&quot;,2396,536871174]],[&quot;^17&quot;,[2391,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2391,&quot;^W&quot;,2396,536871174]],[&quot;^17&quot;,[2391,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2391,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2391,&quot;^;&quot;,&quot;~u62d3582b-5e7e-4d33-9e54-f59f00a945ac&quot;,536871174]],[&quot;^17&quot;,[2392,&quot;^R&quot;,&quot;~`end`: 当....`COMPLETE`&quot;,536871174]],[&quot;^17&quot;,[2392,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2392,&quot;^F&quot;,2388,536871174]],[&quot;^17&quot;,[2392,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2392,&quot;^W&quot;,2358,536871174]],[&quot;^17&quot;,[2392,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2392,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2392,&quot;^;&quot;,&quot;~u62d3582b-0b7b-470d-b7ba-a2dcc1ed3853&quot;,536871174]],[&quot;^17&quot;,[2393,&quot;^R&quot;,&quot;~`LogManager#appendToLog`&quot;,536871174]],[&quot;^17&quot;,[2393,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2393,&quot;^F&quot;,2363,536871174]],[&quot;^17&quot;,[2393,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2393,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2393,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2393,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2393,&quot;^;&quot;,&quot;~u62d3582b-2f8b-4a6e-b527-953fde0e0079&quot;,536871174]],[&quot;^17&quot;,[2394,&quot;^R&quot;,&quot;举个栗子: 如果我们有 200DPT 条目和 300 事务表条目，我们应该输出end checkpoint 以下面的顺序&quot;,536871174]],[&quot;^17&quot;,[2394,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2394,&quot;^F&quot;,2382,536871174]],[&quot;^17&quot;,[2394,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2394,&quot;^W&quot;,2429,536871174]],[&quot;^17&quot;,[2394,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2394,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2394,&quot;^;&quot;,&quot;~u62d3582b-c7de-4aef-b191-e82c41c8d4f1&quot;,536871174]],[&quot;^17&quot;,[2395,&quot;^R&quot;,&quot;### Task3: Savepoints&quot;,536871174]],[&quot;^17&quot;,[2395,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2395,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2395,&quot;^F&quot;,2407,536871174]],[&quot;^17&quot;,[2395,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2395,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2395,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2395,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2395,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2395,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2395,&quot;^;&quot;,&quot;~u62d3582b-7874-4dbb-8fdf-2e8df5ac43a1&quot;,536871174]],[&quot;^17&quot;,[2396,&quot;^R&quot;,&quot;另外，事务状态也要更新。记住检查点是模糊 fuzzy的， 意味着这是开始到end 中任意时间补货的状态。TXN 状态可能不在data中，事务总是通过两种方式改变状态&quot;,536871174]],[&quot;^17&quot;,[2396,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2396,&quot;^F&quot;,2446,536871174]],[&quot;^17&quot;,[2396,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2396,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2396,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2396,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2396,&quot;^;&quot;,&quot;~u62d3582b-f860-4435-b181-7ff72fe35497&quot;,536871174]],[&quot;^17&quot;,[2397,&quot;^R&quot;,&quot;为了测试隔离性的每一步，框架代码有三个私有辅助方法：`restartAnalysis`,`restartRedo` and `restartUndo`，分别对应三阶段&quot;,536871174]],[&quot;^17&quot;,[2397,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2397,&quot;^F&quot;,2417,536871174]],[&quot;^17&quot;,[2397,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2397,&quot;^W&quot;,2371,536871174]],[&quot;^17&quot;,[2397,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2397,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2397,&quot;^;&quot;,&quot;~u62d3582b-0568-44ff-aa7e-1ce29d9f622f&quot;,536871174]],[&quot;^17&quot;,[2398,&quot;^R&quot;,&quot;~`LogRecord#isUndoable`&quot;,536871174]],[&quot;^17&quot;,[2398,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2398,&quot;^F&quot;,2359,536871174]],[&quot;^17&quot;,[2398,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2398,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2398,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2398,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2398,&quot;^;&quot;,&quot;~u62d3582b-84e5-4793-a98a-4a13a970aa18&quot;,536871174]],[&quot;^17&quot;,[2399,&quot;^R&quot;,&quot;在undo 阶段之后，恢复阶段结束。为了避免崩溃时在中断所有事务，我们设置一个检查点&quot;,536871174]],[&quot;^17&quot;,[2399,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2399,&quot;^F&quot;,2442,536871174]],[&quot;^17&quot;,[2399,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2399,&quot;^W&quot;,2360,536871174]],[&quot;^17&quot;,[2399,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2399,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2399,&quot;^;&quot;,&quot;~u62d3582b-9fd9-425d-96b2-954a7bd895bb&quot;,536871174]],[&quot;^17&quot;,[2400,&quot;^R&quot;,&quot;所有`RUNNING`事务需要被移入`RECOVERY_ABORTING`状态，写一条 abort 日志&quot;,536871174]],[&quot;^17&quot;,[2400,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2400,&quot;^F&quot;,2441,536871174]],[&quot;^17&quot;,[2400,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2400,&quot;^W&quot;,2365,536871174]],[&quot;^17&quot;,[2400,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2400,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2400,&quot;^;&quot;,&quot;~u62d3582b-f36b-46c7-8f84-e396333b312c&quot;,536871174]],[&quot;^17&quot;,[2401,&quot;^R&quot;,&quot;~`TransactionTableEntry.java`：维护一个txns table entry&quot;,536871174]],[&quot;^17&quot;,[2401,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2401,&quot;^F&quot;,2431,536871174]],[&quot;^17&quot;,[2401,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2401,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2401,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2401,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2401,&quot;^;&quot;,&quot;~u62d3582b-6630-47af-be0c-84588c8c6ff2&quot;,536871174]],[&quot;^17&quot;,[2402,&quot;^R&quot;,&quot;~`savepoint` 为当前事务创建一个有特别名字的保存点。作为`SAVEPOINT`状态 in SQL,  这个名字是本事务可见的；两个不同的事务可能有同名保存点&quot;,536871174]],[&quot;^17&quot;,[2402,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2402,&quot;^F&quot;,2357,536871174]],[&quot;^17&quot;,[2402,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2402,&quot;^W&quot;,2357,536871174]],[&quot;^17&quot;,[2402,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2402,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2402,&quot;^;&quot;,&quot;~u62d3582b-eb98-46c9-ad83-8526112a0d4d&quot;,536871174]],[&quot;^17&quot;,[2403,&quot;^R&quot;,&quot;再更新 ATT 之前，查看相应事务状态是不是`endedTransaction`。如果是，事务已经完成，条目可以被忽略，因为信息不在相关了！！&quot;,536871174]],[&quot;^17&quot;,[2403,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2403,&quot;^F&quot;,2446,536871174]],[&quot;^17&quot;,[2403,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2403,&quot;^W&quot;,2446,536871174]],[&quot;^17&quot;,[2403,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2403,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2403,&quot;^;&quot;,&quot;~u62d3582b-0743-4daf-8c02-e45637b1dca9&quot;,536871174]],[&quot;^17&quot;,[2404,&quot;^R&quot;,&quot;第一，在日志记录一个`begin checkpoint`&quot;,536871174]],[&quot;^17&quot;,[2404,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2404,&quot;^F&quot;,2382,536871174]],[&quot;^17&quot;,[2404,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2404,&quot;^W&quot;,2382,536871174]],[&quot;^17&quot;,[2404,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2404,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2404,&quot;^;&quot;,&quot;~u62d3582b-c7d8-4ee7-a1bb-0b0cc4f96e11&quot;,536871174]],[&quot;^17&quot;,[2405,&quot;^R&quot;,&quot;EndCheckpoint with 8 transaction table entries&quot;,536871174]],[&quot;^17&quot;,[2405,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2405,&quot;^F&quot;,2432,536871174]],[&quot;^17&quot;,[2405,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2405,&quot;^W&quot;,2394,536871174]],[&quot;^17&quot;,[2405,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2405,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2405,&quot;^;&quot;,&quot;~u62d3582b-c30a-4022-b6d6-69ee078da29a&quot;,536871174]],[&quot;^17&quot;,[2406,&quot;^R&quot;,&quot;EndCheckpoint with 200 DPT entries and 52 transaction table entries&quot;,536871174]],[&quot;^17&quot;,[2406,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2406,&quot;^F&quot;,2394,536871174]],[&quot;^17&quot;,[2406,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2406,&quot;^W&quot;,2394,536871174]],[&quot;^17&quot;,[2406,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2406,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2406,&quot;^;&quot;,&quot;~u62d3582b-058a-4cc0-9364-2d3896ebc95a&quot;,536871174]],[&quot;^17&quot;,[2407,&quot;^R&quot;,&quot;### Task2: Logging\\n在正常操作执行期间会有几个方法被用到&quot;,536871174]],[&quot;^17&quot;,[2407,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2407,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2407,&quot;^F&quot;,2387,536871174]],[&quot;^17&quot;,[2407,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2407,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2407,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2407,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2407,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2407,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2407,&quot;^;&quot;,&quot;~u62d3582b-55c0-42aa-aa15-9b6c20c62545&quot;,536871174]],[&quot;^17&quot;,[2408,&quot;^R&quot;,&quot;[[log-sequence-numbers]]&quot;,536871174]],[&quot;^17&quot;,[2408,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2408,&quot;^F&quot;,2430,536871174]],[&quot;^17&quot;,[2408,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2408,&quot;^W&quot;,2430,536871174]],[&quot;^17&quot;,[2408,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2408,&quot;^V&quot;,1778,536871174]],[&quot;^17&quot;,[2408,&quot;^H&quot;,1778,536871174]],[&quot;^17&quot;,[2408,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2408,&quot;^;&quot;,&quot;~u62d3582b-c160-42ea-b104-a638c2c29cf6&quot;,536871174]],[&quot;^17&quot;,[2409,&quot;^R&quot;,&quot;~`releaseSavepoint` 删除保存点，与`RELEASE SAVEPOINT`语句对应&quot;,536871174]],[&quot;^17&quot;,[2409,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2409,&quot;^F&quot;,2402,536871174]],[&quot;^17&quot;,[2409,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2409,&quot;^W&quot;,2357,536871174]],[&quot;^17&quot;,[2409,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2409,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2409,&quot;^;&quot;,&quot;~u62d3582b-454d-491e-8a94-410402671167&quot;,536871174]],[&quot;^17&quot;,[2410,&quot;^R&quot;,&quot;**Scanning the Log**: 分析阶段目的时重构 DPT 和 ATT。浏览阶段会遇到三种类型的log record：记录txn operation的log，checkpoint log，txn状态改变的log&quot;,536871174]],[&quot;^17&quot;,[2410,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2410,&quot;^F&quot;,2390,536871174]],[&quot;^17&quot;,[2410,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2410,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2410,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2410,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2410,&quot;^;&quot;,&quot;~u62d3582b-1889-43d2-a18a-0fbf204073bc&quot;,536871174]],[&quot;^17&quot;,[2411,&quot;^R&quot;,&quot;~`Log Records For Txn Status Changes`&quot;,536871174]],[&quot;^17&quot;,[2411,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2411,&quot;^F&quot;,2380,536871174]],[&quot;^17&quot;,[2411,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2411,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2411,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2411,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2411,&quot;^;&quot;,&quot;~u62d3582b-f330-4b29-bfa6-724e165a1e05&quot;,536871174]],[&quot;^17&quot;,[2412,&quot;^R&quot;,&quot;如果这个记录是 undoable&quot;,536871174]],[&quot;^17&quot;,[2412,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2412,&quot;^F&quot;,2439,536871174]],[&quot;^17&quot;,[2412,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2412,&quot;^W&quot;,2439,536871174]],[&quot;^17&quot;,[2412,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2412,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2412,&quot;^;&quot;,&quot;~u62d3582b-8b0b-4be4-8184-40a24780048a&quot;,536871174]],[&quot;^17&quot;,[2413,&quot;^R&quot;,&quot;~`commit`中提交记录需要被刷入磁盘在 commit 调用返回之前以保证持久性&quot;,536871174]],[&quot;^17&quot;,[2413,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2413,&quot;^F&quot;,2372,536871174]],[&quot;^17&quot;,[2413,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2413,&quot;^W&quot;,2372,536871174]],[&quot;^17&quot;,[2413,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2413,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2413,&quot;^;&quot;,&quot;~u62d3582b-9cc6-4440-80f4-827d18611dbc&quot;,536871174]],[&quot;^17&quot;,[2414,&quot;^R&quot;,&quot;~`LogManager#flushToLSN`&quot;,536871174]],[&quot;^17&quot;,[2414,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2414,&quot;^F&quot;,2393,536871174]],[&quot;^17&quot;,[2414,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2414,&quot;^W&quot;,2420,536871174]],[&quot;^17&quot;,[2414,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2414,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2414,&quot;^;&quot;,&quot;~u62d3582b-328b-4450-8c14-a82c095d5c04&quot;,536871174]],[&quot;^17&quot;,[2415,&quot;^R&quot;,&quot;~`FreePage/UndoAllocPage `: 使他们的改变对disk立即可见，可以被视作已经落盘(从DPT删除page)&quot;,536871174]],[&quot;^17&quot;,[2415,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2415,&quot;^F&quot;,2443,536871174]],[&quot;^17&quot;,[2415,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2415,&quot;^W&quot;,2380,536871174]],[&quot;^17&quot;,[2415,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2415,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2415,&quot;^;&quot;,&quot;~u62d3582b-0115-43c0-9531-1f22dfac0baf&quot;,536871174]],[&quot;^17&quot;,[2416,&quot;^R&quot;,&quot;在`end`中，如果一个事务因为 abort 而终止，需要在 `EndTransaction` record被写之前回滚所有的改变。 看`rollbackToLSN`中的文档注释有如何回滚的细节，并且思考什么LSN需要作为函数参数为了完成回滚事务&quot;,536871174]],[&quot;^17&quot;,[2416,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2416,&quot;^F&quot;,2413,536871174]],[&quot;^17&quot;,[2416,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2416,&quot;^W&quot;,2372,536871174]],[&quot;^17&quot;,[2416,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2416,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2416,&quot;^;&quot;,&quot;~u62d3582b-6705-4ebd-84a2-cde63f74d7a1&quot;,536871174]],[&quot;^17&quot;,[2417,&quot;^R&quot;,&quot;当数据库重启，它进入重启恢复阶段。回顾lecture，有三个阶段：analysis, redo and undo。 `RecoveryManager`接口有一个方法:`restart`&quot;,536871174]],[&quot;^17&quot;,[2417,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2417,&quot;^F&quot;,2371,536871174]],[&quot;^17&quot;,[2417,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2417,&quot;^W&quot;,2371,536871174]],[&quot;^17&quot;,[2417,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2417,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2417,&quot;^;&quot;,&quot;~u62d3582b-a4e6-4162-bbae-96db3cd0df8a&quot;,536871174]],[&quot;^17&quot;,[2418,&quot;^R&quot;,&quot;存储 txn table 状态的数目，返回最终record是否可以装在一页中&quot;,536871174]],[&quot;^17&quot;,[2418,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2418,&quot;^F&quot;,2433,536871174]],[&quot;^17&quot;,[2418,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2418,&quot;^W&quot;,2425,536871174]],[&quot;^17&quot;,[2418,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2418,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2418,&quot;^;&quot;,&quot;~u62d3582b-18d8-47b6-807e-60aeab2d6378&quot;,536871174]],[&quot;^17&quot;,[2419,&quot;^R&quot;,&quot;更新 current LSN 到下一个record&quot;,536871174]],[&quot;^17&quot;,[2419,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2419,&quot;^F&quot;,2412,536871174]],[&quot;^17&quot;,[2419,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2419,&quot;^W&quot;,2439,536871174]],[&quot;^17&quot;,[2419,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2419,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2419,&quot;^;&quot;,&quot;~u62d3582b-13cd-45d7-b022-53948367a4d5&quot;,536871174]],[&quot;^17&quot;,[2420,&quot;^R&quot;,&quot;这些辅助函数可以很有帮助：&quot;,536871174]],[&quot;^17&quot;,[2420,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2420,&quot;^F&quot;,2372,536871174]],[&quot;^17&quot;,[2420,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2420,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2420,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2420,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2420,&quot;^;&quot;,&quot;~u62d3582b-c0d2-40a5-9326-f13a63ec5ec3&quot;,536871174]],[&quot;^17&quot;,[2421,&quot;^R&quot;,&quot;页的`recLSN`经常被使用，即使我们已经有了一个脏页记录，因为检查点总是比日志推算更精准&quot;,536871174]],[&quot;^17&quot;,[2421,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2421,&quot;^F&quot;,2438,536871174]],[&quot;^17&quot;,[2421,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2421,&quot;^W&quot;,2438,536871174]],[&quot;^17&quot;,[2421,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2421,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2421,&quot;^;&quot;,&quot;~u62d3582b-3227-4756-bcb0-825c28c502f1&quot;,536871174]],[&quot;^17&quot;,[2422,&quot;^R&quot;,&quot;框架代码已经提供了保存点的大部分实现，剩下的就是类似 `rollbackToSavepoint`的实现。这与你之前所写代码类似，你可以重用部分代码。&quot;,536871174]],[&quot;^17&quot;,[2422,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2422,&quot;^F&quot;,2357,536871174]],[&quot;^17&quot;,[2422,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2422,&quot;^W&quot;,2395,536871174]],[&quot;^17&quot;,[2422,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2422,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2422,&quot;^;&quot;,&quot;~u62d3582b-49b5-4aaa-94bc-1dce9d3dea00&quot;,536871174]],[&quot;^17&quot;,[2423,&quot;^R&quot;,&quot;### Task6: redo&quot;,536871315]],[&quot;^17&quot;,[2423,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2423,&quot;^X&quot;,3,536871315]],[&quot;^17&quot;,[2423,&quot;^F&quot;,2354,536871297]],[&quot;^17&quot;,[2423,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2423,&quot;^W&quot;,2371,536871297]],[&quot;^17&quot;,[2423,&quot;^V&quot;,20,536871315]],[&quot;^17&quot;,[2423,&quot;^?&quot;,[&quot;^ &quot;],536871315]],[&quot;^17&quot;,[2423,&quot;^1&gt;&quot;,3,536871300]],[&quot;^17&quot;,[2423,&quot;^Y&quot;,&quot;^1?&quot;,536871315]],[&quot;^17&quot;,[2423,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2423,&quot;^;&quot;,&quot;~u62d3582b-e4ec-4172-952f-d85545974630&quot;,536871174]],[&quot;^17&quot;,[2424,&quot;^R&quot;,&quot;~`logAllocPart`, `logFreePart`, `logAllocPage`, `logFreePage`: 这些被disk space manager调用，当他们试图创建或者删除一个 partition 和 页，并且记录合适的 log record。 已经为你实现了&quot;,536871174]],[&quot;^17&quot;,[2424,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2424,&quot;^F&quot;,2407,536871174]],[&quot;^17&quot;,[2424,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2424,&quot;^W&quot;,2407,536871174]],[&quot;^17&quot;,[2424,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2424,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2424,&quot;^;&quot;,&quot;~u62d3582b-f012-458f-809b-a198e1129882&quot;,536871174]],[&quot;^17&quot;,[2425,&quot;^R&quot;,&quot;你会发现`EndCheckpoint.fitsInOneRecord`静态方法很有用，它有两个参数&quot;,536871174]],[&quot;^17&quot;,[2425,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2425,&quot;^F&quot;,2394,536871174]],[&quot;^17&quot;,[2425,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2425,&quot;^W&quot;,2429,536871174]],[&quot;^17&quot;,[2425,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2425,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2425,&quot;^;&quot;,&quot;~u62d3582b-0022-4af5-bec5-d91c945c3a0b&quot;,536871174]],[&quot;^17&quot;,[2426,&quot;^R&quot;,&quot;如果我们没有相应条目再 ATT， 它应该被加入ATT中(用`newTransaction`函数)&quot;,536871174]],[&quot;^17&quot;,[2426,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2426,&quot;^F&quot;,2403,536871174]],[&quot;^17&quot;,[2426,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2426,&quot;^W&quot;,2446,536871174]],[&quot;^17&quot;,[2426,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2426,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2426,&quot;^;&quot;,&quot;~u62d3582b-57ea-4e91-8130-c9e99e4e8148&quot;,536871174]],[&quot;^17&quot;,[2427,&quot;^R&quot;,&quot;running -&gt; aborting -&gt; complete&quot;,536871174]],[&quot;^17&quot;,[2427,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2427,&quot;^F&quot;,2391,536871174]],[&quot;^17&quot;,[2427,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2427,&quot;^W&quot;,2396,536871174]],[&quot;^17&quot;,[2427,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2427,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2427,&quot;^;&quot;,&quot;~u62d3582b-919f-40fd-9353-56fe822dcf57&quot;,536871174]],[&quot;^17&quot;,[2428,&quot;^R&quot;,&quot;~`RECOVERY_ABORTING`状态什么也不用做&quot;,536871174]],[&quot;^17&quot;,[2428,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2428,&quot;^F&quot;,2400,536871174]],[&quot;^17&quot;,[2428,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2428,&quot;^W&quot;,2365,536871174]],[&quot;^17&quot;,[2428,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2428,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2428,&quot;^;&quot;,&quot;~u62d3582b-5f99-4ae4-8345-cdd61eb09ebe&quot;,536871174]],[&quot;^17&quot;,[2429,&quot;^R&quot;,&quot;### Task4: Checkpoint&quot;,536871174]],[&quot;^17&quot;,[2429,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2429,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2429,&quot;^F&quot;,2395,536871174]],[&quot;^17&quot;,[2429,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2429,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2429,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2429,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2429,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2429,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2429,&quot;^;&quot;,&quot;~u62d3582b-f897-4661-975e-c3c3294c77a9&quot;,536871174]],[&quot;^17&quot;,[2430,&quot;^R&quot;,&quot;### Initialization&quot;,536871174]],[&quot;^17&quot;,[2430,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2430,&quot;^X&quot;,3,536871174]],[&quot;^17&quot;,[2430,&quot;^F&quot;,2383,536871174]],[&quot;^17&quot;,[2430,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2430,&quot;^W&quot;,2383,536871174]],[&quot;^17&quot;,[2430,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2430,&quot;^1&gt;&quot;,3,536871174]],[&quot;^17&quot;,[2430,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2430,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2430,&quot;^;&quot;,&quot;~u62d3582b-f11e-4fec-9134-4eea81365930&quot;,536871174]],[&quot;^17&quot;,[2431,&quot;^R&quot;,&quot;~`RecoveryManager.java`: 提供了需要完成的方法，以及什么时候被调用&quot;,536871174]],[&quot;^17&quot;,[2431,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2431,&quot;^F&quot;,2434,536871174]],[&quot;^17&quot;,[2431,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2431,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2431,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2431,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2431,&quot;^;&quot;,&quot;~u62d3582b-cc9e-45e5-a68e-0d05f715a05b&quot;,536871174]],[&quot;^17&quot;,[2432,&quot;^R&quot;,&quot;EndCheckpoint with 240 transaction table entries&quot;,536871174]],[&quot;^17&quot;,[2432,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2432,&quot;^F&quot;,2406,536871174]],[&quot;^17&quot;,[2432,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2432,&quot;^W&quot;,2394,536871174]],[&quot;^17&quot;,[2432,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2432,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2432,&quot;^;&quot;,&quot;~u62d3582b-6962-4fab-aaee-0fc80267a8cc&quot;,536871174]],[&quot;^17&quot;,[2433,&quot;^R&quot;,&quot;存储dirty page table entries 数目&quot;,536871174]],[&quot;^17&quot;,[2433,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2433,&quot;^F&quot;,2425,536871174]],[&quot;^17&quot;,[2433,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2433,&quot;^W&quot;,2425,536871174]],[&quot;^17&quot;,[2433,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2433,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2433,&quot;^;&quot;,&quot;~u62d3582b-8637-4606-b71d-5f9221fcfa84&quot;,536871174]],[&quot;^17&quot;,[2434,&quot;^R&quot;,&quot;## Skeleton code\\nbackground-color:: #533e7d&quot;,536871174]],[&quot;^17&quot;,[2434,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2434,&quot;^X&quot;,2,536871174]],[&quot;^17&quot;,[2434,&quot;^F&quot;,4479,536896652]],[&quot;^17&quot;,[2434,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2434,&quot;^W&quot;,20,536871174]],[&quot;^17&quot;,[2434,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2434,&quot;^?&quot;,[&quot;^ &quot;,&quot;~:background-color&quot;,&quot;#533e7d&quot;],536871174]],[&quot;^17&quot;,[2434,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1A&quot;]],536871174]],[&quot;^17&quot;,[2434,&quot;^1&gt;&quot;,2,536871174]],[&quot;^17&quot;,[2434,&quot;^Y&quot;,&quot;^1?&quot;,536871174]],[&quot;^17&quot;,[2434,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2434,&quot;^;&quot;,&quot;~u62d3582b-5453-4011-8b5f-00eac84de02f&quot;,536871174]],[&quot;^17&quot;,[2435,&quot;^R&quot;,&quot;回顾 ARIES，我们阶段性执行`fuzzy checkpoint`当事务运行时，以最小化崩溃恢复的时间，也不需要在前进阶段暂停数据库&quot;,536871174]],[&quot;^17&quot;,[2435,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2435,&quot;^F&quot;,2429,536871174]],[&quot;^17&quot;,[2435,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2435,&quot;^W&quot;,2429,536871174]],[&quot;^17&quot;,[2435,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2435,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2435,&quot;^;&quot;,&quot;~u62d3582b-730f-460e-863a-624a8ce126fe&quot;,536871174]],[&quot;^17&quot;,[2436,&quot;^R&quot;,&quot;记录 CLR&quot;,536871174]],[&quot;^17&quot;,[2436,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2436,&quot;^F&quot;,2381,536871174]],[&quot;^17&quot;,[2436,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2436,&quot;^W&quot;,2412,536871174]],[&quot;^17&quot;,[2436,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2436,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2436,&quot;^;&quot;,&quot;~u62d3582b-98f0-4e2a-8559-83754cde0417&quot;,536871174]],[&quot;^17&quot;,[2437,&quot;^R&quot;,&quot;~`LogRecord.java`: 所有 record 的父类，每个log 都有 type 和 LSN&quot;,536871174]],[&quot;^17&quot;,[2437,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2437,&quot;^F&quot;,2378,536871174]],[&quot;^17&quot;,[2437,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2437,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2437,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2437,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2437,&quot;^;&quot;,&quot;~u62d3582b-37ec-4b7e-8e91-9f93573be595&quot;,536871174]],[&quot;^17&quot;,[2438,&quot;^R&quot;,&quot;~`Checkpoint Records`: 当碰到 begin checkpoint 啥也不用干。\\n当碰到 End checkpoints 时， 存储在记录的表应该被组织到内存\\n对应再checkpoints 快照里的脏页&quot;,536871174]],[&quot;^17&quot;,[2438,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2438,&quot;^F&quot;,2411,536871174]],[&quot;^17&quot;,[2438,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2438,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2438,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2438,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2438,&quot;^;&quot;,&quot;~u62d3582b-5593-4303-b6bd-121b334e5522&quot;,536871174]],[&quot;^17&quot;,[2439,&quot;^R&quot;,&quot;当 current LSN  大于我们正回滚的 LSN&quot;,536871174]],[&quot;^17&quot;,[2439,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2439,&quot;^F&quot;,2387,536871174]],[&quot;^17&quot;,[2439,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2439,&quot;^W&quot;,2387,536871174]],[&quot;^17&quot;,[2439,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2439,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2439,&quot;^;&quot;,&quot;~u62d3582b-80ef-4e1e-912a-3005feab5d04&quot;,536871174]],[&quot;^17&quot;,[2440,&quot;^R&quot;,&quot;~`logPageWrite` 被buffer manager 调用， 当某人试图往页中写入，需要自己实现。你的实现需要记录日志，更新事务表和脏页表---更新脏页表时用封装好的方法 `dirtyPage()`&quot;,536871174]],[&quot;^17&quot;,[2440,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2440,&quot;^F&quot;,2424,536871174]],[&quot;^17&quot;,[2440,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2440,&quot;^W&quot;,2407,536871174]],[&quot;^17&quot;,[2440,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2440,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2440,&quot;^;&quot;,&quot;~u62d3582b-f346-43d2-9b02-dbed89132682&quot;,536871174]],[&quot;^17&quot;,[2441,&quot;^R&quot;,&quot;所有`COMMITTING`状态事务应该被`cleanup`, 设置状态为`COMPLETE`, 写一个end事务日志，移除ATT&quot;,536871174]],[&quot;^17&quot;,[2441,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2441,&quot;^F&quot;,2365,536871174]],[&quot;^17&quot;,[2441,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2441,&quot;^W&quot;,2365,536871174]],[&quot;^17&quot;,[2441,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2441,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2441,&quot;^;&quot;,&quot;~u62d3582b-bf6e-442c-807f-32cb3e8528bf&quot;,536871174]],[&quot;^17&quot;,[2442,&quot;^R&quot;,&quot;在`redo` `undo`阶段，任何在dirty table的页如果不是 事实上脏的（在内存修改没有落盘），应该被从DPT移除。这些页可能在 DPT ，如果我们不确定改变是否被落盘。&quot;,536871174]],[&quot;^17&quot;,[2442,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2442,&quot;^F&quot;,2360,536871174]],[&quot;^17&quot;,[2442,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2442,&quot;^W&quot;,2360,536871174]],[&quot;^17&quot;,[2442,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2442,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2442,&quot;^;&quot;,&quot;~u62d3582b-2921-4c79-b437-91197eb782da&quot;,536871174]],[&quot;^17&quot;,[2443,&quot;^R&quot;,&quot;~`UpdatePage/UndoUpdatePage` 页可能脏，没有落盘&quot;,536871174]],[&quot;^17&quot;,[2443,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2443,&quot;^F&quot;,2380,536871174]],[&quot;^17&quot;,[2443,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2443,&quot;^W&quot;,2380,536871174]],[&quot;^17&quot;,[2443,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2443,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2443,&quot;^;&quot;,&quot;~u62d3582b-9b09-4ef9-bb29-5c95cf899a06&quot;,536871174]],[&quot;^17&quot;,[2444,&quot;^R&quot;,&quot;所有的方法都需要使恢复管理器维护的表保持最新&quot;,536871174]],[&quot;^17&quot;,[2444,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2444,&quot;^F&quot;,2440,536871174]],[&quot;^17&quot;,[2444,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2444,&quot;^W&quot;,2407,536871174]],[&quot;^17&quot;,[2444,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2444,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2444,&quot;^;&quot;,&quot;~u62d3582b-5f48-464c-9ac2-07dc4fa167c8&quot;,536871174]],[&quot;^17&quot;,[2445,&quot;^R&quot;,&quot;~`records/` directory: logRecord 的子类&quot;,536871174]],[&quot;^17&quot;,[2445,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2445,&quot;^F&quot;,2437,536871174]],[&quot;^17&quot;,[2445,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2445,&quot;^W&quot;,2434,536871174]],[&quot;^17&quot;,[2445,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2445,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2445,&quot;^;&quot;,&quot;~u62d3582b-b8f8-45df-825c-9ee191979b17&quot;,536871174]],[&quot;^17&quot;,[2446,&quot;^R&quot;,&quot;对应checkpoints 快照里的 ATT&quot;,536871174]],[&quot;^17&quot;,[2446,&quot;^P&quot;,&quot;^19&quot;,536871174]],[&quot;^17&quot;,[2446,&quot;^F&quot;,2438,536871174]],[&quot;^17&quot;,[2446,&quot;^Z&quot;,20,536871174]],[&quot;^17&quot;,[2446,&quot;^W&quot;,2354,536871174]],[&quot;^17&quot;,[2446,&quot;^V&quot;,20,536871174]],[&quot;^17&quot;,[2446,&quot;^1@&quot;,true,536871174]],[&quot;^17&quot;,[2446,&quot;^;&quot;,&quot;~u62d3582b-b55e-41fc-a1f7-38a0f8b89bf2&quot;,536871174]],[&quot;^17&quot;,[2466,&quot;^L&quot;,1657955666078,536871263]],[&quot;^17&quot;,[2466,&quot;^@&quot;,false,536871180]],[&quot;^17&quot;,[2466,&quot;^[&quot;,&quot;redo log&quot;,536871180]],[&quot;^17&quot;,[2466,&quot;^13&quot;,&quot;redo log&quot;,536871180]],[&quot;^17&quot;,[2466,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896909]],[&quot;^17&quot;,[2466,&quot;^B&quot;,1657955666078,536871263]],[&quot;^17&quot;,[2466,&quot;^;&quot;,&quot;~u62d3582c-1ac4-4fa1-ba8c-331354b2e1d1&quot;,536871230]],[&quot;^17&quot;,[2467,&quot;^R&quot;,&quot;Innodb中的redo log 类似于 [[WAL]]&quot;,536871180]],[&quot;^17&quot;,[2467,&quot;^P&quot;,&quot;^19&quot;,536871180]],[&quot;^17&quot;,[2467,&quot;^F&quot;,4519,536896909]],[&quot;^17&quot;,[2467,&quot;^Z&quot;,2466,536871180]],[&quot;^17&quot;,[2467,&quot;^W&quot;,2466,536871180]],[&quot;^17&quot;,[2467,&quot;^V&quot;,2040,536871180]],[&quot;^17&quot;,[2467,&quot;^V&quot;,2466,536871180]],[&quot;^17&quot;,[2467,&quot;^H&quot;,2040,536871180]],[&quot;^17&quot;,[2467,&quot;^1@&quot;,true,536871180]],[&quot;^17&quot;,[2467,&quot;^;&quot;,&quot;~u62d3582b-c376-4742-89a7-cfd3b22f7ac5&quot;,536871180]],[&quot;^17&quot;,[2469,&quot;^R&quot;,&quot;## Shadow Paging : No-Steal +Force 影子分页&quot;,536876891]],[&quot;^17&quot;,[2469,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2469,&quot;^X&quot;,2,536876891]],[&quot;^17&quot;,[2469,&quot;^F&quot;,2475,536871182]],[&quot;^17&quot;,[2469,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2469,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2469,&quot;^V&quot;,1379,536876891]],[&quot;^17&quot;,[2469,&quot;^?&quot;,[&quot;^ &quot;],536876891]],[&quot;^17&quot;,[2469,&quot;^1&gt;&quot;,2,536871182]],[&quot;^17&quot;,[2469,&quot;^Y&quot;,&quot;^1?&quot;,536876891]],[&quot;^17&quot;,[2469,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2469,&quot;^;&quot;,&quot;~u62d3582b-c4bc-4a69-9091-76d591a33c51&quot;,536871182]],[&quot;^17&quot;,[2470,&quot;^R&quot;,&quot;在事务提交前，任何被修改的数据都不会被持久化到数据库；在事务提交后，所有被修改的数据都会被持久化到数据库。在 shadow paging 下回滚、恢复数据都很容易：&quot;,536871182]],[&quot;^17&quot;,[2470,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2470,&quot;^F&quot;,2479,536871182]],[&quot;^17&quot;,[2470,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2470,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2470,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2470,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2470,&quot;^;&quot;,&quot;~u62d3582b-4776-47ad-ac18-74e1478566cf&quot;,536871182]],[&quot;^17&quot;,[2471,&quot;^R&quot;,&quot;![image.png](../assets/image_1657765243967_0.png)&quot;,536871182]],[&quot;^17&quot;,[2471,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2471,&quot;^F&quot;,4517,536896899]],[&quot;^17&quot;,[2471,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2471,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2471,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2471,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2471,&quot;^;&quot;,&quot;~u62d3582b-af67-4cc0-8bee-f51fbae37440&quot;,536871182]],[&quot;^17&quot;,[2472,&quot;^R&quot;,&quot;在将 data page 落盘前，所有的日志记录必须先落盘&quot;,536871182]],[&quot;^17&quot;,[2472,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2472,&quot;^F&quot;,2484,536871182]],[&quot;^17&quot;,[2472,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2472,&quot;^W&quot;,2506,536871182]],[&quot;^17&quot;,[2472,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2472,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2472,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2472,&quot;^;&quot;,&quot;~u62d3582b-a884-4633-b4f1-d82a04fe75e0&quot;,536871182]],[&quot;^17&quot;,[2473,&quot;^R&quot;,&quot;大部分数据库更看重运行时效率，因此几乎所有 DBMS 使用 No-Force + Steal 的 buffer pool policy。&quot;,536871182]],[&quot;^17&quot;,[2473,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2473,&quot;^F&quot;,2486,536871182]],[&quot;^17&quot;,[2473,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2473,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2473,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2473,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2473,&quot;^;&quot;,&quot;~u62d3582b-103d-4c28-a0c5-a14b4f252a33&quot;,536871182]],[&quot;^17&quot;,[2474,&quot;^R&quot;,&quot;Master：包含所有已经提交事务的数据&quot;,536871182]],[&quot;^17&quot;,[2474,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2474,&quot;^F&quot;,2493,536871182]],[&quot;^17&quot;,[2474,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2474,&quot;^W&quot;,2493,536871182]],[&quot;^17&quot;,[2474,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2474,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2474,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2474,&quot;^;&quot;,&quot;~u62d3582b-6dad-4ab8-accb-48b773973252&quot;,536871182]],[&quot;^17&quot;,[2475,&quot;^R&quot;,&quot;![image.png](../assets/image_1657765407782_0.png)&quot;,536871182]],[&quot;^17&quot;,[2475,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2475,&quot;^F&quot;,2517,536871182]],[&quot;^17&quot;,[2475,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2475,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2475,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2475,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2475,&quot;^;&quot;,&quot;~u62d3582b-20f9-4585-b624-9000f905e7cc&quot;,536871182]],[&quot;^17&quot;,[2476,&quot;^R&quot;,&quot;在操作日志落盘后，事务就被认为已经提交成功&quot;,536871182]],[&quot;^17&quot;,[2476,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2476,&quot;^F&quot;,2472,536871182]],[&quot;^17&quot;,[2476,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2476,&quot;^W&quot;,2506,536871182]],[&quot;^17&quot;,[2476,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2476,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2476,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2476,&quot;^;&quot;,&quot;~u62d3582b-a281-44d1-b4da-2f5c653e8ef6&quot;,536871182]],[&quot;^17&quot;,[2477,&quot;^R&quot;,&quot;Transaction Id (事务 id)\\nObject Id (数据记录 id)\\nBefore Value (修改前的值)，用于 undo 操作\\nAfter Value (修改后的值)，用于 redo 操作&quot;,536871182]],[&quot;^17&quot;,[2477,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2477,&quot;^F&quot;,2500,536871182]],[&quot;^17&quot;,[2477,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2477,&quot;^W&quot;,2500,536871182]],[&quot;^17&quot;,[2477,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2477,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2477,&quot;^;&quot;,&quot;~u62d3582b-6ad3-4480-b767-b8ae4b0abd88&quot;,536871182]],[&quot;^17&quot;,[2478,&quot;^R&quot;,&quot;## Checkpoints&quot;,536871182]],[&quot;^17&quot;,[2478,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2478,&quot;^X&quot;,2,536871182]],[&quot;^17&quot;,[2478,&quot;^F&quot;,2489,536871182]],[&quot;^17&quot;,[2478,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2478,&quot;^W&quot;,2501,536871182]],[&quot;^17&quot;,[2478,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2478,&quot;^1&gt;&quot;,2,536871182]],[&quot;^17&quot;,[2478,&quot;^Y&quot;,&quot;^1?&quot;,536871182]],[&quot;^17&quot;,[2478,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2478,&quot;^;&quot;,&quot;~u62d3582b-5a7f-42df-afe6-3ebce1518fac&quot;,536871182]],[&quot;^17&quot;,[2479,&quot;^R&quot;,&quot;正在执行的事务都只将修改的数据写到 shadow copy 中，当事务提交时，再原子地把 shadow copy 修改成新的 master。当然，为了提高效率，DBMS 不会复制整个数据库，只需要复制有变动的部分即可，即 copy-on-write。通常，实现 shadow paging 需要将数据页组织成树状结构，如下图所示：\\n![image.png](../assets/image_1657765884095_0.png)\\n左边是内存中的数据结构，由一个根节点指向对应的 page table，其中 page table 对应着磁盘中的相应的数据页。在写事务执行时，会生成一个 shadow page table，并复制需要修改的数据页，在其上完成相应操作。在提交写事务时，DBMS 将 DB Root 的指针指向 shadow page table，并将对应的数据页全部落盘，如下图所示：\\n![image.png](../assets/image_1657765919262_0.png)&quot;,536871182]],[&quot;^17&quot;,[2479,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2479,&quot;^F&quot;,2493,536871182]],[&quot;^17&quot;,[2479,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2479,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2479,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2479,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2479,&quot;^;&quot;,&quot;~u62d3582b-8cb9-40d1-9874-3c1942b187b6&quot;,536871182]],[&quot;^17&quot;,[2480,&quot;^R&quot;,&quot;恢复时很难确定故障时正在执行的语句已经修改了哪部分数据&quot;,536871182]],[&quot;^17&quot;,[2480,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2480,&quot;^F&quot;,2509,536871182]],[&quot;^17&quot;,[2480,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2480,&quot;^W&quot;,2504,536871182]],[&quot;^17&quot;,[2480,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2480,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2480,&quot;^;&quot;,&quot;~u62d3582b-2029-4279-910e-9fef2297b32b&quot;,536871182]],[&quot;^17&quot;,[2481,&quot;^R&quot;,&quot;在 2010 年之前，SQLite 采用的就是类似 shadow paging 的策略，当写事务需要修改某页数据时，DBMS 会先将原始数据页保存到一个独立的 journal 文件中，然后再将对应的修改持久化到磁盘中。当 SQLite 重启后，如果发现磁盘中存在 journal 文件，则之间将对应的数据页覆盖到磁盘中即可&quot;,536871182]],[&quot;^17&quot;,[2481,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2481,&quot;^F&quot;,2514,536871182]],[&quot;^17&quot;,[2481,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2481,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2481,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2481,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2481,&quot;^;&quot;,&quot;~u62d3582b-0e99-431e-a360-7e2177cb5ba7&quot;,536871182]],[&quot;^17&quot;,[2482,&quot;^R&quot;,&quot;**WAL Group Commit**\\n每次事务提交时，DBMS 都必须将日志记录落盘，由于落盘的操纵对于内存操作来说用时较长，因此可以利用 group commit 来批量刷盘从而均摊落盘成本\\n![image.png](../assets/image_1657768252717_0.png){:height 202, :width 347}&quot;,536871182]],[&quot;^17&quot;,[2482,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2482,&quot;^F&quot;,2500,536871182]],[&quot;^17&quot;,[2482,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2482,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2482,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2482,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2482,&quot;^;&quot;,&quot;~u62d3582b-baa3-4073-ad0e-1326712a15bf&quot;,536871182]],[&quot;^17&quot;,[2483,&quot;^R&quot;,&quot;当然，**这种策略组合无法处理\\&quot;写入的数据量超过 buffer pool 大小\\&quot;的情况**。&quot;,536871182]],[&quot;^17&quot;,[2483,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2483,&quot;^F&quot;,2513,536871182]],[&quot;^17&quot;,[2483,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2483,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2483,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2483,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2483,&quot;^;&quot;,&quot;~u62d3582b-b406-4a71-95b7-5360e97296ff&quot;,536871182]],[&quot;^17&quot;,[2484,&quot;^R&quot;,&quot;DBMS 先将事务的操作记录放在内存中 (backed by buffer pool)&quot;,536871182]],[&quot;^17&quot;,[2484,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2484,&quot;^F&quot;,2506,536871182]],[&quot;^17&quot;,[2484,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2484,&quot;^W&quot;,2506,536871182]],[&quot;^17&quot;,[2484,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2484,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2484,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2484,&quot;^;&quot;,&quot;~u62d3582b-413d-49df-b5f3-2e64579a8700&quot;,536871182]],[&quot;^17&quot;,[2485,&quot;^R&quot;,&quot;Undo/Rollback：删除 shadow pages (table)，啥都不用做&quot;,536871182]],[&quot;^17&quot;,[2485,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2485,&quot;^F&quot;,2470,536871182]],[&quot;^17&quot;,[2485,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2485,&quot;^W&quot;,2470,536871182]],[&quot;^17&quot;,[2485,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2485,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2485,&quot;^;&quot;,&quot;~u62d3582b-104d-4a6a-8439-fc83f92bbcb2&quot;,536871182]],[&quot;^17&quot;,[2486,&quot;^R&quot;,&quot;通过以上的分析，我们可以发现，不同的 buffer pool policies 之间存在着运行时效率与数据恢复效率间的权衡：\\n![image.png](../assets/image_1657768277832_0.png)&quot;,536871182]],[&quot;^17&quot;,[2486,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2486,&quot;^F&quot;,2482,536871182]],[&quot;^17&quot;,[2486,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2486,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2486,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2486,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2486,&quot;^;&quot;,&quot;~u62d3582b-7880-4529-8e36-bb5f86deb35e&quot;,536871182]],[&quot;^17&quot;,[2487,&quot;^R&quot;,&quot;实现 checkpoints 有需要要考虑的问题： #.ol&quot;,536871182]],[&quot;^17&quot;,[2487,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2487,&quot;^F&quot;,2512,536871182]],[&quot;^17&quot;,[2487,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2487,&quot;^W&quot;,2478,536871182]],[&quot;^17&quot;,[2487,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2487,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2487,&quot;^H&quot;,661,536871182]],[&quot;^17&quot;,[2487,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2487,&quot;^;&quot;,&quot;~u62d3582b-6858-49df-8aeb-76145ebdb839&quot;,536871182]],[&quot;^17&quot;,[2488,&quot;^R&quot;,&quot;Redo：不需要 redo，因为每次写事务都会将数据落盘&quot;,536871182]],[&quot;^17&quot;,[2488,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2488,&quot;^F&quot;,2485,536871182]],[&quot;^17&quot;,[2488,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2488,&quot;^W&quot;,2470,536871182]],[&quot;^17&quot;,[2488,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2488,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2488,&quot;^;&quot;,&quot;~u62d3582b-3336-4a8c-bfb3-2e4c3fb6db8d&quot;,536871182]],[&quot;^17&quot;,[2489,&quot;^R&quot;,&quot;还有一种混合策略，称为 physiological logging，这种方案不会像 physical logging 一样记录 xx page xx 偏移量上的数据发生 xx 改动，而是记录 xx page 上的 id 为 xx 的数据发生 xx 改动，前者需要关心 data page 在磁盘上的布局，后者则无需关心，举例如下：\\n![image.png](../assets/image_1657768403364_0.png)\\nphysiological logging 也是当下最流行的方案。&quot;,536871182]],[&quot;^17&quot;,[2489,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2489,&quot;^F&quot;,2504,536871182]],[&quot;^17&quot;,[2489,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2489,&quot;^W&quot;,2501,536871182]],[&quot;^17&quot;,[2489,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2489,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2489,&quot;^;&quot;,&quot;~u62d3582b-986f-4feb-abbe-c12a48949419&quot;,536871182]],[&quot;^17&quot;,[2490,&quot;^R&quot;,&quot;恢复时需要回放所有事务，这个过程可能很漫长&quot;,536871182]],[&quot;^17&quot;,[2490,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2490,&quot;^F&quot;,2480,536871182]],[&quot;^17&quot;,[2490,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2490,&quot;^W&quot;,2504,536871182]],[&quot;^17&quot;,[2490,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2490,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2490,&quot;^;&quot;,&quot;~u62d3582b-de49-49da-8cc9-0a3a5940bf53&quot;,536871182]],[&quot;^17&quot;,[2491,&quot;^R&quot;,&quot;复制整个 page table 代价较大，尽管可以通过以下措施来降低这种代价：&quot;,536871182]],[&quot;^17&quot;,[2491,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2491,&quot;^F&quot;,2514,536871182]],[&quot;^17&quot;,[2491,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2491,&quot;^W&quot;,2514,536871182]],[&quot;^17&quot;,[2491,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2491,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2491,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2491,&quot;^;&quot;,&quot;~u62d3582b-eb95-41c8-bc43-c90b30b65894&quot;,536871182]],[&quot;^17&quot;,[2492,&quot;^R&quot;,&quot;Shadow：在 Master 之上增加未提交事务的数据变动&quot;,536871182]],[&quot;^17&quot;,[2492,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2492,&quot;^F&quot;,2474,536871182]],[&quot;^17&quot;,[2492,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2492,&quot;^W&quot;,2493,536871182]],[&quot;^17&quot;,[2492,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2492,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2492,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2492,&quot;^;&quot;,&quot;~u62d3582b-1e3d-4079-8391-fe69c63379b2&quot;,536871182]],[&quot;^17&quot;,[2493,&quot;^R&quot;,&quot;shadow paging 是 No-Steal + Force 策略的典型代表，它会维护两份数据库数据： #.ol&quot;,536871182]],[&quot;^17&quot;,[2493,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2493,&quot;^F&quot;,2483,536871182]],[&quot;^17&quot;,[2493,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2493,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2493,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2493,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2493,&quot;^H&quot;,661,536871182]],[&quot;^17&quot;,[2493,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2493,&quot;^;&quot;,&quot;~u62d3582b-d30b-4491-951d-52e9cef4d146&quot;,536871182]],[&quot;^17&quot;,[2494,&quot;^R&quot;,&quot;如上图所示，有 2 个并发事务 T1 和 T2，T1 要修改 A 数据，T2 要修改 B 数据，A、B 数据都位于同一块数据页上。在 T2 事务提交时，T1 事务尚未结束，这时 T1 已经修改了 A 数据，此时 DBMS 会允许被修改但未提交的 A 数据进入持久化存储吗？\\n\\n#+BEGIN_IMPORTANT\\nSteal Policy：DBMS 是否允许一个未提交事务修改持久化存储中的数据？\\n#+END_IMPORTANT\\nSteal Policy 有两种可能：允许 (Steal) 和不允许 (No-Steal)。如果选择允许，若 T1 事务回滚，则需要把已经持久化的数据读进来，回滚数据，再存回去，但在不发生回滚时 DBMS 的 I/O 较低；如果选择不允许，若 T1 事务回滚，DBMS 不需要做任何额外的操作，但在不发生回滚时 DBMS 的 I/O 较高。因此这里存在**数据恢复时间与 DBMS 处理效率的取舍**。&quot;,536871182]],[&quot;^17&quot;,[2494,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2494,&quot;^F&quot;,2471,536871182]],[&quot;^17&quot;,[2494,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2494,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2494,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2494,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2494,&quot;^;&quot;,&quot;~u62d3582b-aa26-4b0d-98c8-53c8180c387d&quot;,536871182]],[&quot;^17&quot;,[2495,&quot;^R&quot;,&quot;在于要保证 checkpoint 的正确性，我们需要暂停所有事务&quot;,536871182]],[&quot;^17&quot;,[2495,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2495,&quot;^F&quot;,2487,536871182]],[&quot;^17&quot;,[2495,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2495,&quot;^W&quot;,2487,536871182]],[&quot;^17&quot;,[2495,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2495,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2495,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2495,&quot;^;&quot;,&quot;~u62d3582b-fc57-4f32-9b67-40e6a171ca5c&quot;,536871182]],[&quot;^17&quot;,[2496,&quot;^R&quot;,&quot;需要使用类似 B+ 树的数据结构来组织 page table&quot;,536871182]],[&quot;^17&quot;,[2496,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2496,&quot;^F&quot;,2491,536871182]],[&quot;^17&quot;,[2496,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2496,&quot;^W&quot;,2491,536871182]],[&quot;^17&quot;,[2496,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2496,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2496,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2496,&quot;^;&quot;,&quot;~u62d3582b-d413-492c-b6f4-9c43760e4c3b&quot;,536871182]],[&quot;^17&quot;,[2497,&quot;^R&quot;,&quot;无需复制整个树状架构，只需要复制到达有变动的叶子节点的路径即可&quot;,536871182]],[&quot;^17&quot;,[2497,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2497,&quot;^F&quot;,2496,536871182]],[&quot;^17&quot;,[2497,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2497,&quot;^W&quot;,2491,536871182]],[&quot;^17&quot;,[2497,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2497,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2497,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2497,&quot;^;&quot;,&quot;~u62d3582b-451a-4ffc-b8f2-95b537ed73c8&quot;,536871182]],[&quot;^17&quot;,[2498,&quot;^R&quot;,&quot;需要将所有发生更新的 data page、page table 以及根节点都落盘&quot;,536871182]],[&quot;^17&quot;,[2498,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2498,&quot;^F&quot;,2502,536871182]],[&quot;^17&quot;,[2498,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2498,&quot;^W&quot;,2502,536871182]],[&quot;^17&quot;,[2498,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2498,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2498,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2498,&quot;^;&quot;,&quot;~u62d3582b-06b2-4923-8802-8c6e5503459c&quot;,536871182]],[&quot;^17&quot;,[2499,&quot;^R&quot;,&quot;需要做垃圾收集&quot;,536871182]],[&quot;^17&quot;,[2499,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2499,&quot;^F&quot;,2510,536871182]],[&quot;^17&quot;,[2499,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2499,&quot;^W&quot;,2502,536871182]],[&quot;^17&quot;,[2499,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2499,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2499,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2499,&quot;^;&quot;,&quot;~u62d3582b-1c90-4ab5-8236-abcc74d92cb9&quot;,536871182]],[&quot;^17&quot;,[2500,&quot;^R&quot;,&quot;事务开始时，需要写入一条 &lt;BEGIN&gt; 记录到日志中；事务结束时，需要写入一条 &lt;COMMIT&gt; 记录到日志中；在事务执行过程中，每条日志记录着数据修改的完整信息，如：&quot;,536871182]],[&quot;^17&quot;,[2500,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2500,&quot;^F&quot;,2506,536871182]],[&quot;^17&quot;,[2500,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2500,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2500,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2500,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2500,&quot;^;&quot;,&quot;~u62d3582b-803a-4fad-8fb2-19e0791819dd&quot;,536871182]],[&quot;^17&quot;,[2501,&quot;^R&quot;,&quot;# Logging Schemes&quot;,536871182]],[&quot;^17&quot;,[2501,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2501,&quot;^X&quot;,1,536871182]],[&quot;^17&quot;,[2501,&quot;^F&quot;,2044,536871182]],[&quot;^17&quot;,[2501,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2501,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2501,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2501,&quot;^1&gt;&quot;,1,536871182]],[&quot;^17&quot;,[2501,&quot;^Y&quot;,&quot;^1?&quot;,536871182]],[&quot;^17&quot;,[2501,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2501,&quot;^;&quot;,&quot;~u62d3582b-fa97-4596-ba38-d4dcb77d22b9&quot;,536871182]],[&quot;^17&quot;,[2502,&quot;^R&quot;,&quot;事务提交的代价较大：&quot;,536871182]],[&quot;^17&quot;,[2502,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2502,&quot;^F&quot;,2491,536871182]],[&quot;^17&quot;,[2502,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2502,&quot;^W&quot;,2514,536871182]],[&quot;^17&quot;,[2502,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2502,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2502,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2502,&quot;^;&quot;,&quot;~u62d3582b-c794-4e3f-9aca-08886abacd3d&quot;,536871182]],[&quot;^17&quot;,[2503,&quot;^R&quot;,&quot;只支持一个写事务或一批写事务一次性持久化&quot;,536871182]],[&quot;^17&quot;,[2503,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2503,&quot;^F&quot;,2499,536871182]],[&quot;^17&quot;,[2503,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2503,&quot;^W&quot;,2502,536871182]],[&quot;^17&quot;,[2503,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2503,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2503,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2503,&quot;^;&quot;,&quot;~u62d3582b-5356-4f16-9b85-8a037c8e3115&quot;,536871182]],[&quot;^17&quot;,[2504,&quot;^R&quot;,&quot;在记录操作信息时，通常有两种方案：**physical logging 和 logical logging**。前者指的是记录物理数据的变化，类似 git diff 做的事情；后者指的是记录逻辑操作内容，如 UPDATE、DELETE 和 INSERT 语句等等。\\nlogical logging 的特点总结如下：&quot;,536871182]],[&quot;^17&quot;,[2504,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2504,&quot;^F&quot;,2501,536871182]],[&quot;^17&quot;,[2504,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2504,&quot;^W&quot;,2501,536871182]],[&quot;^17&quot;,[2504,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2504,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2504,&quot;^;&quot;,&quot;~u62d3582b-4d71-4325-aa70-bf045dd1d4e4&quot;,536871182]],[&quot;^17&quot;,[2505,&quot;^R&quot;,&quot;WAL 指的是 DBMS 除了维持正常的数据文件外，额外地维护一个日志文件，上面记录着所有事务对 DBMS 数据的完整修改记录，这些记录能够帮助数据库在恢复数据时执行 undo/redo。使用 WAL 时，DBMS 必须先将操作日志持久化到独立的日志文件中，然后才修改其真正的数据页。通常实现 WAL 采用的 buffer pool policy 为 Steal + No-Force，下面我们将详细地介绍 WAL Protocol。&quot;,536871182]],[&quot;^17&quot;,[2505,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2505,&quot;^F&quot;,2516,536871182]],[&quot;^17&quot;,[2505,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2505,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2505,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2505,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2505,&quot;^;&quot;,&quot;~u62d3582b-2245-4b28-84ba-7e183eba8594&quot;,536871182]],[&quot;^17&quot;,[2506,&quot;^R&quot;,&quot;**WAL Protocol** #.ol&quot;,536871182]],[&quot;^17&quot;,[2506,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2506,&quot;^F&quot;,2505,536871182]],[&quot;^17&quot;,[2506,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2506,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2506,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2506,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2506,&quot;^H&quot;,661,536871182]],[&quot;^17&quot;,[2506,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2506,&quot;^;&quot;,&quot;~u62d3582b-d805-4830-8033-f53727d98cbd&quot;,536871182]],[&quot;^17&quot;,[2507,&quot;^R&quot;,&quot;事务中止后，无需回滚数据，因为该事务修改的数据不会被别的事务捎带落盘&quot;,536871182]],[&quot;^17&quot;,[2507,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2507,&quot;^F&quot;,2513,536871182]],[&quot;^17&quot;,[2507,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2507,&quot;^W&quot;,2513,536871182]],[&quot;^17&quot;,[2507,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2507,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2507,&quot;^;&quot;,&quot;~u62d3582b-047f-41da-aa51-41545d4448bd&quot;,536871182]],[&quot;^17&quot;,[2508,&quot;^R&quot;,&quot;事务提交后，无需重做数据，因为该事务修改的数据必然会被落盘持久化&quot;,536871182]],[&quot;^17&quot;,[2508,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2508,&quot;^F&quot;,2507,536871182]],[&quot;^17&quot;,[2508,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2508,&quot;^W&quot;,2513,536871182]],[&quot;^17&quot;,[2508,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2508,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2508,&quot;^;&quot;,&quot;~u62d3582b-9305-47cd-9700-f3e3d67b3eee&quot;,536871182]],[&quot;^17&quot;,[2509,&quot;^R&quot;,&quot;相比 physical logging，记录的内容精简&quot;,536871182]],[&quot;^17&quot;,[2509,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2509,&quot;^F&quot;,2504,536871182]],[&quot;^17&quot;,[2509,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2509,&quot;^W&quot;,2504,536871182]],[&quot;^17&quot;,[2509,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2509,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2509,&quot;^;&quot;,&quot;~u62d3582b-a699-44fc-9c71-fec16cea31dd&quot;,536871182]],[&quot;^17&quot;,[2510,&quot;^R&quot;,&quot;容易产生磁盘碎片，使得原先距离近的数据渐行渐远&quot;,536871182]],[&quot;^17&quot;,[2510,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2510,&quot;^F&quot;,2498,536871182]],[&quot;^17&quot;,[2510,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2510,&quot;^W&quot;,2502,536871182]],[&quot;^17&quot;,[2510,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2510,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2510,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2510,&quot;^;&quot;,&quot;~u62d3582b-9ba5-499e-ab45-0d718f7c7ace&quot;,536871182]],[&quot;^17&quot;,[2511,&quot;^R&quot;,&quot;如何决定 DBMS 执行 checkpoint 的周期，太频繁将导致运行时性能下降；等太久将使得 checkpoint 的内容更多，更耗时，同时数据恢复也要消耗更长的时间&quot;,536871182]],[&quot;^17&quot;,[2511,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2511,&quot;^F&quot;,2515,536871182]],[&quot;^17&quot;,[2511,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2511,&quot;^W&quot;,2487,536871182]],[&quot;^17&quot;,[2511,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2511,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2511,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2511,&quot;^;&quot;,&quot;~u62d3582b-9860-49a0-93f9-0f0156744ff9&quot;,536871182]],[&quot;^17&quot;,[2512,&quot;^R&quot;,&quot;当 DBMS 发生崩溃时，所有在最新的 checkpoint 之前提交的事务可以直接忽略，如 T1。T2 和 T3 在 checkpoint 前尚未 commit。其中，T2 需要 redo，因为它在 checkpoint 之后，crash 之前提交了，即已经告诉用户事务提交成功；T3 需要 undo，因为它在 crash 之前尚未 commit，即尚未告诉用户事务提交成功。&quot;,536871182]],[&quot;^17&quot;,[2512,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2512,&quot;^F&quot;,2518,536871182]],[&quot;^17&quot;,[2512,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2512,&quot;^W&quot;,2478,536871182]],[&quot;^17&quot;,[2512,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2512,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2512,&quot;^;&quot;,&quot;~u62d3582b-2f89-412e-93a6-a3fd0da9e1f8&quot;,536871182]],[&quot;^17&quot;,[2513,&quot;^R&quot;,&quot;最容易实现的一种策略组合就是 No-Steal + Force：&quot;,536871182]],[&quot;^17&quot;,[2513,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2513,&quot;^F&quot;,2469,536871182]],[&quot;^17&quot;,[2513,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2513,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2513,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2513,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2513,&quot;^;&quot;,&quot;~u62d3582b-9c02-4ade-8e9f-657d4a1278f7&quot;,536871182]],[&quot;^17&quot;,[2514,&quot;^R&quot;,&quot;shadow paging 很简单，但它的缺陷也很明显 #.ol&quot;,536871182]],[&quot;^17&quot;,[2514,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2514,&quot;^F&quot;,2470,536871182]],[&quot;^17&quot;,[2514,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2514,&quot;^W&quot;,2469,536871182]],[&quot;^17&quot;,[2514,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2514,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2514,&quot;^H&quot;,661,536871182]],[&quot;^17&quot;,[2514,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2514,&quot;^;&quot;,&quot;~u62d3582b-b0ae-4fb7-b658-b91138787b98&quot;,536871182]],[&quot;^17&quot;,[2515,&quot;^R&quot;,&quot;故障恢复时，扫描数据找到未提交的事务可能需要较长的时间&quot;,536871182]],[&quot;^17&quot;,[2515,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2515,&quot;^F&quot;,2495,536871182]],[&quot;^17&quot;,[2515,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2515,&quot;^W&quot;,2487,536871182]],[&quot;^17&quot;,[2515,&quot;^V&quot;,661,536871182]],[&quot;^17&quot;,[2515,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2515,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2515,&quot;^;&quot;,&quot;~u62d3582b-d152-4893-8012-32da39f5fa0e&quot;,536871182]],[&quot;^17&quot;,[2516,&quot;^R&quot;,&quot;通过刚才对 shadow paging 的讨论，我们可以发现导致其效率问题的主要原因是：**DBMS 在实现 shadow paging 时需要将许多不连续的数据页写到磁盘中，随机写对磁盘来说并不友好，如果能将这种随机写入转化为顺序写入，那么效率自然能够提升。于是 WAL 来了**。&quot;,536871182]],[&quot;^17&quot;,[2516,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2516,&quot;^F&quot;,2044,536871182]],[&quot;^17&quot;,[2516,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2516,&quot;^W&quot;,2044,536871182]],[&quot;^17&quot;,[2516,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2516,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2516,&quot;^;&quot;,&quot;~u62d3582b-4841-4957-a2df-12b8f629f018&quot;,536871182]],[&quot;^17&quot;,[2517,&quot;^R&quot;,&quot;在 T2 事务提交时，是否需要将他的数据改动持久化？\\n\\n#+BEGIN_IMPORTANT\\nForce Policy：DBMS 是否强制要求一个提交完毕事务的所有数据改动都反映在持久化存储中？\\n#+END_IMPORTANT\\nForce Policy 有两种可能：强制 (Force) 和非强制 (No-Force)。如果选择强制，每次事务提交都必须将数据落盘，数据一致性可以得到完美保障，但 I/O 效率较低；如果选择非强制，DBMS 则可以延迟批量地将数据落盘，数据一致性可能存在问题，但 I/O 效率较高。\\n**是否强制落盘！**&quot;,536871182]],[&quot;^17&quot;,[2517,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2517,&quot;^F&quot;,2494,536871182]],[&quot;^17&quot;,[2517,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2517,&quot;^W&quot;,1379,536871182]],[&quot;^17&quot;,[2517,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2517,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2517,&quot;^;&quot;,&quot;~u62d3582b-f91a-4892-b3c5-a3e3dc5f3229&quot;,536871182]],[&quot;^17&quot;,[2518,&quot;^R&quot;,&quot;如果我们放任 WAL 增长，它可以随着新的操作执行而无限增长。如此这般，在故障恢复时，DBMS 需要读取更多的日志，执行更多的恢复和回滚操作。为了避免这种情况出现，DBMS 需要周期性地记录 checkpoint，即将所有日志记录和数据页都持久化到存储设备中，然后在日志中写入一条 &lt;CHECKPOINT&gt; 记录，举例如下：\\n![image.png](../assets/image_1657768490907_0.png)&quot;,536871182]],[&quot;^17&quot;,[2518,&quot;^P&quot;,&quot;^19&quot;,536871182]],[&quot;^17&quot;,[2518,&quot;^F&quot;,2478,536871182]],[&quot;^17&quot;,[2518,&quot;^Z&quot;,1379,536871182]],[&quot;^17&quot;,[2518,&quot;^W&quot;,2478,536871182]],[&quot;^17&quot;,[2518,&quot;^V&quot;,1379,536871182]],[&quot;^17&quot;,[2518,&quot;^1@&quot;,true,536871182]],[&quot;^17&quot;,[2518,&quot;^;&quot;,&quot;~u62d3582b-9770-4a4a-bea7-895ea7cf2b67&quot;,536871182]],[&quot;^17&quot;,[2543,&quot;^L&quot;,1657955666079,536871263]],[&quot;^17&quot;,[2543,&quot;^@&quot;,false,536871188]],[&quot;^17&quot;,[2543,&quot;^[&quot;,&quot;undo log&quot;,536871188]],[&quot;^17&quot;,[2543,&quot;^13&quot;,&quot;undo log&quot;,536871188]],[&quot;^17&quot;,[2543,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896914]],[&quot;^17&quot;,[2543,&quot;^B&quot;,1657955666079,536871263]],[&quot;^17&quot;,[2543,&quot;^;&quot;,&quot;~u62d3582c-2f8c-489a-bbca-8c158d6116b4&quot;,536871230]],[&quot;^17&quot;,[2544,&quot;^R&quot;,&quot;Innodb类似于 ((62cf9087-42cc-4ac9-bda7-77e5d8fdc2fe))&quot;,536871188]],[&quot;^17&quot;,[2544,&quot;^P&quot;,&quot;^19&quot;,536871188]],[&quot;^17&quot;,[2544,&quot;^F&quot;,4520,536896914]],[&quot;^17&quot;,[2544,&quot;^Z&quot;,2543,536871188]],[&quot;^17&quot;,[2544,&quot;^W&quot;,2543,536871188]],[&quot;^17&quot;,[2544,&quot;^V&quot;,2543,536871188]],[&quot;^17&quot;,[2544,&quot;^H&quot;,713,536871188]],[&quot;^17&quot;,[2544,&quot;^1@&quot;,true,536871188]],[&quot;^17&quot;,[2544,&quot;^;&quot;,&quot;~u62d3582b-f1a5-4360-95c2-07bb9765e811&quot;,536871188]],[&quot;^17&quot;,[2545,&quot;^R&quot;,&quot;&quot;,536871188]],[&quot;^17&quot;,[2545,&quot;^P&quot;,&quot;^19&quot;,536871188]],[&quot;^17&quot;,[2545,&quot;^F&quot;,2544,536871188]],[&quot;^17&quot;,[2545,&quot;^Z&quot;,2543,536871188]],[&quot;^17&quot;,[2545,&quot;^W&quot;,2543,536871188]],[&quot;^17&quot;,[2545,&quot;^V&quot;,2543,536871188]],[&quot;^17&quot;,[2545,&quot;^1@&quot;,true,536871188]],[&quot;^17&quot;,[2545,&quot;^;&quot;,&quot;~u62d3582b-a702-40cb-aab3-c926c81cece0&quot;,536871188]],[&quot;^17&quot;,[2550,&quot;^L&quot;,1657955666074,536871263]],[&quot;^17&quot;,[2550,&quot;^@&quot;,false,536871192]],[&quot;^17&quot;,[2550,&quot;^[&quot;,&quot;不同树结构对比&quot;,536871192]],[&quot;^17&quot;,[2550,&quot;^13&quot;,&quot;不同树结构对比&quot;,536871192]],[&quot;^17&quot;,[2550,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896801]],[&quot;^17&quot;,[2550,&quot;^B&quot;,1658290157990,536875546]],[&quot;^17&quot;,[2550,&quot;^;&quot;,&quot;~u62d3582c-d6c2-4ea9-9f11-bd3a242fbc1c&quot;,536871230]],[&quot;^17&quot;,[2552,&quot;^R&quot;,&quot;# 应用&quot;,536871192]],[&quot;^17&quot;,[2552,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2552,&quot;^X&quot;,1,536871192]],[&quot;^17&quot;,[2552,&quot;^F&quot;,2559,536871192]],[&quot;^17&quot;,[2552,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2552,&quot;^W&quot;,2550,536871192]],[&quot;^17&quot;,[2552,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2552,&quot;^1&gt;&quot;,1,536871192]],[&quot;^17&quot;,[2552,&quot;^Y&quot;,&quot;^1?&quot;,536871192]],[&quot;^17&quot;,[2552,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2552,&quot;^;&quot;,&quot;~u62d3582b-1c9a-406c-bf12-102b0d1dcefd&quot;,536871192]],[&quot;^17&quot;,[2553,&quot;^R&quot;,&quot;ngnix中,用红黑树管理timer,因为红黑树是有序的,可以很快的得到距离当前最小的定时器.&quot;,536871192]],[&quot;^17&quot;,[2553,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2553,&quot;^F&quot;,2563,536871192]],[&quot;^17&quot;,[2553,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2553,&quot;^W&quot;,2561,536871192]],[&quot;^17&quot;,[2553,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2553,&quot;^V&quot;,2551,536871192]],[&quot;^17&quot;,[2553,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2553,&quot;^;&quot;,&quot;~u62d3582b-fb6a-41e4-b35e-75caf521f8ca&quot;,536871192]],[&quot;^17&quot;,[2554,&quot;^R&quot;,&quot;B/B+树： 用于磁盘文件系统，数据索引，数据库索引&quot;,536871192]],[&quot;^17&quot;,[2554,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2554,&quot;^F&quot;,2561,536871192]],[&quot;^17&quot;,[2554,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2554,&quot;^W&quot;,2552,536871192]],[&quot;^17&quot;,[2554,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2554,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2554,&quot;^;&quot;,&quot;~u62d3582b-22c9-431d-9144-17b7781b3b71&quot;,536871192]],[&quot;^17&quot;,[2555,&quot;^R&quot;,&quot;java中TreeMap、hashmap、concurrenthashmap（1.8）的实现.&quot;,536871192]],[&quot;^17&quot;,[2555,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2555,&quot;^F&quot;,2553,536871192]],[&quot;^17&quot;,[2555,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2555,&quot;^W&quot;,2561,536871192]],[&quot;^17&quot;,[2555,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2555,&quot;^V&quot;,2551,536871192]],[&quot;^17&quot;,[2555,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2555,&quot;^;&quot;,&quot;~u62d3582b-3b3a-448f-bae3-9245555270ff&quot;,536871192]],[&quot;^17&quot;,[2556,&quot;^R&quot;,&quot;著名的linux进程调度[[Completely Fair Scheduler]],用红黑树管理进程控制块,进程的虚拟内存区域都存储在一颗红黑树上,每个虚拟地址区域都对应红黑树的一个节点,左指针指向相邻的地址虚拟存储区域,右指针指向相邻的高地址虚拟地址空间.&quot;,536875546]],[&quot;^17&quot;,[2556,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2556,&quot;^F&quot;,2566,536871192]],[&quot;^17&quot;,[2556,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2556,&quot;^W&quot;,2561,536871192]],[&quot;^17&quot;,[2556,&quot;^V&quot;,2550,536875546]],[&quot;^17&quot;,[2556,&quot;^V&quot;,2551,536875546]],[&quot;^17&quot;,[2556,&quot;^V&quot;,3333,536875546]],[&quot;^17&quot;,[2556,&quot;^?&quot;,[&quot;^ &quot;],536875546]],[&quot;^17&quot;,[2556,&quot;^H&quot;,3333,536875546]],[&quot;^17&quot;,[2556,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2556,&quot;^;&quot;,&quot;~u62d3582b-166e-4016-a953-9a3c765d6f2b&quot;,536871192]],[&quot;^17&quot;,[2557,&quot;^R&quot;,&quot;[ 二叉查找树、平衡二叉树、红黑树、B-/B+树性能对比](https://blog.csdn.net/z702143700/article/details/49079107)&quot;,536871192]],[&quot;^17&quot;,[2557,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2557,&quot;^F&quot;,4500,536896801]],[&quot;^17&quot;,[2557,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2557,&quot;^W&quot;,2550,536871192]],[&quot;^17&quot;,[2557,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2557,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2557,&quot;^;&quot;,&quot;~u62d3582b-c89a-4a8b-95e1-d13a7a96faa7&quot;,536871192]],[&quot;^17&quot;,[2558,&quot;^R&quot;,&quot;1、节点存储关键字多，IO次数少：B-树和B+树最重要的一个区别就是B+树只有叶节点存放数据，其余节点用来索引，而B-树是每个索引节点都会有Data域。B+树的一个结点可以存储更多的关键字，每个结点能索引的范围更大更精确，也意味着B+树单次磁盘IO的信息量大于B树，I/O的次数相对减少。\\n          B+树空间利用率更高，可减少I/O次数，磁盘读写代价更低。一般来说，索引本身也很大，不可能全部存储在内存中，因此索引往往以索引文件的形式存储的磁盘上。这样的话，索引查找过程中就要产生磁盘I/O消耗。B+树的内部结点并没有指向关键字具体信息的指针，只是作为索引使用，其内部结点比B树小，盘块能容纳的结点中关键字数量更多，一次性读入内存中可以查找的关键字也就越多，相对的，IO读写次数也就降低了。而IO读写次数是影响索引检索效率的最大因素；&quot;,536871192]],[&quot;^17&quot;,[2558,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2558,&quot;^F&quot;,2559,536871192]],[&quot;^17&quot;,[2558,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2558,&quot;^W&quot;,2559,536871192]],[&quot;^17&quot;,[2558,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2558,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2558,&quot;^;&quot;,&quot;~u62d3582b-104d-4008-86e4-7f99c93f59d0&quot;,536871192]],[&quot;^17&quot;,[2559,&quot;^R&quot;,&quot;## 为什么说B+树比B树更适合实际应用中操作系统的文件索引和数据库索引？&quot;,536871192]],[&quot;^17&quot;,[2559,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2559,&quot;^X&quot;,2,536871192]],[&quot;^17&quot;,[2559,&quot;^F&quot;,2557,536871192]],[&quot;^17&quot;,[2559,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2559,&quot;^W&quot;,2550,536871192]],[&quot;^17&quot;,[2559,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2559,&quot;^1&gt;&quot;,2,536871192]],[&quot;^17&quot;,[2559,&quot;^Y&quot;,&quot;^1?&quot;,536871192]],[&quot;^17&quot;,[2559,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2559,&quot;^;&quot;,&quot;~u62d3582b-7c90-4f8b-aab2-e97ba8c5a261&quot;,536871192]],[&quot;^17&quot;,[2560,&quot;^R&quot;,&quot;Trie树：用于统计和排序大量字符串，如自动机&quot;,536871192]],[&quot;^17&quot;,[2560,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2560,&quot;^F&quot;,2554,536871192]],[&quot;^17&quot;,[2560,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2560,&quot;^W&quot;,2552,536871192]],[&quot;^17&quot;,[2560,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2560,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2560,&quot;^;&quot;,&quot;~u62d3582b-9f64-4e54-9aea-c57b9f96f43c&quot;,536871192]],[&quot;^17&quot;,[2561,&quot;^R&quot;,&quot;[[红黑树]]：\\nid:: 62cfa350-b698-43f7-8aa0-06dd1520a7f4&quot;,536871192]],[&quot;^17&quot;,[2561,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2561,&quot;^F&quot;,2564,536871192]],[&quot;^17&quot;,[2561,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2561,&quot;^W&quot;,2552,536871192]],[&quot;^17&quot;,[2561,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2561,&quot;^V&quot;,2551,536871192]],[&quot;^17&quot;,[2561,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62cfa350-b698-43f7-8aa0-06dd1520a7f4&quot;],536871192]],[&quot;^17&quot;,[2561,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536871192]],[&quot;^17&quot;,[2561,&quot;^H&quot;,2551,536871192]],[&quot;^17&quot;,[2561,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2561,&quot;^;&quot;,&quot;~u62cfa350-b698-43f7-8aa0-06dd1520a7f4&quot;,536871192]],[&quot;^17&quot;,[2562,&quot;^R&quot;,&quot;3、 B树只适合随机检索，而B+树同时支持随机检索和顺序检索；\\n     B+树的查询效率更加稳定。B树搜索有可能会在非叶子结点结束，越靠近根节点的记录查找时间越短，只要找到关键字即可确定记录的存在，其性能等价于在关键字全集内做一次二分查找。而在B+树中，顺序检索比较明显，随机检索时，任何关键字的查找都必须走一条从根节点到叶节点的路，所有关键字的查找路径长度相同，导致每一个关键字的查询效率相当。\\n     B-树在提高了磁盘IO性能的同时并没有解决元素遍历的效率低下的问题。B+树的叶子节点使用指针顺序连接在一起，只要遍历叶子节点就可以实现整棵树的遍历。而且在数据库中基于范围的查询是非常频繁的，而B树不支持这样的操作。\\n     增删文件（节点）时，效率更高。因为B+树的叶子节点包含所有关键字，并以有序的链表结构存储，这样可很好提高增删效率。&quot;,536871192]],[&quot;^17&quot;,[2562,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2562,&quot;^F&quot;,2565,536871192]],[&quot;^17&quot;,[2562,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2562,&quot;^W&quot;,2559,536871192]],[&quot;^17&quot;,[2562,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2562,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2562,&quot;^;&quot;,&quot;~u62d3582b-69ae-463b-9730-01092ceec664&quot;,536871192]],[&quot;^17&quot;,[2563,&quot;^R&quot;,&quot;IO多路复用epoll的实现采用红黑树组织管理sockfd，以支持快速的增删改查.&quot;,536871192]],[&quot;^17&quot;,[2563,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2563,&quot;^F&quot;,2556,536871192]],[&quot;^17&quot;,[2563,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2563,&quot;^W&quot;,2561,536871192]],[&quot;^17&quot;,[2563,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2563,&quot;^V&quot;,2551,536871192]],[&quot;^17&quot;,[2563,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2563,&quot;^;&quot;,&quot;~u62d3582b-c211-4b02-b4c1-ed9ab805a2cb&quot;,536871192]],[&quot;^17&quot;,[2564,&quot;^R&quot;,&quot;AVL 树：用于 windows 对进程地址空间的管理&quot;,536871192]],[&quot;^17&quot;,[2564,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2564,&quot;^F&quot;,2552,536871192]],[&quot;^17&quot;,[2564,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2564,&quot;^W&quot;,2552,536871192]],[&quot;^17&quot;,[2564,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2564,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2564,&quot;^;&quot;,&quot;~u62d3582b-277a-4f04-9f72-912493dd0f58&quot;,536871192]],[&quot;^17&quot;,[2565,&quot;^R&quot;,&quot;2、B+树更适合区间访问：MySQL是一种关系型数据库，区间访问是常见的一种情况（上面提到的局部性原理与磁盘预读），B+树叶结点增加的链指针，加强了区间访问性，可使用在区间查询的场景；而使用B树则无法进行区间查找。&quot;,536871192]],[&quot;^17&quot;,[2565,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2565,&quot;^F&quot;,2558,536871192]],[&quot;^17&quot;,[2565,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2565,&quot;^W&quot;,2559,536871192]],[&quot;^17&quot;,[2565,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2565,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2565,&quot;^;&quot;,&quot;~u62d3582b-80a2-401c-91d4-d2eac48703ae&quot;,536871192]],[&quot;^17&quot;,[2566,&quot;^R&quot;,&quot;广泛用于C++的STL中,map和set都是用红黑树实现的.&quot;,536871192]],[&quot;^17&quot;,[2566,&quot;^P&quot;,&quot;^19&quot;,536871192]],[&quot;^17&quot;,[2566,&quot;^F&quot;,2561,536871192]],[&quot;^17&quot;,[2566,&quot;^Z&quot;,2550,536871192]],[&quot;^17&quot;,[2566,&quot;^W&quot;,2561,536871192]],[&quot;^17&quot;,[2566,&quot;^V&quot;,2550,536871192]],[&quot;^17&quot;,[2566,&quot;^V&quot;,2551,536871192]],[&quot;^17&quot;,[2566,&quot;^1@&quot;,true,536871192]],[&quot;^17&quot;,[2566,&quot;^;&quot;,&quot;~u62d3582b-6db2-46eb-bb2e-7e33c0966c10&quot;,536871192]],[&quot;^17&quot;,[2573,&quot;^L&quot;,1657955666075,536871263]],[&quot;^17&quot;,[2573,&quot;^@&quot;,false,536871196]],[&quot;^17&quot;,[2573,&quot;^[&quot;,&quot;保存点&quot;,536871196]],[&quot;^17&quot;,[2573,&quot;^13&quot;,&quot;保存点&quot;,536871196]],[&quot;^17&quot;,[2573,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896924]],[&quot;^17&quot;,[2573,&quot;^B&quot;,1657955666075,536871263]],[&quot;^17&quot;,[2573,&quot;^;&quot;,&quot;~u62d3582c-2e3e-444d-abc7-042ee73d6c84&quot;,536871230]],[&quot;^17&quot;,[2574,&quot;^R&quot;,&quot;如果开启一个事务，已经写了很多语句，突然发现执行完上一语句时发现语句写错了。你只好使用rollback语句让数据库恢复到事务开启之前的状态。以前写完的语句也需要重新执行。所以mysql数据库的作者提出了保存点（savepoint）的概念。开启事务后在执行语句后面打几个点，我们调用rollback语句就会回滚到指定的点。而不是回到事务执行之前的样子。&quot;,536871196]],[&quot;^17&quot;,[2574,&quot;^P&quot;,&quot;^19&quot;,536871196]],[&quot;^17&quot;,[2574,&quot;^F&quot;,4522,536896924]],[&quot;^17&quot;,[2574,&quot;^Z&quot;,2573,536871196]],[&quot;^17&quot;,[2574,&quot;^W&quot;,2573,536871196]],[&quot;^17&quot;,[2574,&quot;^V&quot;,2573,536871196]],[&quot;^17&quot;,[2574,&quot;^1@&quot;,true,536871196]],[&quot;^17&quot;,[2574,&quot;^;&quot;,&quot;~u62d3582c-1086-413c-8d1f-9e43872dffc3&quot;,536871196]],[&quot;^17&quot;,[2637,&quot;^L&quot;,1657614737519,536871263]],[&quot;^17&quot;,[2637,&quot;^@&quot;,false,536871216]],[&quot;^17&quot;,[2637,&quot;^[&quot;,&quot;幻读 脏读 不可重复读&quot;,536871216]],[&quot;^17&quot;,[2637,&quot;^13&quot;,&quot;幻读 脏读 不可重复读&quot;,536871216]],[&quot;^17&quot;,[2637,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896877]],[&quot;^17&quot;,[2637,&quot;^B&quot;,1657614739310,536871263]],[&quot;^17&quot;,[2637,&quot;^;&quot;,&quot;~u62d3582c-043a-434e-9c9b-ba29b4eb4b32&quot;,536871230]],[&quot;^17&quot;,[2638,&quot;^R&quot;,&quot;[详解-脏读、幻读与不可重复读 - 腾讯云开发者社区-腾讯云](https://cloud.tencent.com/developer/article/1849815)&quot;,536871216]],[&quot;^17&quot;,[2638,&quot;^P&quot;,&quot;^19&quot;,536871216]],[&quot;^17&quot;,[2638,&quot;^F&quot;,4513,536896877]],[&quot;^17&quot;,[2638,&quot;^Z&quot;,2637,536871216]],[&quot;^17&quot;,[2638,&quot;^W&quot;,2637,536871216]],[&quot;^17&quot;,[2638,&quot;^V&quot;,2637,536871216]],[&quot;^17&quot;,[2638,&quot;^1@&quot;,true,536871216]],[&quot;^17&quot;,[2638,&quot;^;&quot;,&quot;~u62d3582c-dcfd-48e1-a461-9a867c0db0c4&quot;,536871216]],[&quot;^17&quot;,[2639,&quot;^R&quot;,&quot;&quot;,536871216]],[&quot;^17&quot;,[2639,&quot;^P&quot;,&quot;^19&quot;,536871216]],[&quot;^17&quot;,[2639,&quot;^F&quot;,2638,536871216]],[&quot;^17&quot;,[2639,&quot;^Z&quot;,2637,536871216]],[&quot;^17&quot;,[2639,&quot;^W&quot;,2637,536871216]],[&quot;^17&quot;,[2639,&quot;^V&quot;,2637,536871216]],[&quot;^17&quot;,[2639,&quot;^1@&quot;,true,536871216]],[&quot;^17&quot;,[2639,&quot;^;&quot;,&quot;~u62d3582c-1034-4246-83cd-1e79139501c6&quot;,536871216]],[&quot;^17&quot;,[2843,&quot;^L&quot;,1657619611597,536871263]],[&quot;^17&quot;,[2843,&quot;^@&quot;,false,536871230]],[&quot;^17&quot;,[2843,&quot;^[&quot;,&quot;直方图&quot;,536871230]],[&quot;^17&quot;,[2843,&quot;^13&quot;,&quot;直方图&quot;,536871230]],[&quot;^17&quot;,[2843,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896831]],[&quot;^17&quot;,[2843,&quot;^B&quot;,1657620151636,536871263]],[&quot;^17&quot;,[2843,&quot;^;&quot;,&quot;~u62d3582d-fad7-411c-af56-b230ddc2dd3f&quot;,536871246]],[&quot;^17&quot;,[2844,&quot;^L&quot;,1657619442940,536871263]],[&quot;^17&quot;,[2844,&quot;^@&quot;,false,536871230]],[&quot;^17&quot;,[2844,&quot;^[&quot;,&quot;选择性与基数&quot;,536871230]],[&quot;^17&quot;,[2844,&quot;^13&quot;,&quot;选择性与基数&quot;,536871230]],[&quot;^17&quot;,[2844,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896705]],[&quot;^17&quot;,[2844,&quot;^B&quot;,1657619512067,536871263]],[&quot;^17&quot;,[2844,&quot;^;&quot;,&quot;~u62d3582d-cc6a-4809-8a8c-e00f8507cf5f&quot;,536871260]],[&quot;^17&quot;,[2845,&quot;^L&quot;,1657955666073,536871263]],[&quot;^17&quot;,[2845,&quot;^P&quot;,&quot;^19&quot;,536896770]],[&quot;^17&quot;,[2845,&quot;^@&quot;,false,536871230]],[&quot;^17&quot;,[2845,&quot;^[&quot;,&quot;索引&quot;,536871230]],[&quot;^17&quot;,[2845,&quot;^13&quot;,&quot;索引&quot;,536871230]],[&quot;^17&quot;,[2845,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896773]],[&quot;^17&quot;,[2845,&quot;^B&quot;,1657955666073,536871263]],[&quot;^17&quot;,[2845,&quot;^;&quot;,&quot;~u62d3582c-94ed-4749-aecf-6e5cd9051e94&quot;,536871230]],[&quot;^17&quot;,[2846,&quot;^R&quot;,&quot;[[B+Tree]]&quot;,536871230]],[&quot;^17&quot;,[2846,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2846,&quot;^F&quot;,2893,536871230]],[&quot;^17&quot;,[2846,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2846,&quot;^W&quot;,2893,536871230]],[&quot;^17&quot;,[2846,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2846,&quot;^V&quot;,2842,536871230]],[&quot;^17&quot;,[2846,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2846,&quot;^H&quot;,2842,536871230]],[&quot;^17&quot;,[2846,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2846,&quot;^;&quot;,&quot;~u62d3582c-051b-46fe-b0cc-8dcb2fc09ac8&quot;,536871230]],[&quot;^17&quot;,[2847,&quot;^R&quot;,&quot;[[Concurrency Control]]&quot;,536871230]],[&quot;^17&quot;,[2847,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2847,&quot;^F&quot;,2887,536871230]],[&quot;^17&quot;,[2847,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2847,&quot;^W&quot;,2923,536871230]],[&quot;^17&quot;,[2847,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2847,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2847,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2847,&quot;^H&quot;,67,536871230]],[&quot;^17&quot;,[2847,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2847,&quot;^;&quot;,&quot;~u62d3582c-4f98-4ad1-9961-b7b68977adfe&quot;,536871230]],[&quot;^17&quot;,[2848,&quot;^R&quot;,&quot;((62cb801f-317c-4f9b-b8e5-3d1b8db6790e))&quot;,536871230]],[&quot;^17&quot;,[2848,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2848,&quot;^F&quot;,2876,536871230]],[&quot;^17&quot;,[2848,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2848,&quot;^W&quot;,2919,536871230]],[&quot;^17&quot;,[2848,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2848,&quot;^V&quot;,2253,536871230]],[&quot;^17&quot;,[2848,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2848,&quot;^H&quot;,2255,536871230]],[&quot;^17&quot;,[2848,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2848,&quot;^;&quot;,&quot;~u62d3582c-b4e6-4621-85fc-788e876b7080&quot;,536871230]],[&quot;^17&quot;,[2849,&quot;^R&quot;,&quot;((62bc3227-df55-47ae-9ce5-9690a24d36c5))&quot;,536871230]],[&quot;^17&quot;,[2849,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2849,&quot;^F&quot;,2899,536871230]],[&quot;^17&quot;,[2849,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2849,&quot;^W&quot;,2874,536871230]],[&quot;^17&quot;,[2849,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2849,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2849,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2849,&quot;^H&quot;,1164,536871230]],[&quot;^17&quot;,[2849,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2849,&quot;^;&quot;,&quot;~u62d3582c-bb8a-4fd3-83a3-d38062561457&quot;,536871230]],[&quot;^17&quot;,[2850,&quot;^R&quot;,&quot;[[Snapshot isolation]]&quot;,536871230]],[&quot;^17&quot;,[2850,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2850,&quot;^F&quot;,2929,536871230]],[&quot;^17&quot;,[2850,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2850,&quot;^W&quot;,2905,536871230]],[&quot;^17&quot;,[2850,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2850,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2850,&quot;^V&quot;,1097,536871230]],[&quot;^17&quot;,[2850,&quot;^V&quot;,1833,536871230]],[&quot;^17&quot;,[2850,&quot;^H&quot;,1833,536871230]],[&quot;^17&quot;,[2850,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2850,&quot;^;&quot;,&quot;~u62d3582c-68dc-478a-be95-ba2ee9b5bbd1&quot;,536871230]],[&quot;^17&quot;,[2851,&quot;^R&quot;,&quot;[[Sorting &amp; Aggregation]]&quot;,536871230]],[&quot;^17&quot;,[2851,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2851,&quot;^F&quot;,2920,536871230]],[&quot;^17&quot;,[2851,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2851,&quot;^W&quot;,2883,536871230]],[&quot;^17&quot;,[2851,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2851,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2851,&quot;^V&quot;,297,536871230]],[&quot;^17&quot;,[2851,&quot;^H&quot;,297,536871230]],[&quot;^17&quot;,[2851,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2851,&quot;^;&quot;,&quot;~u62d3582c-efa3-42d9-90b1-e619e7bffb04&quot;,536871230]],[&quot;^17&quot;,[2852,&quot;^R&quot;,&quot;[[2PC]]&quot;,536871230]],[&quot;^17&quot;,[2852,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2852,&quot;^F&quot;,2926,536871230]],[&quot;^17&quot;,[2852,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2852,&quot;^W&quot;,2926,536871230]],[&quot;^17&quot;,[2852,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2852,&quot;^V&quot;,61,536871230]],[&quot;^17&quot;,[2852,&quot;^V&quot;,401,536871230]],[&quot;^17&quot;,[2852,&quot;^H&quot;,401,536871230]],[&quot;^17&quot;,[2852,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2852,&quot;^;&quot;,&quot;~u62d3582c-f92b-4b6a-9efb-70bac016cdc2&quot;,536871230]],[&quot;^17&quot;,[2853,&quot;^R&quot;,&quot;((62c9766e-f802-43c4-8169-568065347c40))&quot;,536871230]],[&quot;^17&quot;,[2853,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2853,&quot;^F&quot;,2873,536871230]],[&quot;^17&quot;,[2853,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2853,&quot;^W&quot;,2873,536871230]],[&quot;^17&quot;,[2853,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2853,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2853,&quot;^V&quot;,269,536871230]],[&quot;^17&quot;,[2853,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2853,&quot;^H&quot;,1978,536871230]],[&quot;^17&quot;,[2853,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2853,&quot;^;&quot;,&quot;~u62d3582c-11c1-489b-8fed-6c3800a66680&quot;,536871230]],[&quot;^17&quot;,[2854,&quot;^R&quot;,&quot;((6292e996-d521-409e-a598-4f37ac2fdb37))&quot;,536871230]],[&quot;^17&quot;,[2854,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2854,&quot;^F&quot;,2901,536871230]],[&quot;^17&quot;,[2854,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2854,&quot;^W&quot;,2858,536871230]],[&quot;^17&quot;,[2854,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2854,&quot;^V&quot;,109,536871230]],[&quot;^17&quot;,[2854,&quot;^H&quot;,512,536871230]],[&quot;^17&quot;,[2854,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2854,&quot;^;&quot;,&quot;~u62d3582c-51f2-4c68-8b12-9591ab422ae5&quot;,536871230]],[&quot;^17&quot;,[2855,&quot;^R&quot;,&quot;((62be7815-8318-4f8b-b5fb-bc00efe138d9))&quot;,536871230]],[&quot;^17&quot;,[2855,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2855,&quot;^F&quot;,2894,536871230]],[&quot;^17&quot;,[2855,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2855,&quot;^W&quot;,2894,536871230]],[&quot;^17&quot;,[2855,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2855,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2855,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2855,&quot;^H&quot;,1624,536871230]],[&quot;^17&quot;,[2855,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2855,&quot;^;&quot;,&quot;~u62d3582c-3e0e-4fe5-bf1b-a12ddf898db3&quot;,536871230]],[&quot;^17&quot;,[2856,&quot;^R&quot;,&quot;((62c9766e-c9ca-4f72-baf7-83e0f73a96b8))&quot;,536871230]],[&quot;^17&quot;,[2856,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2856,&quot;^F&quot;,2853,536871230]],[&quot;^17&quot;,[2856,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2856,&quot;^W&quot;,2873,536871230]],[&quot;^17&quot;,[2856,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2856,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2856,&quot;^V&quot;,269,536871230]],[&quot;^17&quot;,[2856,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2856,&quot;^H&quot;,1965,536871230]],[&quot;^17&quot;,[2856,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2856,&quot;^;&quot;,&quot;~u62d3582c-c2fc-4bdb-b7d1-7d8c99fa71ac&quot;,536871230]],[&quot;^17&quot;,[2857,&quot;^R&quot;,&quot;((62b09238-6e5b-4ceb-9057-09c0fafb5a11))&quot;,536871230]],[&quot;^17&quot;,[2857,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2857,&quot;^F&quot;,2908,536871230]],[&quot;^17&quot;,[2857,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2857,&quot;^W&quot;,2908,536871230]],[&quot;^17&quot;,[2857,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2857,&quot;^V&quot;,100,536871230]],[&quot;^17&quot;,[2857,&quot;^V&quot;,104,536871230]],[&quot;^17&quot;,[2857,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2857,&quot;^H&quot;,974,536871230]],[&quot;^17&quot;,[2857,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2857,&quot;^;&quot;,&quot;~u62d3582c-e18c-4d32-9b9a-4755da1cab38&quot;,536871230]],[&quot;^17&quot;,[2858,&quot;^R&quot;,&quot;[[BufferPool]]&quot;,536871230]],[&quot;^17&quot;,[2858,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2858,&quot;^F&quot;,2886,536871230]],[&quot;^17&quot;,[2858,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2858,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2858,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2858,&quot;^V&quot;,109,536871230]],[&quot;^17&quot;,[2858,&quot;^H&quot;,109,536871230]],[&quot;^17&quot;,[2858,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2858,&quot;^;&quot;,&quot;~u62d3582c-181e-4b81-a693-17a5058ff81b&quot;,536871230]],[&quot;^17&quot;,[2859,&quot;^R&quot;,&quot;[[MVCC]]&quot;,536871230]],[&quot;^17&quot;,[2859,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2859,&quot;^F&quot;,2847,536871230]],[&quot;^17&quot;,[2859,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2859,&quot;^W&quot;,2923,536871230]],[&quot;^17&quot;,[2859,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2859,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2859,&quot;^V&quot;,1417,536871230]],[&quot;^17&quot;,[2859,&quot;^H&quot;,1417,536871230]],[&quot;^17&quot;,[2859,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2859,&quot;^;&quot;,&quot;~u62d3582c-ef4f-418b-be0e-daf29860321c&quot;,536871230]],[&quot;^17&quot;,[2860,&quot;^R&quot;,&quot;((62c9766e-3321-4031-935a-217746fe2e3b))&quot;,536871230]],[&quot;^17&quot;,[2860,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2860,&quot;^F&quot;,2871,536871230]],[&quot;^17&quot;,[2860,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2860,&quot;^W&quot;,2873,536871230]],[&quot;^17&quot;,[2860,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2860,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2860,&quot;^V&quot;,269,536871230]],[&quot;^17&quot;,[2860,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2860,&quot;^H&quot;,1989,536871230]],[&quot;^17&quot;,[2860,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2860,&quot;^;&quot;,&quot;~u62d3582c-3605-4314-890a-f355c67374a4&quot;,536871230]],[&quot;^17&quot;,[2861,&quot;^R&quot;,&quot;[[Deadlock Detection &amp; Prevention]]&quot;,536871230]],[&quot;^17&quot;,[2861,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2861,&quot;^F&quot;,2877,536871230]],[&quot;^17&quot;,[2861,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2861,&quot;^W&quot;,2862,536871230]],[&quot;^17&quot;,[2861,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2861,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2861,&quot;^V&quot;,623,536871230]],[&quot;^17&quot;,[2861,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2861,&quot;^V&quot;,779,536871230]],[&quot;^17&quot;,[2861,&quot;^H&quot;,779,536871230]],[&quot;^17&quot;,[2861,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2861,&quot;^;&quot;,&quot;~u62d3582c-6540-45f2-8739-76b61e77dd72&quot;,536871230]],[&quot;^17&quot;,[2862,&quot;^R&quot;,&quot;[[2PL]]&quot;,536871230]],[&quot;^17&quot;,[2862,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2862,&quot;^F&quot;,2847,536871230]],[&quot;^17&quot;,[2862,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2862,&quot;^W&quot;,2847,536871230]],[&quot;^17&quot;,[2862,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2862,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2862,&quot;^V&quot;,623,536871230]],[&quot;^17&quot;,[2862,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2862,&quot;^H&quot;,623,536871230]],[&quot;^17&quot;,[2862,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2862,&quot;^;&quot;,&quot;~u62d3582c-e912-48aa-a5e6-e784fdff691d&quot;,536871230]],[&quot;^17&quot;,[2863,&quot;^R&quot;,&quot;[[OLAP]]&quot;,536871230]],[&quot;^17&quot;,[2863,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2863,&quot;^F&quot;,2913,536871230]],[&quot;^17&quot;,[2863,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2863,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2863,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2863,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2863,&quot;^V&quot;,498,536871230]],[&quot;^17&quot;,[2863,&quot;^H&quot;,498,536871230]],[&quot;^17&quot;,[2863,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2863,&quot;^;&quot;,&quot;~u62d3582c-5d5a-4db6-a152-38b99bb838c8&quot;,536871230]],[&quot;^17&quot;,[2864,&quot;^R&quot;,&quot;((62be666a-d381-4bc0-b323-8da31b95c797))&quot;,536871230]],[&quot;^17&quot;,[2864,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2864,&quot;^F&quot;,2875,536871230]],[&quot;^17&quot;,[2864,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2864,&quot;^W&quot;,2870,536871230]],[&quot;^17&quot;,[2864,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2864,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2864,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2864,&quot;^H&quot;,1668,536871230]],[&quot;^17&quot;,[2864,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2864,&quot;^;&quot;,&quot;~u62d3582c-6a4a-4d99-9804-3e1d6eb0894f&quot;,536871230]],[&quot;^17&quot;,[2865,&quot;^R&quot;,&quot;((62ba4b6f-e99b-4820-83e9-118781332118))&quot;,536871230]],[&quot;^17&quot;,[2865,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2865,&quot;^F&quot;,2912,536871230]],[&quot;^17&quot;,[2865,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2865,&quot;^W&quot;,2925,536871230]],[&quot;^17&quot;,[2865,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2865,&quot;^V&quot;,1010,536871230]],[&quot;^17&quot;,[2865,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2865,&quot;^H&quot;,1020,536871230]],[&quot;^17&quot;,[2865,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2865,&quot;^;&quot;,&quot;~u62d3582c-0ad9-4fe9-975a-055ae51b762f&quot;,536871230]],[&quot;^17&quot;,[2866,&quot;^R&quot;,&quot;[[Introduction to Distributed Databases]]&quot;,536871230]],[&quot;^17&quot;,[2866,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2866,&quot;^F&quot;,2882,536871230]],[&quot;^17&quot;,[2866,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2866,&quot;^W&quot;,2898,536871230]],[&quot;^17&quot;,[2866,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2866,&quot;^V&quot;,284,536871230]],[&quot;^17&quot;,[2866,&quot;^H&quot;,284,536871230]],[&quot;^17&quot;,[2866,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2866,&quot;^;&quot;,&quot;~u62d3582c-8551-451c-9e5f-66251e74282d&quot;,536871230]],[&quot;^17&quot;,[2867,&quot;^R&quot;,&quot;[[steal &amp;&amp; force]]&quot;,536871230]],[&quot;^17&quot;,[2867,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2867,&quot;^F&quot;,2909,536871230]],[&quot;^17&quot;,[2867,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2867,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2867,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2867,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2867,&quot;^V&quot;,1379,536871230]],[&quot;^17&quot;,[2867,&quot;^H&quot;,1379,536871230]],[&quot;^17&quot;,[2867,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2867,&quot;^;&quot;,&quot;~u62d3582c-a92a-4673-8005-a3b5bbe6b7eb&quot;,536871230]],[&quot;^17&quot;,[2868,&quot;^R&quot;,&quot;[[OLTP]]&quot;,536871230]],[&quot;^17&quot;,[2868,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2868,&quot;^F&quot;,2863,536871230]],[&quot;^17&quot;,[2868,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2868,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2868,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2868,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2868,&quot;^V&quot;,499,536871230]],[&quot;^17&quot;,[2868,&quot;^H&quot;,499,536871230]],[&quot;^17&quot;,[2868,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2868,&quot;^;&quot;,&quot;~u62d3582c-4b12-4abb-9108-611cad1cd1f9&quot;,536871230]],[&quot;^17&quot;,[2869,&quot;^R&quot;,&quot;[[Page Layout]]&quot;,536871230]],[&quot;^17&quot;,[2869,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2869,&quot;^F&quot;,2907,536871230]],[&quot;^17&quot;,[2869,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2869,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2869,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2869,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2869,&quot;^V&quot;,748,536871230]],[&quot;^17&quot;,[2869,&quot;^H&quot;,748,536871230]],[&quot;^17&quot;,[2869,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2869,&quot;^;&quot;,&quot;~u62d3582c-e1f4-4085-8525-f101260062e4&quot;,536871230]],[&quot;^17&quot;,[2870,&quot;^R&quot;,&quot;((62be666a-0b1a-4298-82f0-7920ee4ae926))&quot;,536871230]],[&quot;^17&quot;,[2870,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2870,&quot;^F&quot;,2921,536871230]],[&quot;^17&quot;,[2870,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2870,&quot;^W&quot;,2921,536871230]],[&quot;^17&quot;,[2870,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2870,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2870,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2870,&quot;^H&quot;,1667,536871230]],[&quot;^17&quot;,[2870,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2870,&quot;^;&quot;,&quot;~u62d3582c-580b-44c9-9f4c-6074b7741219&quot;,536871230]],[&quot;^17&quot;,[2871,&quot;^R&quot;,&quot;((62c9766e-a56d-4c91-83de-91b4622dfd6c))&quot;,536871230]],[&quot;^17&quot;,[2871,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2871,&quot;^F&quot;,2856,536871230]],[&quot;^17&quot;,[2871,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2871,&quot;^W&quot;,2873,536871230]],[&quot;^17&quot;,[2871,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2871,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2871,&quot;^V&quot;,269,536871230]],[&quot;^17&quot;,[2871,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2871,&quot;^H&quot;,1946,536871230]],[&quot;^17&quot;,[2871,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2871,&quot;^;&quot;,&quot;~u62d3582c-5a7c-4474-be6c-eb5e79ab17fd&quot;,536871230]],[&quot;^17&quot;,[2872,&quot;^R&quot;,&quot;关键概念&quot;,536871230]],[&quot;^17&quot;,[2872,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2872,&quot;^F&quot;,4482,536896700]],[&quot;^17&quot;,[2872,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2872,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2872,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2872,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2872,&quot;^;&quot;,&quot;~u62d3582c-4d42-4ea4-b074-39c7fdf6ac4b&quot;,536871230]],[&quot;^17&quot;,[2873,&quot;^R&quot;,&quot;[[Timestamp Ordering Concurrency Control]]&quot;,536871230]],[&quot;^17&quot;,[2873,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2873,&quot;^F&quot;,2862,536871230]],[&quot;^17&quot;,[2873,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2873,&quot;^W&quot;,2847,536871230]],[&quot;^17&quot;,[2873,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2873,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2873,&quot;^V&quot;,269,536871230]],[&quot;^17&quot;,[2873,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2873,&quot;^H&quot;,269,536871230]],[&quot;^17&quot;,[2873,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2873,&quot;^;&quot;,&quot;~u62d3582c-985d-4153-baa6-891e3c5daa68&quot;,536871230]],[&quot;^17&quot;,[2874,&quot;^R&quot;,&quot;[[Join Algorithm]]&quot;,536871230]],[&quot;^17&quot;,[2874,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2874,&quot;^F&quot;,2851,536871230]],[&quot;^17&quot;,[2874,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2874,&quot;^W&quot;,2883,536871230]],[&quot;^17&quot;,[2874,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2874,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2874,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2874,&quot;^H&quot;,294,536871230]],[&quot;^17&quot;,[2874,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2874,&quot;^;&quot;,&quot;~u62d3582c-a45d-4028-b916-1174a2d8eda7&quot;,536871230]],[&quot;^17&quot;,[2875,&quot;^R&quot;,&quot;((62be666a-cd6f-420b-8358-66c267ff0eb7))&quot;,536871230]],[&quot;^17&quot;,[2875,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2875,&quot;^F&quot;,2889,536871230]],[&quot;^17&quot;,[2875,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2875,&quot;^W&quot;,2870,536871230]],[&quot;^17&quot;,[2875,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2875,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2875,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2875,&quot;^H&quot;,1642,536871230]],[&quot;^17&quot;,[2875,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2875,&quot;^;&quot;,&quot;~u62d3582c-3264-4306-8c24-6bf9f306650a&quot;,536871230]],[&quot;^17&quot;,[2876,&quot;^R&quot;,&quot;((62caa43a-f2fb-449d-8085-20983f064397))&quot;,536871230]],[&quot;^17&quot;,[2876,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2876,&quot;^F&quot;,2914,536871230]],[&quot;^17&quot;,[2876,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2876,&quot;^W&quot;,2919,536871230]],[&quot;^17&quot;,[2876,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2876,&quot;^V&quot;,2253,536871230]],[&quot;^17&quot;,[2876,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2876,&quot;^H&quot;,2266,536871230]],[&quot;^17&quot;,[2876,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2876,&quot;^;&quot;,&quot;~u62d3582c-b840-4ab5-a598-35d1138699e6&quot;,536871230]],[&quot;^17&quot;,[2877,&quot;^R&quot;,&quot;((62c9766e-df22-450a-ba17-9b69524290af))&quot;,536871230]],[&quot;^17&quot;,[2877,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2877,&quot;^F&quot;,2862,536871230]],[&quot;^17&quot;,[2877,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2877,&quot;^W&quot;,2862,536871230]],[&quot;^17&quot;,[2877,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2877,&quot;^V&quot;,67,536871230]],[&quot;^17&quot;,[2877,&quot;^V&quot;,623,536871230]],[&quot;^17&quot;,[2877,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2877,&quot;^H&quot;,2015,536871230]],[&quot;^17&quot;,[2877,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2877,&quot;^;&quot;,&quot;~u62d3582c-804f-4fd5-88af-42492adfaf09&quot;,536871230]],[&quot;^17&quot;,[2878,&quot;^R&quot;,&quot;[[选择性与基数]]&quot;,536871230]],[&quot;^17&quot;,[2878,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2878,&quot;^F&quot;,2872,536871230]],[&quot;^17&quot;,[2878,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2878,&quot;^W&quot;,2872,536871230]],[&quot;^17&quot;,[2878,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2878,&quot;^V&quot;,2844,536871230]],[&quot;^17&quot;,[2878,&quot;^H&quot;,2844,536871230]],[&quot;^17&quot;,[2878,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2878,&quot;^;&quot;,&quot;~u62d3582c-57af-4193-b3cf-9ebf1b8afc16&quot;,536871230]],[&quot;^17&quot;,[2879,&quot;^R&quot;,&quot;[[Tuple Layout]]&quot;,536871230]],[&quot;^17&quot;,[2879,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2879,&quot;^F&quot;,2869,536871230]],[&quot;^17&quot;,[2879,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2879,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2879,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2879,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2879,&quot;^V&quot;,746,536871230]],[&quot;^17&quot;,[2879,&quot;^H&quot;,746,536871230]],[&quot;^17&quot;,[2879,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2879,&quot;^;&quot;,&quot;~u62d3582c-f178-4433-bf8c-f639cebf8e11&quot;,536871230]],[&quot;^17&quot;,[2880,&quot;^R&quot;,&quot;[[分布式锁]]&quot;,536900484]],[&quot;^17&quot;,[2880,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2880,&quot;^F&quot;,2926,536871230]],[&quot;^17&quot;,[2880,&quot;^T&quot;,[&quot;^16&quot;,[]],536900484]],[&quot;^17&quot;,[2880,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2880,&quot;^W&quot;,2898,536871230]],[&quot;^17&quot;,[2880,&quot;^V&quot;,32,536900485]],[&quot;^17&quot;,[2880,&quot;^V&quot;,4731,536900485]],[&quot;^17&quot;,[2880,&quot;^?&quot;,[&quot;^ &quot;],536900484]],[&quot;^17&quot;,[2880,&quot;^H&quot;,4731,536900484]],[&quot;^17&quot;,[2880,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2880,&quot;^;&quot;,&quot;~u62d3582c-4d49-4acc-bc6b-7d488b92105e&quot;,536871230]],[&quot;^17&quot;,[2881,&quot;^R&quot;,&quot;[[Paxos]]&quot;,536871230]],[&quot;^17&quot;,[2881,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2881,&quot;^F&quot;,2852,536871230]],[&quot;^17&quot;,[2881,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2881,&quot;^W&quot;,2926,536871230]],[&quot;^17&quot;,[2881,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2881,&quot;^V&quot;,61,536871230]],[&quot;^17&quot;,[2881,&quot;^V&quot;,797,536871230]],[&quot;^17&quot;,[2881,&quot;^H&quot;,797,536871230]],[&quot;^17&quot;,[2881,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2881,&quot;^;&quot;,&quot;~u62d3582c-8fb3-4fec-8790-464ede37a449&quot;,536871230]],[&quot;^17&quot;,[2882,&quot;^R&quot;,&quot;[分布式系统的核心：共识问题 ](https://zhuanlan.zhihu.com/p/220311761)&quot;,536871230]],[&quot;^17&quot;,[2882,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2882,&quot;^F&quot;,2898,536871230]],[&quot;^17&quot;,[2882,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2882,&quot;^W&quot;,2898,536871230]],[&quot;^17&quot;,[2882,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2882,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2882,&quot;^;&quot;,&quot;~u62d3582c-85d1-4069-a68b-c91b8eef199d&quot;,536871230]],[&quot;^17&quot;,[2883,&quot;^R&quot;,&quot;[[QueryProcessing]]&quot;,536871230]],[&quot;^17&quot;,[2883,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2883,&quot;^F&quot;,2893,536871230]],[&quot;^17&quot;,[2883,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2883,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2883,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2883,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2883,&quot;^H&quot;,267,536871230]],[&quot;^17&quot;,[2883,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2883,&quot;^;&quot;,&quot;~u62d3582c-628d-4f73-ae15-a3765ed397ae&quot;,536871230]],[&quot;^17&quot;,[2884,&quot;^R&quot;,&quot;&quot;,536871230]],[&quot;^17&quot;,[2884,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2884,&quot;^F&quot;,4732,536900484]],[&quot;^17&quot;,[2884,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2884,&quot;^W&quot;,2898,536871230]],[&quot;^17&quot;,[2884,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2884,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2884,&quot;^;&quot;,&quot;~u62d3582c-38ea-4a42-823a-e27f1d7a9591&quot;,536871230]],[&quot;^17&quot;,[2885,&quot;^R&quot;,&quot;[[Data Representation]] Tuple Storage&quot;,536871230]],[&quot;^17&quot;,[2885,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2885,&quot;^F&quot;,2879,536871230]],[&quot;^17&quot;,[2885,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2885,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2885,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2885,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2885,&quot;^V&quot;,653,536871230]],[&quot;^17&quot;,[2885,&quot;^H&quot;,653,536871230]],[&quot;^17&quot;,[2885,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2885,&quot;^;&quot;,&quot;~u62d3582c-7d0c-42df-abc3-c8943a8d9fe4&quot;,536871230]],[&quot;^17&quot;,[2886,&quot;^R&quot;,&quot;[[DBMS架构]]&quot;,536871230]],[&quot;^17&quot;,[2886,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2886,&quot;^F&quot;,2872,536871230]],[&quot;^17&quot;,[2886,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2886,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2886,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2886,&quot;^V&quot;,622,536871230]],[&quot;^17&quot;,[2886,&quot;^H&quot;,622,536871230]],[&quot;^17&quot;,[2886,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2886,&quot;^;&quot;,&quot;~u62d3582c-ce87-4c6a-92da-061b0cf7e212&quot;,536871230]],[&quot;^17&quot;,[2887,&quot;^R&quot;,&quot;[[ACID]]&quot;,536871230]],[&quot;^17&quot;,[2887,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2887,&quot;^F&quot;,2923,536871230]],[&quot;^17&quot;,[2887,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2887,&quot;^W&quot;,2923,536871230]],[&quot;^17&quot;,[2887,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2887,&quot;^V&quot;,445,536871230]],[&quot;^17&quot;,[2887,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2887,&quot;^H&quot;,445,536871230]],[&quot;^17&quot;,[2887,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2887,&quot;^;&quot;,&quot;~u62d3582c-4b11-480f-8c78-efab8229d3d1&quot;,536871230]],[&quot;^17&quot;,[2888,&quot;^R&quot;,&quot;[[直方图]]&quot;,536871230]],[&quot;^17&quot;,[2888,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2888,&quot;^F&quot;,2855,536871230]],[&quot;^17&quot;,[2888,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2888,&quot;^W&quot;,2894,536871230]],[&quot;^17&quot;,[2888,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2888,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2888,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2888,&quot;^V&quot;,2843,536871230]],[&quot;^17&quot;,[2888,&quot;^H&quot;,2843,536871230]],[&quot;^17&quot;,[2888,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2888,&quot;^;&quot;,&quot;~u62d3582c-0727-4b7a-9a1c-51cd8f9b4ada&quot;,536871230]],[&quot;^17&quot;,[2889,&quot;^R&quot;,&quot;((62be666a-6e0d-4796-ab11-ce188d17b3c9))&quot;,536871230]],[&quot;^17&quot;,[2889,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2889,&quot;^F&quot;,2904,536871230]],[&quot;^17&quot;,[2889,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2889,&quot;^W&quot;,2870,536871230]],[&quot;^17&quot;,[2889,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2889,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2889,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2889,&quot;^H&quot;,1677,536871230]],[&quot;^17&quot;,[2889,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2889,&quot;^;&quot;,&quot;~u62d3582c-09ba-4428-a60e-2dbd601f25b2&quot;,536871230]],[&quot;^17&quot;,[2890,&quot;^R&quot;,&quot;[[保存点]]&quot;,536871230]],[&quot;^17&quot;,[2890,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2890,&quot;^F&quot;,2891,536871230]],[&quot;^17&quot;,[2890,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2890,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2890,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2890,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2890,&quot;^V&quot;,2573,536871230]],[&quot;^17&quot;,[2890,&quot;^H&quot;,2573,536871230]],[&quot;^17&quot;,[2890,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2890,&quot;^;&quot;,&quot;~u62d3582c-d695-4fe0-b5df-d5793c6dd265&quot;,536871230]],[&quot;^17&quot;,[2891,&quot;^R&quot;,&quot;[[binlog]]&quot;,536871230]],[&quot;^17&quot;,[2891,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2891,&quot;^F&quot;,2903,536871230]],[&quot;^17&quot;,[2891,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2891,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2891,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2891,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2891,&quot;^V&quot;,2058,536871230]],[&quot;^17&quot;,[2891,&quot;^H&quot;,2058,536871230]],[&quot;^17&quot;,[2891,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2891,&quot;^;&quot;,&quot;~u62d3582c-94f1-429d-8d56-c9546cfc4fbf&quot;,536871230]],[&quot;^17&quot;,[2892,&quot;^R&quot;,&quot;[[Database-Storage]]&quot;,536871230]],[&quot;^17&quot;,[2892,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2892,&quot;^F&quot;,2858,536871230]],[&quot;^17&quot;,[2892,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2892,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2892,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2892,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2892,&quot;^H&quot;,262,536871230]],[&quot;^17&quot;,[2892,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2892,&quot;^;&quot;,&quot;~u62d3582c-d212-453b-aa04-d00a56915e2c&quot;,536871230]],[&quot;^17&quot;,[2893,&quot;^R&quot;,&quot;[[索引]]&quot;,536871230]],[&quot;^17&quot;,[2893,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2893,&quot;^F&quot;,2892,536871230]],[&quot;^17&quot;,[2893,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2893,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2893,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2893,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2893,&quot;^H&quot;,2845,536871230]],[&quot;^17&quot;,[2893,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2893,&quot;^;&quot;,&quot;~u62d3582c-80aa-4e5f-b2c8-1ce65792a24b&quot;,536871230]],[&quot;^17&quot;,[2894,&quot;^R&quot;,&quot;Cost-based Search 动态&quot;,536871230]],[&quot;^17&quot;,[2894,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2894,&quot;^F&quot;,2921,536871230]],[&quot;^17&quot;,[2894,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2894,&quot;^W&quot;,2911,536871230]],[&quot;^17&quot;,[2894,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2894,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2894,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2894,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2894,&quot;^;&quot;,&quot;~u62d3582c-8cbd-466a-ac43-c06219ce3144&quot;,536871230]],[&quot;^17&quot;,[2895,&quot;^R&quot;,&quot;[[WAL]]&quot;,536871230]],[&quot;^17&quot;,[2895,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2895,&quot;^F&quot;,2890,536871230]],[&quot;^17&quot;,[2895,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2895,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2895,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2895,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2895,&quot;^V&quot;,2040,536871230]],[&quot;^17&quot;,[2895,&quot;^H&quot;,2040,536871230]],[&quot;^17&quot;,[2895,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2895,&quot;^;&quot;,&quot;~u62d3582c-f1dd-4fab-9e5d-33137d6da80e&quot;,536871230]],[&quot;^17&quot;,[2896,&quot;^R&quot;,&quot;[[幻读 脏读 不可重复读]]&quot;,536871230]],[&quot;^17&quot;,[2896,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2896,&quot;^F&quot;,2905,536871230]],[&quot;^17&quot;,[2896,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2896,&quot;^W&quot;,2905,536871230]],[&quot;^17&quot;,[2896,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2896,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2896,&quot;^V&quot;,1097,536871230]],[&quot;^17&quot;,[2896,&quot;^V&quot;,2637,536871230]],[&quot;^17&quot;,[2896,&quot;^H&quot;,2637,536871230]],[&quot;^17&quot;,[2896,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2896,&quot;^;&quot;,&quot;~u62d3582c-75a3-4f4a-9ec4-0acb9731058c&quot;,536871230]],[&quot;^17&quot;,[2897,&quot;^R&quot;,&quot;((62bbd1ec-5912-44a1-b12c-370fdc30b05d))&quot;,536871230]],[&quot;^17&quot;,[2897,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2897,&quot;^F&quot;,2924,536871230]],[&quot;^17&quot;,[2897,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2897,&quot;^W&quot;,2851,536871230]],[&quot;^17&quot;,[2897,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2897,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2897,&quot;^V&quot;,297,536871230]],[&quot;^17&quot;,[2897,&quot;^H&quot;,1878,536871230]],[&quot;^17&quot;,[2897,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2897,&quot;^;&quot;,&quot;~u62d3582c-9d71-4465-bd43-c7a898ad0354&quot;,536871230]],[&quot;^17&quot;,[2898,&quot;^R&quot;,&quot;分布式&quot;,536871230]],[&quot;^17&quot;,[2898,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2898,&quot;^F&quot;,2909,536871230]],[&quot;^17&quot;,[2898,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2898,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2898,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2898,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2898,&quot;^;&quot;,&quot;~u62d3582c-49e9-4d95-a008-b4bb01a71b6f&quot;,536871230]],[&quot;^17&quot;,[2899,&quot;^R&quot;,&quot;((62bc3180-072c-41fb-ac2c-acdaef2178a5))&quot;,536871230]],[&quot;^17&quot;,[2899,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2899,&quot;^F&quot;,2915,536871230]],[&quot;^17&quot;,[2899,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2899,&quot;^W&quot;,2874,536871230]],[&quot;^17&quot;,[2899,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2899,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2899,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2899,&quot;^H&quot;,1135,536871230]],[&quot;^17&quot;,[2899,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2899,&quot;^;&quot;,&quot;~u62d3582c-654a-406c-9b37-8bd95a88bd6b&quot;,536871230]],[&quot;^17&quot;,[2900,&quot;^R&quot;,&quot;((62bc3136-fc16-4e45-a6ef-9b0b7dab6a56))&quot;,536871230]],[&quot;^17&quot;,[2900,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2900,&quot;^F&quot;,2915,536871230]],[&quot;^17&quot;,[2900,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2900,&quot;^W&quot;,2915,536871230]],[&quot;^17&quot;,[2900,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2900,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2900,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2900,&quot;^H&quot;,1173,536871230]],[&quot;^17&quot;,[2900,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2900,&quot;^;&quot;,&quot;~u62d3582c-5326-4632-99cc-b66885b6df54&quot;,536871230]],[&quot;^17&quot;,[2901,&quot;^R&quot;,&quot;((629585f8-d7c2-4a82-aadb-78ad0f868f34))&quot;,536871230]],[&quot;^17&quot;,[2901,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2901,&quot;^F&quot;,2858,536871230]],[&quot;^17&quot;,[2901,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2901,&quot;^W&quot;,2858,536871230]],[&quot;^17&quot;,[2901,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2901,&quot;^V&quot;,109,536871230]],[&quot;^17&quot;,[2901,&quot;^H&quot;,517,536871230]],[&quot;^17&quot;,[2901,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2901,&quot;^;&quot;,&quot;~u62d3582c-8e6a-4b11-b7b0-05e772628bfa&quot;,536871230]],[&quot;^17&quot;,[2902,&quot;^R&quot;,&quot;b+树， 平衡二叉树，红黑树对比&quot;,536871230]],[&quot;^17&quot;,[2902,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2902,&quot;^F&quot;,2846,536871230]],[&quot;^17&quot;,[2902,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2902,&quot;^W&quot;,2846,536871230]],[&quot;^17&quot;,[2902,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2902,&quot;^V&quot;,2842,536871230]],[&quot;^17&quot;,[2902,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2902,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2902,&quot;^;&quot;,&quot;~u62d3582c-119d-44dc-96b4-eeee1bc7ebe0&quot;,536871230]],[&quot;^17&quot;,[2903,&quot;^R&quot;,&quot;[[undo log]]&quot;,536871230]],[&quot;^17&quot;,[2903,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2903,&quot;^F&quot;,2916,536871230]],[&quot;^17&quot;,[2903,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2903,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2903,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2903,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2903,&quot;^V&quot;,2543,536871230]],[&quot;^17&quot;,[2903,&quot;^H&quot;,2543,536871230]],[&quot;^17&quot;,[2903,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2903,&quot;^;&quot;,&quot;~u62d3582c-7126-4ae2-98f2-82783e6f7246&quot;,536871230]],[&quot;^17&quot;,[2904,&quot;^R&quot;,&quot;((62be666a-5ca0-406a-b925-798b47e9c55b))&quot;,536871230]],[&quot;^17&quot;,[2904,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2904,&quot;^F&quot;,2870,536871230]],[&quot;^17&quot;,[2904,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2904,&quot;^W&quot;,2870,536871230]],[&quot;^17&quot;,[2904,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2904,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2904,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2904,&quot;^H&quot;,1673,536871230]],[&quot;^17&quot;,[2904,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2904,&quot;^;&quot;,&quot;~u62d3582c-2ef6-4f72-ae63-ee6842f835a2&quot;,536871230]],[&quot;^17&quot;,[2905,&quot;^R&quot;,&quot;[[Isolation Level]]&quot;,536871230]],[&quot;^17&quot;,[2905,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2905,&quot;^F&quot;,2859,536871230]],[&quot;^17&quot;,[2905,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2905,&quot;^W&quot;,2923,536871230]],[&quot;^17&quot;,[2905,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2905,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2905,&quot;^V&quot;,1097,536871230]],[&quot;^17&quot;,[2905,&quot;^H&quot;,1097,536871230]],[&quot;^17&quot;,[2905,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2905,&quot;^;&quot;,&quot;~u62d3582c-559e-435d-8845-e9f2a5ce3912&quot;,536871230]],[&quot;^17&quot;,[2906,&quot;^R&quot;,&quot;((62bf0fc7-a712-4293-aff8-188f5d7d5bd7))&quot;,536871230]],[&quot;^17&quot;,[2906,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2906,&quot;^F&quot;,2888,536871230]],[&quot;^17&quot;,[2906,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2906,&quot;^W&quot;,2894,536871230]],[&quot;^17&quot;,[2906,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2906,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2906,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2906,&quot;^H&quot;,1649,536871230]],[&quot;^17&quot;,[2906,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2906,&quot;^;&quot;,&quot;~u62d3582c-3b73-482c-8299-12776d202994&quot;,536871230]],[&quot;^17&quot;,[2907,&quot;^R&quot;,&quot;[[File Storage]]&quot;,536871230]],[&quot;^17&quot;,[2907,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2907,&quot;^F&quot;,2892,536871230]],[&quot;^17&quot;,[2907,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2907,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2907,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2907,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2907,&quot;^V&quot;,747,536871230]],[&quot;^17&quot;,[2907,&quot;^H&quot;,747,536871230]],[&quot;^17&quot;,[2907,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2907,&quot;^;&quot;,&quot;~u62d3582c-552f-4fdb-bffe-fb461820909b&quot;,536871230]],[&quot;^17&quot;,[2908,&quot;^R&quot;,&quot;[[HashTable]] -&gt; [[proj2_ExtendibleHashIndex]]&quot;,536871230]],[&quot;^17&quot;,[2908,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2908,&quot;^F&quot;,2925,536871230]],[&quot;^17&quot;,[2908,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2908,&quot;^W&quot;,2893,536871230]],[&quot;^17&quot;,[2908,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2908,&quot;^V&quot;,100,536871230]],[&quot;^17&quot;,[2908,&quot;^V&quot;,104,536871230]],[&quot;^17&quot;,[2908,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2908,&quot;^H&quot;,100,536871230]],[&quot;^17&quot;,[2908,&quot;^H&quot;,104,536871230]],[&quot;^17&quot;,[2908,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2908,&quot;^;&quot;,&quot;~u62d3582c-c577-4ddd-bcfe-ef81bff8197d&quot;,536871230]],[&quot;^17&quot;,[2909,&quot;^R&quot;,&quot;[[Recovery]]&quot;,536871230]],[&quot;^17&quot;,[2909,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2909,&quot;^F&quot;,2923,536871230]],[&quot;^17&quot;,[2909,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2909,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2909,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2909,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2909,&quot;^H&quot;,279,536871230]],[&quot;^17&quot;,[2909,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2909,&quot;^;&quot;,&quot;~u62d3582c-eb19-4a47-90e1-0f2f09185036&quot;,536871230]],[&quot;^17&quot;,[2910,&quot;^R&quot;,&quot;[[不同树结构对比]]&quot;,536871230]],[&quot;^17&quot;,[2910,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2910,&quot;^F&quot;,2919,536871230]],[&quot;^17&quot;,[2910,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2910,&quot;^W&quot;,2893,536871230]],[&quot;^17&quot;,[2910,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2910,&quot;^V&quot;,2550,536871230]],[&quot;^17&quot;,[2910,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2910,&quot;^H&quot;,2550,536871230]],[&quot;^17&quot;,[2910,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2910,&quot;^;&quot;,&quot;~u62d3582c-29cc-4fa8-881c-182947c3868a&quot;,536871230]],[&quot;^17&quot;,[2911,&quot;^R&quot;,&quot;[[Query Optimizer]]&quot;,536871230]],[&quot;^17&quot;,[2911,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2911,&quot;^F&quot;,2874,536871230]],[&quot;^17&quot;,[2911,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2911,&quot;^W&quot;,2883,536871230]],[&quot;^17&quot;,[2911,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2911,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2911,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2911,&quot;^H&quot;,79,536871230]],[&quot;^17&quot;,[2911,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2911,&quot;^;&quot;,&quot;~u62d3582c-4559-4a93-a250-709935f1a18b&quot;,536871230]],[&quot;^17&quot;,[2912,&quot;^R&quot;,&quot;((62ba4b6f-c878-434e-bb8b-b6d1aa4e5275))&quot;,536871230]],[&quot;^17&quot;,[2912,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2912,&quot;^F&quot;,2917,536871230]],[&quot;^17&quot;,[2912,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2912,&quot;^W&quot;,2925,536871230]],[&quot;^17&quot;,[2912,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2912,&quot;^V&quot;,1010,536871230]],[&quot;^17&quot;,[2912,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2912,&quot;^H&quot;,1012,536871230]],[&quot;^17&quot;,[2912,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2912,&quot;^;&quot;,&quot;~u62d3582c-2874-4b20-93ce-ef486cd861c5&quot;,536871230]],[&quot;^17&quot;,[2913,&quot;^R&quot;,&quot;[[Storage Models]]&quot;,536871230]],[&quot;^17&quot;,[2913,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2913,&quot;^F&quot;,2922,536871230]],[&quot;^17&quot;,[2913,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2913,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2913,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2913,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2913,&quot;^V&quot;,751,536871230]],[&quot;^17&quot;,[2913,&quot;^H&quot;,751,536871230]],[&quot;^17&quot;,[2913,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2913,&quot;^;&quot;,&quot;~u62d3582c-b009-4b7d-a48c-a5b0fe56c074&quot;,536871230]],[&quot;^17&quot;,[2914,&quot;^R&quot;,&quot;((62ca9f6e-86ca-4dfb-9181-890543ad6372))&quot;,536871230]],[&quot;^17&quot;,[2914,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2914,&quot;^F&quot;,2919,536871230]],[&quot;^17&quot;,[2914,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2914,&quot;^W&quot;,2919,536871230]],[&quot;^17&quot;,[2914,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2914,&quot;^V&quot;,2253,536871230]],[&quot;^17&quot;,[2914,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2914,&quot;^H&quot;,2257,536871230]],[&quot;^17&quot;,[2914,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2914,&quot;^;&quot;,&quot;~u62d3582c-b313-4c23-8f9d-03a48a46bccb&quot;,536871230]],[&quot;^17&quot;,[2915,&quot;^R&quot;,&quot;((62bc2d61-ba48-414c-a568-ace2ed40aec0))&quot;,536871230]],[&quot;^17&quot;,[2915,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2915,&quot;^F&quot;,2874,536871230]],[&quot;^17&quot;,[2915,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2915,&quot;^W&quot;,2874,536871230]],[&quot;^17&quot;,[2915,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2915,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2915,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2915,&quot;^H&quot;,1146,536871230]],[&quot;^17&quot;,[2915,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2915,&quot;^;&quot;,&quot;~u62d3582c-09d0-4620-9c3a-0de8c7f388e2&quot;,536871230]],[&quot;^17&quot;,[2916,&quot;^R&quot;,&quot;[[redo log]]&quot;,536871230]],[&quot;^17&quot;,[2916,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2916,&quot;^F&quot;,3387,536876907]],[&quot;^17&quot;,[2916,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2916,&quot;^W&quot;,2909,536871230]],[&quot;^17&quot;,[2916,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2916,&quot;^V&quot;,279,536871230]],[&quot;^17&quot;,[2916,&quot;^V&quot;,2466,536871230]],[&quot;^17&quot;,[2916,&quot;^H&quot;,2466,536871230]],[&quot;^17&quot;,[2916,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2916,&quot;^;&quot;,&quot;~u62d3582c-a663-41fb-aba6-37e572bc8e28&quot;,536871230]],[&quot;^17&quot;,[2917,&quot;^R&quot;,&quot;((62ba4b6f-9b15-4fa3-824a-74d56cc9f63f))&quot;,536871230]],[&quot;^17&quot;,[2917,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2917,&quot;^F&quot;,2925,536871230]],[&quot;^17&quot;,[2917,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2917,&quot;^W&quot;,2925,536871230]],[&quot;^17&quot;,[2917,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2917,&quot;^V&quot;,1010,536871230]],[&quot;^17&quot;,[2917,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2917,&quot;^H&quot;,1044,536871230]],[&quot;^17&quot;,[2917,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2917,&quot;^;&quot;,&quot;~u62d3582c-3c95-4756-9bb2-5a668ce2e426&quot;,536871230]],[&quot;^17&quot;,[2918,&quot;^R&quot;,&quot;[[高水位低水位]]&quot;,536871230]],[&quot;^17&quot;,[2918,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2918,&quot;^F&quot;,2896,536871230]],[&quot;^17&quot;,[2918,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2918,&quot;^W&quot;,2905,536871230]],[&quot;^17&quot;,[2918,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2918,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2918,&quot;^V&quot;,1097,536871230]],[&quot;^17&quot;,[2918,&quot;^V&quot;,1755,536871230]],[&quot;^17&quot;,[2918,&quot;^H&quot;,1755,536871230]],[&quot;^17&quot;,[2918,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2918,&quot;^;&quot;,&quot;~u62d3582c-f289-41c5-98fc-65051f0d92bc&quot;,536871230]],[&quot;^17&quot;,[2919,&quot;^R&quot;,&quot;[[lsm树]]&quot;,536871230]],[&quot;^17&quot;,[2919,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2919,&quot;^F&quot;,2908,536871230]],[&quot;^17&quot;,[2919,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2919,&quot;^W&quot;,2893,536871230]],[&quot;^17&quot;,[2919,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2919,&quot;^V&quot;,2253,536871230]],[&quot;^17&quot;,[2919,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2919,&quot;^H&quot;,2253,536871230]],[&quot;^17&quot;,[2919,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2919,&quot;^;&quot;,&quot;~u62d3582c-bb32-4912-a2a6-a4ae832522f8&quot;,536871230]],[&quot;^17&quot;,[2920,&quot;^R&quot;,&quot;[[火山模型]]&quot;,536871230]],[&quot;^17&quot;,[2920,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2920,&quot;^F&quot;,2883,536871230]],[&quot;^17&quot;,[2920,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2920,&quot;^W&quot;,2883,536871230]],[&quot;^17&quot;,[2920,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2920,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2920,&quot;^V&quot;,1685,536871230]],[&quot;^17&quot;,[2920,&quot;^H&quot;,1685,536871230]],[&quot;^17&quot;,[2920,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2920,&quot;^;&quot;,&quot;~u62d3582c-5e4d-483a-9c07-d202654fab56&quot;,536871230]],[&quot;^17&quot;,[2921,&quot;^R&quot;,&quot;Heuristics / Rules 静态&quot;,536871230]],[&quot;^17&quot;,[2921,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2921,&quot;^F&quot;,2911,536871230]],[&quot;^17&quot;,[2921,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2921,&quot;^W&quot;,2911,536871230]],[&quot;^17&quot;,[2921,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2921,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2921,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2921,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2921,&quot;^;&quot;,&quot;~u62d3582c-6aff-4dff-9263-70dda9561de7&quot;,536871230]],[&quot;^17&quot;,[2922,&quot;^R&quot;,&quot;[[System Catalogs]]&quot;,536871230]],[&quot;^17&quot;,[2922,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2922,&quot;^F&quot;,2885,536871230]],[&quot;^17&quot;,[2922,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2922,&quot;^W&quot;,2892,536871230]],[&quot;^17&quot;,[2922,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2922,&quot;^V&quot;,262,536871230]],[&quot;^17&quot;,[2922,&quot;^V&quot;,749,536871230]],[&quot;^17&quot;,[2922,&quot;^H&quot;,749,536871230]],[&quot;^17&quot;,[2922,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2922,&quot;^;&quot;,&quot;~u62d3582c-e917-4af2-a41f-25cd4fe913ac&quot;,536871230]],[&quot;^17&quot;,[2923,&quot;^R&quot;,&quot;[[Transactions]]&quot;,536871230]],[&quot;^17&quot;,[2923,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2923,&quot;^F&quot;,2883,536871230]],[&quot;^17&quot;,[2923,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2923,&quot;^W&quot;,32,536871230]],[&quot;^17&quot;,[2923,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2923,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2923,&quot;^H&quot;,635,536871230]],[&quot;^17&quot;,[2923,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2923,&quot;^;&quot;,&quot;~u62d3582c-aefa-4b38-8631-070b2215c814&quot;,536871230]],[&quot;^17&quot;,[2924,&quot;^R&quot;,&quot;((62bbd1a8-5963-4a9d-a90e-bf885c3b43f8))&quot;,536871230]],[&quot;^17&quot;,[2924,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2924,&quot;^F&quot;,2851,536871230]],[&quot;^17&quot;,[2924,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2924,&quot;^W&quot;,2851,536871230]],[&quot;^17&quot;,[2924,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2924,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2924,&quot;^V&quot;,297,536871230]],[&quot;^17&quot;,[2924,&quot;^H&quot;,1866,536871230]],[&quot;^17&quot;,[2924,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2924,&quot;^;&quot;,&quot;~u62d3582c-6695-4484-a8a4-fc98676c1da2&quot;,536871230]],[&quot;^17&quot;,[2925,&quot;^R&quot;,&quot;[[B+树并发]]&quot;,536871230]],[&quot;^17&quot;,[2925,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2925,&quot;^F&quot;,2846,536871230]],[&quot;^17&quot;,[2925,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2925,&quot;^W&quot;,2893,536871230]],[&quot;^17&quot;,[2925,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2925,&quot;^V&quot;,1010,536871230]],[&quot;^17&quot;,[2925,&quot;^V&quot;,2845,536871230]],[&quot;^17&quot;,[2925,&quot;^H&quot;,1010,536871230]],[&quot;^17&quot;,[2925,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2925,&quot;^;&quot;,&quot;~u62d3582c-8950-4ba9-b4a4-f048cce477f5&quot;,536871230]],[&quot;^17&quot;,[2926,&quot;^R&quot;,&quot;[[Distributed OLTP Databases]]&quot;,536871230]],[&quot;^17&quot;,[2926,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2926,&quot;^F&quot;,2866,536871230]],[&quot;^17&quot;,[2926,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2926,&quot;^W&quot;,2898,536871230]],[&quot;^17&quot;,[2926,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2926,&quot;^V&quot;,61,536871230]],[&quot;^17&quot;,[2926,&quot;^H&quot;,61,536871230]],[&quot;^17&quot;,[2926,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2926,&quot;^;&quot;,&quot;~u62d3582c-1b18-4ddf-9d2e-c9ad98b80380&quot;,536871230]],[&quot;^17&quot;,[2927,&quot;^R&quot;,&quot;((62bc327d-34f8-4864-b7e6-0ad3fb6116ec))&quot;,536871230]],[&quot;^17&quot;,[2927,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2927,&quot;^F&quot;,2849,536871230]],[&quot;^17&quot;,[2927,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2927,&quot;^W&quot;,2874,536871230]],[&quot;^17&quot;,[2927,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2927,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2927,&quot;^V&quot;,294,536871230]],[&quot;^17&quot;,[2927,&quot;^H&quot;,1112,536871230]],[&quot;^17&quot;,[2927,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2927,&quot;^;&quot;,&quot;~u62d3582c-f93c-4691-a7dc-9b8ce90431b3&quot;,536871230]],[&quot;^17&quot;,[2928,&quot;^R&quot;,&quot;[mysql冷热数据分离](https://blog.csdn.net/weixin_42405670/article/details/119334896)&quot;,536871230]],[&quot;^17&quot;,[2928,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2928,&quot;^F&quot;,2854,536871230]],[&quot;^17&quot;,[2928,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2928,&quot;^W&quot;,2858,536871230]],[&quot;^17&quot;,[2928,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2928,&quot;^V&quot;,109,536871230]],[&quot;^17&quot;,[2928,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2928,&quot;^;&quot;,&quot;~u62d3582c-df60-41d6-b584-08d036f43cee&quot;,536871230]],[&quot;^17&quot;,[2929,&quot;^R&quot;,&quot;[[Read View]]&quot;,536871230]],[&quot;^17&quot;,[2929,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2929,&quot;^F&quot;,2918,536871230]],[&quot;^17&quot;,[2929,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2929,&quot;^W&quot;,2905,536871230]],[&quot;^17&quot;,[2929,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2929,&quot;^V&quot;,635,536871230]],[&quot;^17&quot;,[2929,&quot;^V&quot;,1097,536871230]],[&quot;^17&quot;,[2929,&quot;^V&quot;,1754,536871230]],[&quot;^17&quot;,[2929,&quot;^H&quot;,1754,536871230]],[&quot;^17&quot;,[2929,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2929,&quot;^;&quot;,&quot;~u62d3582c-716c-4430-8d23-5bc3e402196f&quot;,536871230]],[&quot;^17&quot;,[2930,&quot;^R&quot;,&quot;((62be666a-c75a-4954-85cf-0ae88e54ae72))&quot;,536871230]],[&quot;^17&quot;,[2930,&quot;^P&quot;,&quot;^19&quot;,536871230]],[&quot;^17&quot;,[2930,&quot;^F&quot;,2906,536871230]],[&quot;^17&quot;,[2930,&quot;^Z&quot;,32,536871230]],[&quot;^17&quot;,[2930,&quot;^W&quot;,2894,536871230]],[&quot;^17&quot;,[2930,&quot;^V&quot;,32,536871230]],[&quot;^17&quot;,[2930,&quot;^V&quot;,79,536871230]],[&quot;^17&quot;,[2930,&quot;^V&quot;,267,536871230]],[&quot;^17&quot;,[2930,&quot;^H&quot;,1646,536871230]],[&quot;^17&quot;,[2930,&quot;^1@&quot;,true,536871230]],[&quot;^17&quot;,[2930,&quot;^;&quot;,&quot;~u62d3582c-5735-4bc0-9201-ea2d2af6c941&quot;,536871230]],[&quot;^17&quot;,[2967,&quot;^R&quot;,&quot;推荐文章：[(1 封私信 / 12 条消息) 有说llvmJIT对SQL解析优化提升PG查询性能数倍，SQL解析本身消耗占比不高吧，能有这么高提升？ - 知乎](https://www.zhihu.com/question/52220920)&quot;,536871242]],[&quot;^17&quot;,[2967,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2967,&quot;^F&quot;,2974,536871242]],[&quot;^17&quot;,[2967,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2967,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2967,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2967,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2967,&quot;^;&quot;,&quot;~u62d3582d-5440-420b-baad-8e6a4e5e0bad&quot;,536871242]],[&quot;^17&quot;,[2968,&quot;^R&quot;,&quot;![image.png](../assets/image_1656725533917_0.png)\\n两者真的不能兼容吗？还是这是作者的理解&quot;,536871242]],[&quot;^17&quot;,[2968,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2968,&quot;^F&quot;,2972,536871242]],[&quot;^17&quot;,[2968,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2968,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2968,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2968,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2968,&quot;^;&quot;,&quot;~u62d3582d-059f-4069-a6c4-04bb97749e9e&quot;,536871242]],[&quot;^17&quot;,[2969,&quot;^R&quot;,&quot;优点： 简单，每个 Operator 可以单独抽象实现、不需要关心其他 Operator 的逻辑。&quot;,536871242]],[&quot;^17&quot;,[2969,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2969,&quot;^F&quot;,2973,536871242]],[&quot;^17&quot;,[2969,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2969,&quot;^W&quot;,2973,536871242]],[&quot;^17&quot;,[2969,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2969,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2969,&quot;^;&quot;,&quot;~u62d3582d-5446-4462-8f76-37d52fe2c5b8&quot;,536871242]],[&quot;^17&quot;,[2970,&quot;^R&quot;,&quot;&quot;,536871242]],[&quot;^17&quot;,[2970,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2970,&quot;^F&quot;,2968,536871242]],[&quot;^17&quot;,[2970,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2970,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2970,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2970,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2970,&quot;^;&quot;,&quot;~u62d3582d-9f69-4b96-b1e5-4a5f1f65b534&quot;,536871242]],[&quot;^17&quot;,[2971,&quot;^R&quot;,&quot;缺点：每次都是计算一个 tuple（Tuple-at-a-time），这样会造成多次调用 next ，也就是造成大量的[[虚函数]]调用，这样会造成 CPU 的利用率不高\\n但是为什么之前的数据库设计者没有去优化这方面呢？是他们没想到吗？怎么可能？这个时候我们可能要考虑到 30 年前的硬件水平了，当时的 IO 速度是远远小于 CPU 的计算速度的，那么 SQL 查询引擎的优化则会被 IO 开销所遮蔽（毕竟花费很多精力只带来 1% 场景下的速度提升意义并不大）。&quot;,536871242]],[&quot;^17&quot;,[2971,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2971,&quot;^F&quot;,2969,536871242]],[&quot;^17&quot;,[2971,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2971,&quot;^W&quot;,2973,536871242]],[&quot;^17&quot;,[2971,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2971,&quot;^V&quot;,2966,536871242]],[&quot;^17&quot;,[2971,&quot;^H&quot;,2966,536871242]],[&quot;^17&quot;,[2971,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2971,&quot;^;&quot;,&quot;~u62d3582d-0846-4a63-ae55-4ddd3ebfb005&quot;,536871242]],[&quot;^17&quot;,[2972,&quot;^R&quot;,&quot;优化方向:&quot;,536871242]],[&quot;^17&quot;,[2972,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2972,&quot;^F&quot;,2973,536871242]],[&quot;^17&quot;,[2972,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2972,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2972,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2972,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2972,&quot;^;&quot;,&quot;~u62d3582d-1141-4a6d-afaf-71932e553927&quot;,536871242]],[&quot;^17&quot;,[2973,&quot;^R&quot;,&quot;火山模型优缺点：&quot;,536871242]],[&quot;^17&quot;,[2973,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2973,&quot;^F&quot;,2967,536871242]],[&quot;^17&quot;,[2973,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2973,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2973,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2973,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2973,&quot;^;&quot;,&quot;~u62d3582d-7f31-4806-811f-1f6569fbf674&quot;,536871242]],[&quot;^17&quot;,[2974,&quot;^R&quot;,&quot;什么是火山模型 ？ (volcano)\\n火山模型是数据库界已经很成熟的解释计算模型，该计算模型将关系代数中每一种操作抽象为一个 Operator，将整个 SQL 构建成一个 Operator 树，从根节点到叶子结点自上而下地递归调用 next() 函数。&quot;,536871242]],[&quot;^17&quot;,[2974,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2974,&quot;^F&quot;,4502,536896811]],[&quot;^17&quot;,[2974,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2974,&quot;^W&quot;,1685,536871242]],[&quot;^17&quot;,[2974,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2974,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2974,&quot;^;&quot;,&quot;~u62d3582d-e84a-440e-a004-85b1c5bef2f5&quot;,536871242]],[&quot;^17&quot;,[2975,&quot;^R&quot;,&quot;1. JIT 技术 将多个Operator 打包在一起，产生手写代码的效果，来减少火山模型带来的 overhead\\n2.  [[SIMD]] 技术（向量化）火山模型中一次只取一条数据，如果每次取多条数据呢？貌似可行啊，因为可以将每次 next 带来的 CPU 开销被一组数据给分摊。这样当 CPU 访问元组中的某个列时会将该元组加载到 CPU Cache（如果该元组大小小于 CPU Cache 缓存行的大小）, 访问后继的列将直接从 CPU Cache 中获取，从而具有较高的 CPU Cache 命中率，然而如果只访问一个列或者少数几个列时 CPU 命中率仍然不理想。另外，我们再想想什么时候可以做到取多条数据同时计算呢？当然是同一列的时候，所以针对的是列存的场景，因为输入是同列的一组数据，面对的是相同的操作，这正是向量寄存器干的事情，这是 CPU 层面计算性能的优化，因此称为向量化。并且如果每次只取一列的部分数据，返回一个可以放到 CPU Cache 的向量，那么又可以利用到 CPU Cache。&quot;,536871242]],[&quot;^17&quot;,[2975,&quot;^P&quot;,&quot;^19&quot;,536871242]],[&quot;^17&quot;,[2975,&quot;^F&quot;,2972,536871242]],[&quot;^17&quot;,[2975,&quot;^Z&quot;,1685,536871242]],[&quot;^17&quot;,[2975,&quot;^W&quot;,2972,536871242]],[&quot;^17&quot;,[2975,&quot;^V&quot;,1685,536871242]],[&quot;^17&quot;,[2975,&quot;^V&quot;,1815,536871242]],[&quot;^17&quot;,[2975,&quot;^H&quot;,1815,536871242]],[&quot;^17&quot;,[2975,&quot;^1@&quot;,true,536871242]],[&quot;^17&quot;,[2975,&quot;^;&quot;,&quot;~u62d3582d-0fd8-45f9-9cd9-efb7d83d3dc7&quot;,536871242]],[&quot;^17&quot;,[2987,&quot;^R&quot;,&quot;另外，**在有需要的时候，可以在每个有需要的列上创建直方图，但却不太可能同时创建多个单列索引，那样代价太高了**&quot;,536871246]],[&quot;^17&quot;,[2987,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2987,&quot;^F&quot;,2988,536871246]],[&quot;^17&quot;,[2987,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2987,&quot;^W&quot;,2997,536871246]],[&quot;^17&quot;,[2987,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2987,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2987,&quot;^;&quot;,&quot;~u62d3582d-93f9-4925-a289-8f3a20540503&quot;,536871246]],[&quot;^17&quot;,[2988,&quot;^R&quot;,&quot;**索引统计信息也有不可靠的时候，例如存在[[数据倾斜]]**，或者统计延迟等问题。&quot;,536871246]],[&quot;^17&quot;,[2988,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2988,&quot;^F&quot;,2994,536871246]],[&quot;^17&quot;,[2988,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2988,&quot;^W&quot;,2997,536871246]],[&quot;^17&quot;,[2988,&quot;^V&quot;,2838,536871246]],[&quot;^17&quot;,[2988,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2988,&quot;^H&quot;,2838,536871246]],[&quot;^17&quot;,[2988,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2988,&quot;^;&quot;,&quot;~u62d3582d-8015-4d5d-8e1a-8c4d9138680e&quot;,536871246]],[&quot;^17&quot;,[2989,&quot;^R&quot;,&quot;join order 的选择则基于对 join 结果行数的估算。如果 join 条件中的列都已经建立了直方图，则可以根据以下流程对 join 结果行数进行较为准确的估算：&quot;,536871246]],[&quot;^17&quot;,[2989,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2989,&quot;^F&quot;,2998,536871246]],[&quot;^17&quot;,[2989,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2989,&quot;^W&quot;,2998,536871246]],[&quot;^17&quot;,[2989,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2989,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2989,&quot;^;&quot;,&quot;~u62d3582d-b424-4057-becc-173b9da04f50&quot;,536871246]],[&quot;^17&quot;,[2990,&quot;^R&quot;,&quot;将两表中数据相对应的每对桶中的行数相乘。&quot;,536871246]],[&quot;^17&quot;,[2990,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2990,&quot;^F&quot;,2993,536871246]],[&quot;^17&quot;,[2990,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2990,&quot;^W&quot;,2989,536871246]],[&quot;^17&quot;,[2990,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2990,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2990,&quot;^;&quot;,&quot;~u62d3582d-716c-48a3-9e43-5447bef78a3a&quot;,536871246]],[&quot;^17&quot;,[2991,&quot;^R&quot;,&quot;一个桶的例子\\n![image.png](../assets/image_1657619919322_0.png)&quot;,536871246]],[&quot;^17&quot;,[2991,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2991,&quot;^F&quot;,2992,536871246]],[&quot;^17&quot;,[2991,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2991,&quot;^W&quot;,2992,536871246]],[&quot;^17&quot;,[2991,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2991,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2991,&quot;^;&quot;,&quot;~u62d3582d-537d-4bd6-a4f5-5bb37acc504a&quot;,536871246]],[&quot;^17&quot;,[2992,&quot;^R&quot;,&quot;## 1. 直方图怎么工作\\nMySQL支持两种直方图模式：等宽、等高。等宽直方图是每个桶保存一个值以及这个值累积频率，等高直方图每个桶需要保存不同值的个数，上下限以及累积频率等。MySQL会自动选用哪种类型的直方图，无需也不能指定。一般来说，数据数据**分布范围比较大的话就采用等高**，反之，如果数据分布比较小就采用等宽。&quot;,536871246]],[&quot;^17&quot;,[2992,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2992,&quot;^X&quot;,2,536871246]],[&quot;^17&quot;,[2992,&quot;^F&quot;,2997,536871246]],[&quot;^17&quot;,[2992,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2992,&quot;^W&quot;,2843,536871246]],[&quot;^17&quot;,[2992,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2992,&quot;^1&gt;&quot;,2,536871246]],[&quot;^17&quot;,[2992,&quot;^Y&quot;,&quot;^1?&quot;,536871246]],[&quot;^17&quot;,[2992,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2992,&quot;^;&quot;,&quot;~u62d3582d-6434-4c5e-a0c5-99f79aa13ca2&quot;,536871246]],[&quot;^17&quot;,[2993,&quot;^R&quot;,&quot;调整其中一表的直方图使得两直方图的桶边界相同。&quot;,536871246]],[&quot;^17&quot;,[2993,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2993,&quot;^F&quot;,2989,536871246]],[&quot;^17&quot;,[2993,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2993,&quot;^W&quot;,2989,536871246]],[&quot;^17&quot;,[2993,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2993,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2993,&quot;^;&quot;,&quot;~u62d3582d-1c9e-48f5-b8d5-a46dd2972e74&quot;,536871246]],[&quot;^17&quot;,[2994,&quot;^R&quot;,&quot;虽然可以利用索引优化SQL效率，但索引维护的代价更高，索引要保持更新，而直方图可以按需**手动更新**。&quot;,536871246]],[&quot;^17&quot;,[2994,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2994,&quot;^F&quot;,2997,536871246]],[&quot;^17&quot;,[2994,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2994,&quot;^W&quot;,2997,536871246]],[&quot;^17&quot;,[2994,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2994,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2994,&quot;^;&quot;,&quot;~u62d3582d-21f4-491f-a30c-d9678d904d61&quot;,536871246]],[&quot;^17&quot;,[2995,&quot;^R&quot;,&quot;直方图（Histogram）是数据库提供的一种（索引之外的）基础统计信息，**用于描述列上的数据分布情况。它最典型的场景是估算查询谓词的选择率，以便选择合适的执行计划**。&quot;,536871246]],[&quot;^17&quot;,[2995,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2995,&quot;^F&quot;,4506,536896831]],[&quot;^17&quot;,[2995,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2995,&quot;^W&quot;,2843,536871246]],[&quot;^17&quot;,[2995,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2995,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2995,&quot;^;&quot;,&quot;~u62d3582d-63a9-40dc-b4bd-956ce8ebb1c1&quot;,536871246]],[&quot;^17&quot;,[2996,&quot;^R&quot;,&quot;**在 join 条件列上数据分布不均匀的情况下，使用直方图能够大大提升 join 结果行数预估的准确性**。同时，**如果发现某个桶在其中一列上的行数为0，也可以进行标记并在后续执行 join 的过程中直接跳过该桶以提升效率。**&quot;,536871246]],[&quot;^17&quot;,[2996,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2996,&quot;^F&quot;,2989,536871246]],[&quot;^17&quot;,[2996,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2996,&quot;^W&quot;,2998,536871246]],[&quot;^17&quot;,[2996,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2996,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2996,&quot;^;&quot;,&quot;~u62d3582d-c854-4d0e-8ed1-5d47999430e8&quot;,536871246]],[&quot;^17&quot;,[2997,&quot;^R&quot;,&quot;直方图可以针对某个列记录其数据分布统计信息，例如有个列的值是从1到1万，那么可以利用直方图分成100个桶（bucket），每个桶中统计这1万个值是怎么分布的，以及每个桶中的最大值、最小值、占比等信息。&quot;,536871246]],[&quot;^17&quot;,[2997,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2997,&quot;^F&quot;,2995,536871246]],[&quot;^17&quot;,[2997,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2997,&quot;^W&quot;,2843,536871246]],[&quot;^17&quot;,[2997,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2997,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2997,&quot;^;&quot;,&quot;~u62d3582d-322d-4b58-b125-3f63ac681aa2&quot;,536871246]],[&quot;^17&quot;,[2998,&quot;^R&quot;,&quot;**直方图的优化效果**\\n直方图对对执行计划的优化主要在两个方面：where 条件的选择和 join order 的选择。where 条件的选择原理比较简单：通过直方图计算各谓词的选择率，优先进行选择率较高的筛选，在背景部分已经有简单的举例。​&quot;,536871246]],[&quot;^17&quot;,[2998,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2998,&quot;^F&quot;,2992,536871246]],[&quot;^17&quot;,[2998,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2998,&quot;^W&quot;,2843,536871246]],[&quot;^17&quot;,[2998,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2998,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2998,&quot;^;&quot;,&quot;~u62d3582d-cdd2-4fc0-859a-4f2c983617de&quot;,536871246]],[&quot;^17&quot;,[2999,&quot;^R&quot;,&quot;将上一步结果求和，得到预估行数。&quot;,536871246]],[&quot;^17&quot;,[2999,&quot;^P&quot;,&quot;^19&quot;,536871246]],[&quot;^17&quot;,[2999,&quot;^F&quot;,2990,536871246]],[&quot;^17&quot;,[2999,&quot;^Z&quot;,2843,536871246]],[&quot;^17&quot;,[2999,&quot;^W&quot;,2989,536871246]],[&quot;^17&quot;,[2999,&quot;^V&quot;,2843,536871246]],[&quot;^17&quot;,[2999,&quot;^1@&quot;,true,536871246]],[&quot;^17&quot;,[2999,&quot;^;&quot;,&quot;~u62d3582d-96dc-4e49-85fd-9e245214c5ed&quot;,536871246]],[&quot;^17&quot;,[3069,&quot;^R&quot;,&quot;基数\\n在数据库中，某一列的唯一键（distinct Keys）的数量叫作基数。&quot;,536871260]],[&quot;^17&quot;,[3069,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3069,&quot;^F&quot;,4483,536896705]],[&quot;^17&quot;,[3069,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3069,&quot;^W&quot;,2844,536871260]],[&quot;^17&quot;,[3069,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3069,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3069,&quot;^;&quot;,&quot;~u62d3582d-1366-4b2b-a2db-e06219c90bf8&quot;,536871260]],[&quot;^17&quot;,[3070,&quot;^R&quot;,&quot;比如性别列，该列只有男女之分，所以这一列基数是2。主键列的基数等于表的总行数。\\n\\n``` sql\\nselect count(distinct column_name)  from table_name;\\n```&quot;,536871260]],[&quot;^17&quot;,[3070,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3070,&quot;^F&quot;,3069,536871260]],[&quot;^17&quot;,[3070,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3070,&quot;^W&quot;,3069,536871260]],[&quot;^17&quot;,[3070,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3070,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3070,&quot;^;&quot;,&quot;~u62d3582d-1ee4-4709-8dc8-b12fd5972497&quot;,536871260]],[&quot;^17&quot;,[3071,&quot;^R&quot;,&quot;选择性\\n**列的基数与表中总行数的比值再乘以100%就是某个列的选择性。**&quot;,536871260]],[&quot;^17&quot;,[3071,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3071,&quot;^F&quot;,3069,536871260]],[&quot;^17&quot;,[3071,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3071,&quot;^W&quot;,2844,536871260]],[&quot;^17&quot;,[3071,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3071,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3071,&quot;^;&quot;,&quot;~u62d3582d-3581-45e4-a97a-dd796dfbc32c&quot;,536871260]],[&quot;^17&quot;,[3072,&quot;^R&quot;,&quot;列的选择性可以衡量数据库索引能够帮助缩小对表中特定值的搜索范围的程度。&quot;,536871260]],[&quot;^17&quot;,[3072,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3072,&quot;^F&quot;,3071,536871260]],[&quot;^17&quot;,[3072,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3072,&quot;^W&quot;,3071,536871260]],[&quot;^17&quot;,[3072,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3072,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3072,&quot;^;&quot;,&quot;~u62d3582d-2643-4be2-94c8-83f22c2176c7&quot;,536871260]],[&quot;^17&quot;,[3073,&quot;^R&quot;,&quot;查看某个列的选择性\\n\\n``` sql\\nselect Concat((count(distinct column_name) / count(*))*100,&apos;%&apos;) from table_name;\\n```&quot;,536871260]],[&quot;^17&quot;,[3073,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3073,&quot;^F&quot;,3072,536871260]],[&quot;^17&quot;,[3073,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3073,&quot;^W&quot;,3071,536871260]],[&quot;^17&quot;,[3073,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3073,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3073,&quot;^;&quot;,&quot;~u62d3582d-6d4a-4157-bcd5-47301e12d914&quot;,536871260]],[&quot;^17&quot;,[3074,&quot;^R&quot;,&quot;我们知道索引最重要的目的之一是尽可能地缩小匹配行的初始候选值，从而减少io，提升查询性能。所以通常来说索引的选择性越高则查询效率越高，因为选择性高的索引可以让数据库在查找时过滤掉更多的行。&quot;,536871260]],[&quot;^17&quot;,[3074,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3074,&quot;^F&quot;,3073,536871260]],[&quot;^17&quot;,[3074,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3074,&quot;^W&quot;,3071,536871260]],[&quot;^17&quot;,[3074,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3074,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3074,&quot;^;&quot;,&quot;~u62d3582d-3bfd-41a7-8457-de63a8140bd2&quot;,536871260]],[&quot;^17&quot;,[3075,&quot;^R&quot;,&quot;对于索引的选择性，值越高那么该列索引的效率也就越高。&quot;,536871260]],[&quot;^17&quot;,[3075,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3075,&quot;^F&quot;,3074,536871260]],[&quot;^17&quot;,[3075,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3075,&quot;^W&quot;,3071,536871260]],[&quot;^17&quot;,[3075,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3075,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3075,&quot;^;&quot;,&quot;~u62d3582d-d650-4176-af75-f01554f64936&quot;,536871260]],[&quot;^17&quot;,[3076,&quot;^R&quot;,&quot;&quot;,536871260]],[&quot;^17&quot;,[3076,&quot;^P&quot;,&quot;^19&quot;,536871260]],[&quot;^17&quot;,[3076,&quot;^F&quot;,3071,536871260]],[&quot;^17&quot;,[3076,&quot;^Z&quot;,2844,536871260]],[&quot;^17&quot;,[3076,&quot;^W&quot;,2844,536871260]],[&quot;^17&quot;,[3076,&quot;^V&quot;,2844,536871260]],[&quot;^17&quot;,[3076,&quot;^1@&quot;,true,536871260]],[&quot;^17&quot;,[3076,&quot;^;&quot;,&quot;~u62d3582d-db60-4fe3-88af-2e54842b1a79&quot;,536871260]],[&quot;^17&quot;,[3083,&quot;^2&quot;,1,536871264]],[&quot;^17&quot;,[3083,&quot;^U&quot;,&quot;^2&quot;,536871264]],[&quot;^17&quot;,[3091,&quot;^14&quot;,1,536871286]],[&quot;^17&quot;,[3095,&quot;^U&quot;,&quot;^S&quot;,536871296]],[&quot;^17&quot;,[3096,&quot;^R&quot;,&quot;这个方法完成ARIES的redo phase，回顾lecture，从DPT最小的recLSN开始遍历，如果可以redo重做：&quot;,536871391]],[&quot;^17&quot;,[3096,&quot;^P&quot;,&quot;^19&quot;,536871316]],[&quot;^17&quot;,[3096,&quot;^F&quot;,2423,536871316]],[&quot;^17&quot;,[3096,&quot;^Z&quot;,20,536871316]],[&quot;^17&quot;,[3096,&quot;^W&quot;,2423,536871317]],[&quot;^17&quot;,[3096,&quot;^V&quot;,20,536871391]],[&quot;^17&quot;,[3096,&quot;^?&quot;,[&quot;^ &quot;],536871391]],[&quot;^17&quot;,[3096,&quot;^1@&quot;,true,536871316]],[&quot;^17&quot;,[3096,&quot;^;&quot;,&quot;~u62d3624b-5d54-4296-8599-f1319a5c5aeb&quot;,536871316]],[&quot;^17&quot;,[3097,&quot;^R&quot;,&quot;一个分区相关record `AllocPart`, `UndoAllocaPart`, `FreePart`, `UndoFreePart`&quot;,536871478]],[&quot;^17&quot;,[3097,&quot;^P&quot;,&quot;^19&quot;,536871392]],[&quot;^17&quot;,[3097,&quot;^F&quot;,3096,536871392]],[&quot;^17&quot;,[3097,&quot;^Z&quot;,20,536871392]],[&quot;^17&quot;,[3097,&quot;^W&quot;,3096,536871393]],[&quot;^17&quot;,[3097,&quot;^V&quot;,20,536871478]],[&quot;^17&quot;,[3097,&quot;^?&quot;,[&quot;^ &quot;],536871478]],[&quot;^17&quot;,[3097,&quot;^1@&quot;,true,536871392]],[&quot;^17&quot;,[3097,&quot;^;&quot;,&quot;~u62d362f5-14c0-4aab-81fb-4a42696bce7c&quot;,536871392]],[&quot;^17&quot;,[3098,&quot;^R&quot;,&quot;一个申请页记录，`AllocPage`, `UndoAllocPage`&quot;,536871548]],[&quot;^17&quot;,[3098,&quot;^P&quot;,&quot;^19&quot;,536871481]],[&quot;^17&quot;,[3098,&quot;^F&quot;,3097,536871481]],[&quot;^17&quot;,[3098,&quot;^Z&quot;,20,536871481]],[&quot;^17&quot;,[3098,&quot;^W&quot;,3096,536871481]],[&quot;^17&quot;,[3098,&quot;^V&quot;,20,536871548]],[&quot;^17&quot;,[3098,&quot;^?&quot;,[&quot;^ &quot;],536871548]],[&quot;^17&quot;,[3098,&quot;^1@&quot;,true,536871481]],[&quot;^17&quot;,[3098,&quot;^;&quot;,&quot;~u62d36348-de13-4b23-929c-4eff20d163b5&quot;,536871481]],[&quot;^17&quot;,[3099,&quot;^R&quot;,&quot;一个满足以下条件的修改页记录&quot;,536871555]],[&quot;^17&quot;,[3099,&quot;^P&quot;,&quot;^19&quot;,536871549]],[&quot;^17&quot;,[3099,&quot;^F&quot;,3098,536871549]],[&quot;^17&quot;,[3099,&quot;^Z&quot;,20,536871549]],[&quot;^17&quot;,[3099,&quot;^W&quot;,3096,536871549]],[&quot;^17&quot;,[3099,&quot;^V&quot;,20,536871555]],[&quot;^17&quot;,[3099,&quot;^?&quot;,[&quot;^ &quot;],536871555]],[&quot;^17&quot;,[3099,&quot;^1@&quot;,true,536871549]],[&quot;^17&quot;,[3099,&quot;^;&quot;,&quot;~u62d3637d-d0bf-4f32-8345-de97e121698b&quot;,536871549]],[&quot;^17&quot;,[3100,&quot;^R&quot;,&quot;page in DPT&quot;,536871563]],[&quot;^17&quot;,[3100,&quot;^P&quot;,&quot;^19&quot;,536871556]],[&quot;^17&quot;,[3100,&quot;^F&quot;,3099,536871556]],[&quot;^17&quot;,[3100,&quot;^Z&quot;,20,536871556]],[&quot;^17&quot;,[3100,&quot;^W&quot;,3099,536871557]],[&quot;^17&quot;,[3100,&quot;^V&quot;,20,536871563]],[&quot;^17&quot;,[3100,&quot;^?&quot;,[&quot;^ &quot;],536871563]],[&quot;^17&quot;,[3100,&quot;^1@&quot;,true,536871556]],[&quot;^17&quot;,[3100,&quot;^;&quot;,&quot;~u62d36397-24a3-4d66-ac12-494f78b3951b&quot;,536871556]],[&quot;^17&quot;,[3101,&quot;^R&quot;,&quot;record&apos;s LSN &gt;= recLSN of the page&quot;,536871614]],[&quot;^17&quot;,[3101,&quot;^P&quot;,&quot;^19&quot;,536871566]],[&quot;^17&quot;,[3101,&quot;^F&quot;,3100,536871714]],[&quot;^17&quot;,[3101,&quot;^Z&quot;,20,536871566]],[&quot;^17&quot;,[3101,&quot;^W&quot;,3099,536871566]],[&quot;^17&quot;,[3101,&quot;^V&quot;,20,536871714]],[&quot;^17&quot;,[3101,&quot;^?&quot;,[&quot;^ &quot;],536871714]],[&quot;^17&quot;,[3101,&quot;^1@&quot;,true,536871566]],[&quot;^17&quot;,[3101,&quot;^;&quot;,&quot;~u62d363b2-d842-4291-b720-7caa7db9daf3&quot;,536871566]],[&quot;^17&quot;,[3102,&quot;^R&quot;,&quot;page LSN is strictly less than LSN of record&quot;,536871641]],[&quot;^17&quot;,[3102,&quot;^P&quot;,&quot;^19&quot;,536871611]],[&quot;^17&quot;,[3102,&quot;^F&quot;,3101,536871611]],[&quot;^17&quot;,[3102,&quot;^Z&quot;,20,536871611]],[&quot;^17&quot;,[3102,&quot;^W&quot;,3099,536871611]],[&quot;^17&quot;,[3102,&quot;^V&quot;,20,536871641]],[&quot;^17&quot;,[3102,&quot;^?&quot;,[&quot;^ &quot;],536871641]],[&quot;^17&quot;,[3102,&quot;^1@&quot;,true,536871611]],[&quot;^17&quot;,[3102,&quot;^;&quot;,&quot;~u62d363cb-4711-44c3-b4aa-770ae006c234&quot;,536871611]],[&quot;^17&quot;,[3103,&quot;^R&quot;,&quot;~`buffermanger` 使用 try finally 结构&quot;,536871669]],[&quot;^17&quot;,[3103,&quot;^P&quot;,&quot;^19&quot;,536871642]],[&quot;^17&quot;,[3103,&quot;^F&quot;,3099,536871645]],[&quot;^17&quot;,[3103,&quot;^Z&quot;,20,536871642]],[&quot;^17&quot;,[3103,&quot;^W&quot;,3096,536871645]],[&quot;^17&quot;,[3103,&quot;^V&quot;,20,536871669]],[&quot;^17&quot;,[3103,&quot;^?&quot;,[&quot;^ &quot;],536871669]],[&quot;^17&quot;,[3103,&quot;^1@&quot;,true,536871642]],[&quot;^17&quot;,[3103,&quot;^;&quot;,&quot;~u62d36406-c614-40b0-b12a-edd0f0598e6b&quot;,536871642]],[&quot;^17&quot;,[3104,&quot;^R&quot;,&quot;### Task7: undo&quot;,536871702]],[&quot;^17&quot;,[3104,&quot;^P&quot;,&quot;^19&quot;,536871670]],[&quot;^17&quot;,[3104,&quot;^X&quot;,3,536871702]],[&quot;^17&quot;,[3104,&quot;^F&quot;,3096,536871687]],[&quot;^17&quot;,[3104,&quot;^Z&quot;,20,536871670]],[&quot;^17&quot;,[3104,&quot;^W&quot;,2423,536871687]],[&quot;^17&quot;,[3104,&quot;^V&quot;,20,536871702]],[&quot;^17&quot;,[3104,&quot;^?&quot;,[&quot;^ &quot;],536871702]],[&quot;^17&quot;,[3104,&quot;^1&gt;&quot;,3,536871690]],[&quot;^17&quot;,[3104,&quot;^Y&quot;,&quot;^1?&quot;,536871702]],[&quot;^17&quot;,[3104,&quot;^1@&quot;,true,536871670]],[&quot;^17&quot;,[3104,&quot;^;&quot;,&quot;~u62d369cc-7d92-41c5-8c38-d05080c7ecf5&quot;,536871670]],[&quot;^17&quot;,[3107,&quot;^R&quot;,&quot;~`undo` 从每个中止事务的lastLSN 开始&quot;,536871746]],[&quot;^17&quot;,[3107,&quot;^P&quot;,&quot;^19&quot;,536871705]],[&quot;^17&quot;,[3107,&quot;^F&quot;,3104,536871705]],[&quot;^17&quot;,[3107,&quot;^Z&quot;,20,536871705]],[&quot;^17&quot;,[3107,&quot;^W&quot;,3104,536871708]],[&quot;^17&quot;,[3107,&quot;^V&quot;,20,536871746]],[&quot;^17&quot;,[3107,&quot;^?&quot;,[&quot;^ &quot;],536871746]],[&quot;^17&quot;,[3107,&quot;^1@&quot;,true,536871705]],[&quot;^17&quot;,[3107,&quot;^;&quot;,&quot;~u62d38239-c422-4970-8ff2-77ab1dd089a8&quot;,536871705]],[&quot;^17&quot;,[3109,&quot;^R&quot;,&quot;我们重复取得最大编号的record&quot;,536871765]],[&quot;^17&quot;,[3109,&quot;^P&quot;,&quot;^19&quot;,536871747]],[&quot;^17&quot;,[3109,&quot;^F&quot;,3107,536871747]],[&quot;^17&quot;,[3109,&quot;^Z&quot;,20,536871747]],[&quot;^17&quot;,[3109,&quot;^W&quot;,3104,536871747]],[&quot;^17&quot;,[3109,&quot;^V&quot;,20,536871765]],[&quot;^17&quot;,[3109,&quot;^?&quot;,[&quot;^ &quot;],536871765]],[&quot;^17&quot;,[3109,&quot;^1@&quot;,true,536871747]],[&quot;^17&quot;,[3109,&quot;^;&quot;,&quot;~u62d384ab-5977-475f-93d2-fa617d5de213&quot;,536871747]],[&quot;^17&quot;,[3110,&quot;^R&quot;,&quot;如果记录是`undoable`,  写CLR之后undo&quot;,536871812]],[&quot;^17&quot;,[3110,&quot;^P&quot;,&quot;^19&quot;,536871766]],[&quot;^17&quot;,[3110,&quot;^F&quot;,3109,536871766]],[&quot;^17&quot;,[3110,&quot;^Z&quot;,20,536871766]],[&quot;^17&quot;,[3110,&quot;^W&quot;,3109,536871769]],[&quot;^17&quot;,[3110,&quot;^V&quot;,20,536871812]],[&quot;^17&quot;,[3110,&quot;^?&quot;,[&quot;^ &quot;],536871812]],[&quot;^17&quot;,[3110,&quot;^1@&quot;,true,536871766]],[&quot;^17&quot;,[3110,&quot;^;&quot;,&quot;~u62d384c6-f17f-4a1f-869f-371b236b74b1&quot;,536871766]],[&quot;^17&quot;,[3111,&quot;^R&quot;,&quot;替换集合中的LSN用 undoNextLSN，如果该记录有；prevLSN同理&quot;,536871864]],[&quot;^17&quot;,[3111,&quot;^P&quot;,&quot;^19&quot;,536871815]],[&quot;^17&quot;,[3111,&quot;^F&quot;,3110,536871815]],[&quot;^17&quot;,[3111,&quot;^Z&quot;,20,536871815]],[&quot;^17&quot;,[3111,&quot;^W&quot;,3109,536871815]],[&quot;^17&quot;,[3111,&quot;^V&quot;,20,536871864]],[&quot;^17&quot;,[3111,&quot;^?&quot;,[&quot;^ &quot;],536871864]],[&quot;^17&quot;,[3111,&quot;^1@&quot;,true,536871815]],[&quot;^17&quot;,[3111,&quot;^;&quot;,&quot;~u62d38502-5765-493f-9224-2d1efe7838f2&quot;,536871815]],[&quot;^17&quot;,[3112,&quot;^R&quot;,&quot;结束txn，如果prevLSN是0，将它从ATT中移除。&quot;,536871902]],[&quot;^17&quot;,[3112,&quot;^P&quot;,&quot;^19&quot;,536871865]],[&quot;^17&quot;,[3112,&quot;^F&quot;,3111,536871865]],[&quot;^17&quot;,[3112,&quot;^Z&quot;,20,536871865]],[&quot;^17&quot;,[3112,&quot;^W&quot;,3109,536871865]],[&quot;^17&quot;,[3112,&quot;^V&quot;,20,536871902]],[&quot;^17&quot;,[3112,&quot;^?&quot;,[&quot;^ &quot;],536871902]],[&quot;^17&quot;,[3112,&quot;^1@&quot;,true,536871865]],[&quot;^17&quot;,[3112,&quot;^;&quot;,&quot;~u62d385d2-6acb-47e5-9e19-00ad90402e75&quot;,536871865]],[&quot;^17&quot;,[3113,&quot;^R&quot;,&quot;## 项目与真实数据库异同点&quot;,536871925]],[&quot;^17&quot;,[3113,&quot;^P&quot;,&quot;^19&quot;,536871905]],[&quot;^17&quot;,[3113,&quot;^X&quot;,2,536871925]],[&quot;^17&quot;,[3113,&quot;^F&quot;,2371,536871919]],[&quot;^17&quot;,[3113,&quot;^Z&quot;,20,536871905]],[&quot;^17&quot;,[3113,&quot;^W&quot;,20,536871919]],[&quot;^17&quot;,[3113,&quot;^V&quot;,20,536871925]],[&quot;^17&quot;,[3113,&quot;^?&quot;,[&quot;^ &quot;],536871925]],[&quot;^17&quot;,[3113,&quot;^1&gt;&quot;,2,536871922]],[&quot;^17&quot;,[3113,&quot;^Y&quot;,&quot;^1?&quot;,536871925]],[&quot;^17&quot;,[3113,&quot;^1@&quot;,true,536871905]],[&quot;^17&quot;,[3113,&quot;^;&quot;,&quot;~u62d38677-b906-45ad-b72f-e1e34be6ea72&quot;,536871905]],[&quot;^17&quot;,[3114,&quot;^14&quot;,1,536871912]],[&quot;^17&quot;,[3115,&quot;^R&quot;,&quot;我们实现项目与真正数据库的ARIES过程是有所区别的，本实验实现的是简化版&quot;,536871957]],[&quot;^17&quot;,[3115,&quot;^P&quot;,&quot;^19&quot;,536871926]],[&quot;^17&quot;,[3115,&quot;^F&quot;,3113,536871926]],[&quot;^17&quot;,[3115,&quot;^Z&quot;,20,536871926]],[&quot;^17&quot;,[3115,&quot;^W&quot;,3113,536871927]],[&quot;^17&quot;,[3115,&quot;^V&quot;,20,536871957]],[&quot;^17&quot;,[3115,&quot;^?&quot;,[&quot;^ &quot;],536871957]],[&quot;^17&quot;,[3115,&quot;^1@&quot;,true,536871926]],[&quot;^17&quot;,[3115,&quot;^;&quot;,&quot;~u62d3b641-8787-48dc-8e8a-50403dcf279e&quot;,536871926]],[&quot;^17&quot;,[3116,&quot;^R&quot;,&quot;前向阶段\\n![image.png](../assets/image_1658042071884_0.png)&quot;,536871964]],[&quot;^17&quot;,[3116,&quot;^P&quot;,&quot;^19&quot;,536871958]],[&quot;^17&quot;,[3116,&quot;^F&quot;,3115,536871958]],[&quot;^17&quot;,[3116,&quot;^Z&quot;,20,536871958]],[&quot;^17&quot;,[3116,&quot;^W&quot;,3113,536871958]],[&quot;^17&quot;,[3116,&quot;^V&quot;,20,536871964]],[&quot;^17&quot;,[3116,&quot;^?&quot;,[&quot;^ &quot;],536871964]],[&quot;^17&quot;,[3116,&quot;^1@&quot;,true,536871958]],[&quot;^17&quot;,[3116,&quot;^;&quot;,&quot;~u62d3b6cd-2e62-458c-97e6-23c8bcce5e20&quot;,536871958]],[&quot;^17&quot;,[3117,&quot;^R&quot;,&quot;重启阶段\\n![image.png](../assets/image_1658042204897_0.png)&quot;,536871973]],[&quot;^17&quot;,[3117,&quot;^P&quot;,&quot;^19&quot;,536871967]],[&quot;^17&quot;,[3117,&quot;^F&quot;,3116,536871967]],[&quot;^17&quot;,[3117,&quot;^Z&quot;,20,536871967]],[&quot;^17&quot;,[3117,&quot;^W&quot;,3113,536871967]],[&quot;^17&quot;,[3117,&quot;^V&quot;,20,536871973]],[&quot;^17&quot;,[3117,&quot;^?&quot;,[&quot;^ &quot;],536871973]],[&quot;^17&quot;,[3117,&quot;^1@&quot;,true,536871967]],[&quot;^17&quot;,[3117,&quot;^;&quot;,&quot;~u62d3b751-9170-452c-a9d4-6293a338da4c&quot;,536871967]],[&quot;^17&quot;,[3118,&quot;^R&quot;,&quot;我们在redo后会清理DPT，这在lecture被省略&quot;,536871997]],[&quot;^17&quot;,[3118,&quot;^P&quot;,&quot;^19&quot;,536871976]],[&quot;^17&quot;,[3118,&quot;^F&quot;,3117,536871976]],[&quot;^17&quot;,[3118,&quot;^Z&quot;,20,536871976]],[&quot;^17&quot;,[3118,&quot;^W&quot;,3117,536871979]],[&quot;^17&quot;,[3118,&quot;^V&quot;,20,536871997]],[&quot;^17&quot;,[3118,&quot;^?&quot;,[&quot;^ &quot;],536871997]],[&quot;^17&quot;,[3118,&quot;^1@&quot;,true,536871976]],[&quot;^17&quot;,[3118,&quot;^;&quot;,&quot;~u62d3b75d-9ff6-4fa1-b37b-03a73c1db811&quot;,536871976]],[&quot;^17&quot;,[3119,&quot;^R&quot;,&quot;&quot;,536871998]],[&quot;^17&quot;,[3119,&quot;^P&quot;,&quot;^19&quot;,536871998]],[&quot;^17&quot;,[3119,&quot;^F&quot;,3118,536871998]],[&quot;^17&quot;,[3119,&quot;^Z&quot;,20,536871998]],[&quot;^17&quot;,[3119,&quot;^W&quot;,3117,536871998]],[&quot;^17&quot;,[3119,&quot;^V&quot;,20,536871998]],[&quot;^17&quot;,[3119,&quot;^?&quot;,[&quot;^ &quot;],536871998]],[&quot;^17&quot;,[3119,&quot;^1@&quot;,true,536871998]],[&quot;^17&quot;,[3119,&quot;^;&quot;,&quot;~u62d3b7af-ee30-41ae-a09a-239572532f09&quot;,536871998]],[&quot;^17&quot;,[3121,&quot;^R&quot;,&quot;一门优秀完备的数据库课程，课程官网[]， gitbook []；相关课程 cmu15-445, mit 6.830&quot;,536872105]],[&quot;^17&quot;,[3121,&quot;^P&quot;,&quot;^19&quot;,536872008]],[&quot;^17&quot;,[3121,&quot;^@&quot;,false,536872008]],[&quot;^17&quot;,[3121,&quot;^F&quot;,4468,536896449]],[&quot;^17&quot;,[3121,&quot;^Z&quot;,171,536872008]],[&quot;^17&quot;,[3121,&quot;^W&quot;,171,536872008]],[&quot;^17&quot;,[3121,&quot;^V&quot;,171,536872105]],[&quot;^17&quot;,[3121,&quot;^?&quot;,[&quot;^ &quot;],536872105]],[&quot;^17&quot;,[3121,&quot;^1@&quot;,true,536872008]],[&quot;^17&quot;,[3121,&quot;^;&quot;,&quot;~u62d3c882-8fea-4e35-99f0-2dc2c0eda658&quot;,536872008]],[&quot;^17&quot;,[3127,&quot;^R&quot;,&quot;video lecture 评价 4🌟 有点内容很全面，缺点感觉有点量太大了，纯看ppt会感到很杂乱；而且老师讲课没有cmu15-445有激情&quot;,536873169]],[&quot;^17&quot;,[3127,&quot;^P&quot;,&quot;^19&quot;,536872118]],[&quot;^17&quot;,[3127,&quot;^@&quot;,false,536872118]],[&quot;^17&quot;,[3127,&quot;^F&quot;,3121,536872118]],[&quot;^17&quot;,[3127,&quot;^Z&quot;,171,536872118]],[&quot;^17&quot;,[3127,&quot;^W&quot;,3121,536872121]],[&quot;^17&quot;,[3127,&quot;^V&quot;,171,536873169]],[&quot;^17&quot;,[3127,&quot;^?&quot;,[&quot;^ &quot;],536873169]],[&quot;^17&quot;,[3127,&quot;^1@&quot;,true,536872118]],[&quot;^17&quot;,[3127,&quot;^;&quot;,&quot;~u62d3c8f2-6494-4441-a238-d9c4b691ce07&quot;,536872118]],[&quot;^17&quot;,[3128,&quot;^R&quot;,&quot;project 评价 5 🌟：质量很高，绝对不输bustub（甚至更好）。代码框架非常的优秀，且有完整的测试，可以看出项目作者的java功底很强大。四次项目分别完成 B+树索引，join算法和优化，并发控制和数据库恢复；但这只是一部分，代码框架每个模块都可以抠出来做成一个lab，以此来深化同学对对应知识点的理解。&quot;,536873178]],[&quot;^17&quot;,[3128,&quot;^P&quot;,&quot;^19&quot;,536872202]],[&quot;^17&quot;,[3128,&quot;^@&quot;,false,536872202]],[&quot;^17&quot;,[3128,&quot;^F&quot;,3127,536872202]],[&quot;^17&quot;,[3128,&quot;^Z&quot;,171,536872202]],[&quot;^17&quot;,[3128,&quot;^W&quot;,3121,536872202]],[&quot;^17&quot;,[3128,&quot;^V&quot;,171,536873178]],[&quot;^17&quot;,[3128,&quot;^?&quot;,[&quot;^ &quot;],536873178]],[&quot;^17&quot;,[3128,&quot;^1@&quot;,true,536872202]],[&quot;^17&quot;,[3128,&quot;^;&quot;,&quot;~u62d3c960-6807-4103-ab1c-71da79eb1ae7&quot;,536872202]],[&quot;^17&quot;,[3129,&quot;^R&quot;,&quot;其他信息 notes, ... ：5 🌟，总结的很简洁全面，有时候看notes反而比直接看lecture更易懂。所以我建议看cs 186 notes 结合 cmu15-445 lecture&quot;,536872341]],[&quot;^17&quot;,[3129,&quot;^P&quot;,&quot;^19&quot;,536872272]],[&quot;^17&quot;,[3129,&quot;^@&quot;,false,536872272]],[&quot;^17&quot;,[3129,&quot;^F&quot;,3128,536872272]],[&quot;^17&quot;,[3129,&quot;^Z&quot;,171,536872272]],[&quot;^17&quot;,[3129,&quot;^W&quot;,3121,536872272]],[&quot;^17&quot;,[3129,&quot;^V&quot;,171,536872341]],[&quot;^17&quot;,[3129,&quot;^?&quot;,[&quot;^ &quot;],536872341]],[&quot;^17&quot;,[3129,&quot;^1@&quot;,true,536872272]],[&quot;^17&quot;,[3129,&quot;^;&quot;,&quot;~u62d3c9c0-7922-4ac9-aae6-b8b4d96a0290&quot;,536872272]],[&quot;^17&quot;,[3130,&quot;^R&quot;,&quot;## B+Tree Index&quot;,536872406]],[&quot;^17&quot;,[3130,&quot;^P&quot;,&quot;^19&quot;,536872342]],[&quot;^17&quot;,[3130,&quot;^X&quot;,2,536872406]],[&quot;^17&quot;,[3130,&quot;^@&quot;,false,536872342]],[&quot;^17&quot;,[3130,&quot;^F&quot;,3132,536872523]],[&quot;^17&quot;,[3130,&quot;^Z&quot;,171,536872342]],[&quot;^17&quot;,[3130,&quot;^W&quot;,171,536872384]],[&quot;^17&quot;,[3130,&quot;^V&quot;,171,536872406]],[&quot;^17&quot;,[3130,&quot;^?&quot;,[&quot;^ &quot;],536872406]],[&quot;^17&quot;,[3130,&quot;^1&gt;&quot;,2,536872387]],[&quot;^17&quot;,[3130,&quot;^Y&quot;,&quot;^1?&quot;,536872406]],[&quot;^17&quot;,[3130,&quot;^1@&quot;,true,536872342]],[&quot;^17&quot;,[3130,&quot;^;&quot;,&quot;~u62d3ca17-8d52-4e16-855b-1eefa7ade090&quot;,536872342]],[&quot;^17&quot;,[3131,&quot;^R&quot;,&quot;虽然B+树很抽象，但通过课程ppt和notes，搞懂原理，掌握规律还是不难的，拿的是如何上手实现它\\nid:: 62d3ca75-0d7a-4a0b-a481-6a308730e449&quot;,536872446]],[&quot;^17&quot;,[3131,&quot;^P&quot;,&quot;^19&quot;,536872407]],[&quot;^17&quot;,[3131,&quot;^@&quot;,false,536872407]],[&quot;^17&quot;,[3131,&quot;^F&quot;,3130,536872407]],[&quot;^17&quot;,[3131,&quot;^Z&quot;,171,536872407]],[&quot;^17&quot;,[3131,&quot;^W&quot;,3130,536872410]],[&quot;^17&quot;,[3131,&quot;^V&quot;,171,536872443]],[&quot;^17&quot;,[3131,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1=&quot;,&quot;62d3ca75-0d7a-4a0b-a481-6a308730e449&quot;],536872446]],[&quot;^17&quot;,[3131,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1=&quot;]],536872446]],[&quot;^17&quot;,[3131,&quot;^1@&quot;,true,536872407]],[&quot;^17&quot;,[3131,&quot;^;&quot;,&quot;~u62d3ca75-0d7a-4a0b-a481-6a308730e449&quot;,536872407]],[&quot;^17&quot;,[3132,&quot;^R&quot;,&quot;## 速览代码框架\\n![image.png](../assets/image_1657700918853_0.png)&quot;,536872756]],[&quot;^17&quot;,[3132,&quot;^P&quot;,&quot;^19&quot;,536872482]],[&quot;^17&quot;,[3132,&quot;^X&quot;,2,536872756]],[&quot;^17&quot;,[3132,&quot;^@&quot;,false,536872482]],[&quot;^17&quot;,[3132,&quot;^F&quot;,3121,536872515]],[&quot;^17&quot;,[3132,&quot;^Z&quot;,171,536872482]],[&quot;^17&quot;,[3132,&quot;^W&quot;,171,536872515]],[&quot;^17&quot;,[3132,&quot;^V&quot;,171,536872756]],[&quot;^17&quot;,[3132,&quot;^?&quot;,[&quot;^ &quot;],536872756]],[&quot;^17&quot;,[3132,&quot;^1&gt;&quot;,2,536872532]],[&quot;^17&quot;,[3132,&quot;^Y&quot;,&quot;^1?&quot;,536872756]],[&quot;^17&quot;,[3132,&quot;^1@&quot;,true,536872482]],[&quot;^17&quot;,[3132,&quot;^;&quot;,&quot;~u62d3cf2a-444c-4c28-961a-a023b8526eed&quot;,536872482]],[&quot;^17&quot;,[3133,&quot;^R&quot;,&quot;~`cli` 实现了命令行界面--数据库的前端；编译生成sql语句树，编译原理我不太懂，以后再回来看看&quot;,536872574]],[&quot;^17&quot;,[3133,&quot;^P&quot;,&quot;^19&quot;,536872522]],[&quot;^17&quot;,[3133,&quot;^@&quot;,false,536872522]],[&quot;^17&quot;,[3133,&quot;^F&quot;,3132,536872522]],[&quot;^17&quot;,[3133,&quot;^Z&quot;,171,536872522]],[&quot;^17&quot;,[3133,&quot;^W&quot;,3132,536872523]],[&quot;^17&quot;,[3133,&quot;^V&quot;,171,536872574]],[&quot;^17&quot;,[3133,&quot;^?&quot;,[&quot;^ &quot;],536872574]],[&quot;^17&quot;,[3133,&quot;^1@&quot;,true,536872522]],[&quot;^17&quot;,[3133,&quot;^;&quot;,&quot;~u62d3cf39-8cbf-4870-92fb-ceb97db8c35c&quot;,536872522]],[&quot;^17&quot;,[3134,&quot;^R&quot;,&quot;~`common`：实现了一些辅助对象，是数据库实现常用类型，迭代器的封装&quot;,536872618]],[&quot;^17&quot;,[3134,&quot;^P&quot;,&quot;^19&quot;,536872575]],[&quot;^17&quot;,[3134,&quot;^@&quot;,false,536872575]],[&quot;^17&quot;,[3134,&quot;^F&quot;,3133,536872575]],[&quot;^17&quot;,[3134,&quot;^Z&quot;,171,536872575]],[&quot;^17&quot;,[3134,&quot;^W&quot;,3132,536872587]],[&quot;^17&quot;,[3134,&quot;^V&quot;,171,536872618]],[&quot;^17&quot;,[3134,&quot;^?&quot;,[&quot;^ &quot;],536872618]],[&quot;^17&quot;,[3134,&quot;^1@&quot;,true,536872575]],[&quot;^17&quot;,[3134,&quot;^;&quot;,&quot;~u62d3cfce-f9d3-4979-bebf-d47261c3c146&quot;,536872575]],[&quot;^17&quot;,[3135,&quot;^R&quot;,&quot;~`concurrency`“：并发相关代码，三层抽象实现锁与锁管理器，之后详细讲讲&quot;,536872658]],[&quot;^17&quot;,[3135,&quot;^P&quot;,&quot;^19&quot;,536872619]],[&quot;^17&quot;,[3135,&quot;^@&quot;,false,536872619]],[&quot;^17&quot;,[3135,&quot;^F&quot;,3134,536872619]],[&quot;^17&quot;,[3135,&quot;^Z&quot;,171,536872619]],[&quot;^17&quot;,[3135,&quot;^W&quot;,3132,536872619]],[&quot;^17&quot;,[3135,&quot;^V&quot;,171,536872658]],[&quot;^17&quot;,[3135,&quot;^?&quot;,[&quot;^ &quot;],536872658]],[&quot;^17&quot;,[3135,&quot;^1@&quot;,true,536872619]],[&quot;^17&quot;,[3135,&quot;^;&quot;,&quot;~u62d3d01f-6293-49b1-96f5-48ac9e4bb42d&quot;,536872619]],[&quot;^17&quot;,[3136,&quot;^R&quot;,&quot;~`databox`：将数据库每一列可能的数据类型进行了封装，我认为统一封装后，每种数据类型都继承抽象类`databox`，简化了代码编写和维护难度&quot;,536872727]],[&quot;^17&quot;,[3136,&quot;^P&quot;,&quot;^19&quot;,536872661]],[&quot;^17&quot;,[3136,&quot;^@&quot;,false,536872661]],[&quot;^17&quot;,[3136,&quot;^F&quot;,3135,536872661]],[&quot;^17&quot;,[3136,&quot;^Z&quot;,171,536872661]],[&quot;^17&quot;,[3136,&quot;^W&quot;,3132,536872661]],[&quot;^17&quot;,[3136,&quot;^V&quot;,171,536872727]],[&quot;^17&quot;,[3136,&quot;^?&quot;,[&quot;^ &quot;],536872727]],[&quot;^17&quot;,[3136,&quot;^1@&quot;,true,536872661]],[&quot;^17&quot;,[3136,&quot;^;&quot;,&quot;~u62d3d05d-1071-4314-b458-d9ed14496e6b&quot;,536872661]],[&quot;^17&quot;,[3137,&quot;^R&quot;,&quot;~`index`：B+索引，之后详细讲&quot;,536872749]],[&quot;^17&quot;,[3137,&quot;^P&quot;,&quot;^19&quot;,536872728]],[&quot;^17&quot;,[3137,&quot;^@&quot;,false,536872728]],[&quot;^17&quot;,[3137,&quot;^F&quot;,3136,536872728]],[&quot;^17&quot;,[3137,&quot;^Z&quot;,171,536872728]],[&quot;^17&quot;,[3137,&quot;^W&quot;,3132,536872728]],[&quot;^17&quot;,[3137,&quot;^V&quot;,171,536872749]],[&quot;^17&quot;,[3137,&quot;^?&quot;,[&quot;^ &quot;],536872749]],[&quot;^17&quot;,[3137,&quot;^1@&quot;,true,536872728]],[&quot;^17&quot;,[3137,&quot;^;&quot;,&quot;~u62d3d0f4-51bd-406d-8cc5-9756e9ba618c&quot;,536872728]],[&quot;^17&quot;,[3138,&quot;^R&quot;,&quot;~`query`： relational operator层，实现了不同的算子，学生需要再query plan增加join优化&quot;,536872994]],[&quot;^17&quot;,[3138,&quot;^P&quot;,&quot;^19&quot;,536872750]],[&quot;^17&quot;,[3138,&quot;^@&quot;,false,536872750]],[&quot;^17&quot;,[3138,&quot;^F&quot;,3140,536872885]],[&quot;^17&quot;,[3138,&quot;^Z&quot;,171,536872750]],[&quot;^17&quot;,[3138,&quot;^W&quot;,3132,536872750]],[&quot;^17&quot;,[3138,&quot;^V&quot;,171,536872994]],[&quot;^17&quot;,[3138,&quot;^?&quot;,[&quot;^ &quot;],536872994]],[&quot;^17&quot;,[3138,&quot;^1@&quot;,true,536872750]],[&quot;^17&quot;,[3138,&quot;^;&quot;,&quot;~u62d3d113-4ca6-4ba3-935d-60b1ffe8459c&quot;,536872750]],[&quot;^17&quot;,[3139,&quot;^R&quot;,&quot;~`io`:  diskmanager层，负责控制页的读写&quot;,536872783]],[&quot;^17&quot;,[3139,&quot;^P&quot;,&quot;^19&quot;,536872759]],[&quot;^17&quot;,[3139,&quot;^@&quot;,false,536872759]],[&quot;^17&quot;,[3139,&quot;^F&quot;,3137,536872759]],[&quot;^17&quot;,[3139,&quot;^Z&quot;,171,536872759]],[&quot;^17&quot;,[3139,&quot;^W&quot;,3132,536872759]],[&quot;^17&quot;,[3139,&quot;^V&quot;,171,536872783]],[&quot;^17&quot;,[3139,&quot;^?&quot;,[&quot;^ &quot;],536872783]],[&quot;^17&quot;,[3139,&quot;^1@&quot;,true,536872759]],[&quot;^17&quot;,[3139,&quot;^;&quot;,&quot;~u62d3dd0a-c1d8-4b7a-b32b-27e8a2aadae7&quot;,536872759]],[&quot;^17&quot;,[3140,&quot;^R&quot;,&quot;~`memory`: Buffer manager 实现。用的页框来管理内存页，并且实现了clock和LRU替换算法（本项目的LRU与leetcode LRU不同，只使用了双向链表，没有使用hashmap来达到O(1)的查找时间复杂度）&quot;,536872918]],[&quot;^17&quot;,[3140,&quot;^P&quot;,&quot;^19&quot;,536872786]],[&quot;^17&quot;,[3140,&quot;^@&quot;,false,536872786]],[&quot;^17&quot;,[3140,&quot;^F&quot;,3139,536872786]],[&quot;^17&quot;,[3140,&quot;^Z&quot;,171,536872786]],[&quot;^17&quot;,[3140,&quot;^W&quot;,3132,536872786]],[&quot;^17&quot;,[3140,&quot;^V&quot;,171,536872918]],[&quot;^17&quot;,[3140,&quot;^?&quot;,[&quot;^ &quot;],536872918]],[&quot;^17&quot;,[3140,&quot;^1@&quot;,true,536872786]],[&quot;^17&quot;,[3140,&quot;^;&quot;,&quot;~u62d3dd3b-ef4b-43d8-a70d-3805bc3c1036&quot;,536872786]],[&quot;^17&quot;,[3143,&quot;^R&quot;,&quot;~`recovery`： 恢复性实现，实现多种日志，以及ARIES恢复算法&quot;,536873039]],[&quot;^17&quot;,[3143,&quot;^P&quot;,&quot;^19&quot;,536872997]],[&quot;^17&quot;,[3143,&quot;^@&quot;,false,536872997]],[&quot;^17&quot;,[3143,&quot;^F&quot;,3138,536872997]],[&quot;^17&quot;,[3143,&quot;^Z&quot;,171,536872997]],[&quot;^17&quot;,[3143,&quot;^W&quot;,3132,536872997]],[&quot;^17&quot;,[3143,&quot;^V&quot;,171,536873039]],[&quot;^17&quot;,[3143,&quot;^?&quot;,[&quot;^ &quot;],536873039]],[&quot;^17&quot;,[3143,&quot;^1@&quot;,true,536872997]],[&quot;^17&quot;,[3143,&quot;^;&quot;,&quot;~u62d3de6b-e7ad-432a-93c0-53575fcc4a78&quot;,536872997]],[&quot;^17&quot;,[3206,&quot;^14&quot;,1,536873061]],[&quot;^17&quot;,[3237,&quot;^14&quot;,1,536873650]],[&quot;^17&quot;,[3323,&quot;^14&quot;,1,536875483]],[&quot;^17&quot;,[3326,&quot;^14&quot;,1,536875491]],[&quot;^17&quot;,[3329,&quot;^R&quot;,&quot;~`table`: 存储着表相关信息，以及表的统计信息--直方图&quot;,536875522]],[&quot;^17&quot;,[3329,&quot;^P&quot;,&quot;^19&quot;,536875500]],[&quot;^17&quot;,[3329,&quot;^@&quot;,false,536875500]],[&quot;^17&quot;,[3329,&quot;^F&quot;,3143,536875500]],[&quot;^17&quot;,[3329,&quot;^Z&quot;,171,536875500]],[&quot;^17&quot;,[3329,&quot;^W&quot;,3132,536875500]],[&quot;^17&quot;,[3329,&quot;^V&quot;,171,536875522]],[&quot;^17&quot;,[3329,&quot;^?&quot;,[&quot;^ &quot;],536875522]],[&quot;^17&quot;,[3329,&quot;^1@&quot;,true,536875500]],[&quot;^17&quot;,[3329,&quot;^;&quot;,&quot;~u62d76fed-f3f0-474b-b80b-ca1ae19d8e65&quot;,536875500]],[&quot;^17&quot;,[3330,&quot;^R&quot;,&quot;&quot;,536875523]],[&quot;^17&quot;,[3330,&quot;^P&quot;,&quot;^19&quot;,536875523]],[&quot;^17&quot;,[3330,&quot;^@&quot;,false,536875523]],[&quot;^17&quot;,[3330,&quot;^F&quot;,3329,536875523]],[&quot;^17&quot;,[3330,&quot;^Z&quot;,171,536875523]],[&quot;^17&quot;,[3330,&quot;^W&quot;,3132,536875523]],[&quot;^17&quot;,[3330,&quot;^V&quot;,171,536875523]],[&quot;^17&quot;,[3330,&quot;^?&quot;,[&quot;^ &quot;],536875523]],[&quot;^17&quot;,[3330,&quot;^1@&quot;,true,536875523]],[&quot;^17&quot;,[3330,&quot;^;&quot;,&quot;~u62d7700f-f10e-4f5e-b7d7-d1697c4881a4&quot;,536875523]],[&quot;^17&quot;,[3331,&quot;^R&quot;,&quot;## [[proj4concurrency]]&quot;,536875538]],[&quot;^17&quot;,[3331,&quot;^P&quot;,&quot;^19&quot;,536875526]],[&quot;^17&quot;,[3331,&quot;^X&quot;,2,536875538]],[&quot;^17&quot;,[3331,&quot;^@&quot;,false,536875526]],[&quot;^17&quot;,[3331,&quot;^F&quot;,3130,536875529]],[&quot;^17&quot;,[3331,&quot;^Z&quot;,171,536875526]],[&quot;^17&quot;,[3331,&quot;^W&quot;,171,536875529]],[&quot;^17&quot;,[3331,&quot;^V&quot;,160,536875538]],[&quot;^17&quot;,[3331,&quot;^V&quot;,171,536875538]],[&quot;^17&quot;,[3331,&quot;^?&quot;,[&quot;^ &quot;],536875538]],[&quot;^17&quot;,[3331,&quot;^H&quot;,160,536875538]],[&quot;^17&quot;,[3331,&quot;^1&gt;&quot;,2,536875532]],[&quot;^17&quot;,[3331,&quot;^Y&quot;,&quot;^1?&quot;,536875538]],[&quot;^17&quot;,[3331,&quot;^1@&quot;,true,536875526]],[&quot;^17&quot;,[3331,&quot;^;&quot;,&quot;~u62d771d2-5175-493f-a797-ce33ea17b30a&quot;,536875526]],[&quot;^17&quot;,[3332,&quot;^R&quot;,&quot;&quot;,536875539]],[&quot;^17&quot;,[3332,&quot;^P&quot;,&quot;^19&quot;,536875539]],[&quot;^17&quot;,[3332,&quot;^@&quot;,false,536875539]],[&quot;^17&quot;,[3332,&quot;^F&quot;,3331,536875539]],[&quot;^17&quot;,[3332,&quot;^Z&quot;,171,536875539]],[&quot;^17&quot;,[3332,&quot;^W&quot;,171,536875539]],[&quot;^17&quot;,[3332,&quot;^V&quot;,171,536875539]],[&quot;^17&quot;,[3332,&quot;^?&quot;,[&quot;^ &quot;],536875539]],[&quot;^17&quot;,[3332,&quot;^1@&quot;,true,536875539]],[&quot;^17&quot;,[3332,&quot;^;&quot;,&quot;~u62d771e0-af67-4d0d-b59e-0fc32a72d06c&quot;,536875539]],[&quot;^17&quot;,[3387,&quot;^R&quot;,&quot;[[Logging Schemes]]&quot;,536876910]],[&quot;^17&quot;,[3387,&quot;^P&quot;,&quot;^19&quot;,536876907]],[&quot;^17&quot;,[3387,&quot;^F&quot;,2867,536876907]],[&quot;^17&quot;,[3387,&quot;^Z&quot;,32,536876907]],[&quot;^17&quot;,[3387,&quot;^W&quot;,2909,536876907]],[&quot;^17&quot;,[3387,&quot;^V&quot;,31,536876910]],[&quot;^17&quot;,[3387,&quot;^V&quot;,32,536876910]],[&quot;^17&quot;,[3387,&quot;^V&quot;,279,536876910]],[&quot;^17&quot;,[3387,&quot;^?&quot;,[&quot;^ &quot;],536876910]],[&quot;^17&quot;,[3387,&quot;^H&quot;,31,536876910]],[&quot;^17&quot;,[3387,&quot;^1@&quot;,true,536876907]],[&quot;^17&quot;,[3387,&quot;^;&quot;,&quot;~u62d89b2e-ec38-49a8-9a01-3f85d8244b19&quot;,536876907]],[&quot;^17&quot;,[3393,&quot;^14&quot;,1,536876956]],[&quot;^17&quot;,[3396,&quot;^14&quot;,1,536876966]],[&quot;^17&quot;,[3401,&quot;^14&quot;,1,536877012]],[&quot;^17&quot;,[3488,&quot;^14&quot;,1,536879764]],[&quot;^17&quot;,[3491,&quot;^14&quot;,1,536879773]],[&quot;^17&quot;,[3520,&quot;^14&quot;,1,536881356]],[&quot;^17&quot;,[3523,&quot;^14&quot;,1,536881372]],[&quot;^17&quot;,[3531,&quot;^14&quot;,1,536881685]],[&quot;^17&quot;,[3536,&quot;^14&quot;,1,536881696]],[&quot;^17&quot;,[3538,&quot;^L&quot;,1658848357972,536881726]],[&quot;^17&quot;,[3538,&quot;^P&quot;,&quot;^19&quot;,536881729]],[&quot;^17&quot;,[3538,&quot;^@&quot;,false,536881726]],[&quot;^17&quot;,[3538,&quot;^[&quot;,&quot;contests&quot;,536881726]],[&quot;^17&quot;,[3538,&quot;^13&quot;,&quot;contests&quot;,536881726]],[&quot;^17&quot;,[3538,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896082]],[&quot;^17&quot;,[3538,&quot;^B&quot;,1660809935963,536896077]],[&quot;^17&quot;,[3538,&quot;^;&quot;,&quot;~u62e20e61-c830-4a93-a654-76f74cbb7d8a&quot;,536883723]],[&quot;^17&quot;,[3539,&quot;^R&quot;,&quot;[[Atcoder]]&quot;,536896069]],[&quot;^17&quot;,[3539,&quot;^P&quot;,&quot;^19&quot;,536881730]],[&quot;^17&quot;,[3539,&quot;^@&quot;,false,536881730]],[&quot;^17&quot;,[3539,&quot;^F&quot;,4431,536896082]],[&quot;^17&quot;,[3539,&quot;^T&quot;,[&quot;^16&quot;,[]],536896069]],[&quot;^17&quot;,[3539,&quot;^Z&quot;,3538,536881730]],[&quot;^17&quot;,[3539,&quot;^W&quot;,3538,536881730]],[&quot;^17&quot;,[3539,&quot;^V&quot;,3538,536896070]],[&quot;^17&quot;,[3539,&quot;^V&quot;,3541,536896070]],[&quot;^17&quot;,[3539,&quot;^?&quot;,[&quot;^ &quot;],536896069]],[&quot;^17&quot;,[3539,&quot;^H&quot;,3541,536896069]],[&quot;^17&quot;,[3539,&quot;^1@&quot;,true,536881730]],[&quot;^17&quot;,[3539,&quot;^;&quot;,&quot;~u62e00467-ae9d-44a1-b5d3-9912f296b4f0&quot;,536881730]],[&quot;^17&quot;,[3541,&quot;^L&quot;,1658848372980,536881738]],[&quot;^17&quot;,[3541,&quot;^P&quot;,&quot;^19&quot;,536881747]],[&quot;^17&quot;,[3541,&quot;^@&quot;,false,536881738]],[&quot;^17&quot;,[3541,&quot;^[&quot;,&quot;atcoder&quot;,536881738]],[&quot;^17&quot;,[3541,&quot;^13&quot;,&quot;Atcoder&quot;,536881738]],[&quot;^17&quot;,[3541,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896087]],[&quot;^17&quot;,[3541,&quot;^B&quot;,1659789997292,536890439]],[&quot;^17&quot;,[3541,&quot;^;&quot;,&quot;~u62e20e61-6154-4ae7-8255-73c3dc120096&quot;,536883723]],[&quot;^17&quot;,[3543,&quot;^L&quot;,1658848381167,536881744]],[&quot;^17&quot;,[3543,&quot;^@&quot;,false,536881744]],[&quot;^17&quot;,[3543,&quot;^[&quot;,&quot;codeforces&quot;,536881744]],[&quot;^17&quot;,[3543,&quot;^13&quot;,&quot;codeforces&quot;,536881744]],[&quot;^17&quot;,[3543,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896097]],[&quot;^17&quot;,[3543,&quot;^B&quot;,1659364398543,536889354]],[&quot;^17&quot;,[3543,&quot;^;&quot;,&quot;~u62e20e61-df0f-4689-9609-41bcead6b5aa&quot;,536883723]],[&quot;^17&quot;,[3544,&quot;^R&quot;,&quot;[[beginner contest 261]]&quot;,536881754]],[&quot;^17&quot;,[3544,&quot;^P&quot;,&quot;^19&quot;,536881748]],[&quot;^17&quot;,[3544,&quot;^@&quot;,false,536881748]],[&quot;^17&quot;,[3544,&quot;^F&quot;,4432,536896087]],[&quot;^17&quot;,[3544,&quot;^Z&quot;,3541,536881748]],[&quot;^17&quot;,[3544,&quot;^W&quot;,3541,536881748]],[&quot;^17&quot;,[3544,&quot;^V&quot;,3541,536881754]],[&quot;^17&quot;,[3544,&quot;^V&quot;,3546,536881754]],[&quot;^17&quot;,[3544,&quot;^?&quot;,[&quot;^ &quot;],536881754]],[&quot;^17&quot;,[3544,&quot;^H&quot;,3546,536881754]],[&quot;^17&quot;,[3544,&quot;^1@&quot;,true,536881748]],[&quot;^17&quot;,[3544,&quot;^;&quot;,&quot;~u62e0047f-0ca9-41b1-998b-8848a13b7077&quot;,536881748]],[&quot;^17&quot;,[3546,&quot;^L&quot;,1658848412077,536881754]],[&quot;^17&quot;,[3546,&quot;^P&quot;,&quot;^19&quot;,536881758]],[&quot;^17&quot;,[3546,&quot;^@&quot;,false,536881754]],[&quot;^17&quot;,[3546,&quot;^[&quot;,&quot;beginner contest 261&quot;,536881754]],[&quot;^17&quot;,[3546,&quot;^13&quot;,&quot;beginner contest 261&quot;,536881754]],[&quot;^17&quot;,[3546,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896092]],[&quot;^17&quot;,[3546,&quot;^B&quot;,1658886463431,536882367]],[&quot;^17&quot;,[3546,&quot;^;&quot;,&quot;~u62e0049c-5d1c-46ce-b469-a842ed725a83&quot;,536881754]],[&quot;^17&quot;,[3547,&quot;^R&quot;,&quot;[[beginner contest 262]]&quot;,536887992]],[&quot;^17&quot;,[3547,&quot;^P&quot;,&quot;^19&quot;,536881755]],[&quot;^17&quot;,[3547,&quot;^@&quot;,false,536881755]],[&quot;^17&quot;,[3547,&quot;^F&quot;,3544,536881755]],[&quot;^17&quot;,[3547,&quot;^Z&quot;,3541,536881755]],[&quot;^17&quot;,[3547,&quot;^W&quot;,3541,536881755]],[&quot;^17&quot;,[3547,&quot;^V&quot;,3541,536887992]],[&quot;^17&quot;,[3547,&quot;^V&quot;,4041,536887992]],[&quot;^17&quot;,[3547,&quot;^?&quot;,[&quot;^ &quot;],536887992]],[&quot;^17&quot;,[3547,&quot;^H&quot;,4041,536887992]],[&quot;^17&quot;,[3547,&quot;^1@&quot;,true,536881755]],[&quot;^17&quot;,[3547,&quot;^;&quot;,&quot;~u62e0049c-cd1c-43a9-9c36-4f78a0e06a15&quot;,536881755]],[&quot;^17&quot;,[3548,&quot;^R&quot;,&quot;## [D - Flipping and Bonus](https://atcoder.jp/contests/abc261/tasks/abc261_d)&quot;,536881798]],[&quot;^17&quot;,[3548,&quot;^P&quot;,&quot;^19&quot;,536881759]],[&quot;^17&quot;,[3548,&quot;^X&quot;,2,536881798]],[&quot;^17&quot;,[3548,&quot;^@&quot;,false,536881759]],[&quot;^17&quot;,[3548,&quot;^F&quot;,4433,536896092]],[&quot;^17&quot;,[3548,&quot;^Z&quot;,3546,536881759]],[&quot;^17&quot;,[3548,&quot;^W&quot;,3546,536881759]],[&quot;^17&quot;,[3548,&quot;^V&quot;,3546,536881798]],[&quot;^17&quot;,[3548,&quot;^?&quot;,[&quot;^ &quot;],536881798]],[&quot;^17&quot;,[3548,&quot;^1&gt;&quot;,2,536881761]],[&quot;^17&quot;,[3548,&quot;^Y&quot;,&quot;^1?&quot;,536881798]],[&quot;^17&quot;,[3548,&quot;^1@&quot;,true,536881759]],[&quot;^17&quot;,[3548,&quot;^;&quot;,&quot;~u62e0049d-9c44-462b-b5cd-d1720dab7c67&quot;,536881759]],[&quot;^17&quot;,[3552,&quot;^R&quot;,&quot;动态规划，设 f(i,j) 为第i次扔骰子并且count为j的最大值，则有转移方程&quot;,536881844]],[&quot;^17&quot;,[3552,&quot;^P&quot;,&quot;^19&quot;,536881798]],[&quot;^17&quot;,[3552,&quot;^@&quot;,false,536881798]],[&quot;^17&quot;,[3552,&quot;^F&quot;,3548,536881798]],[&quot;^17&quot;,[3552,&quot;^Z&quot;,3546,536881798]],[&quot;^17&quot;,[3552,&quot;^W&quot;,3548,536881798]],[&quot;^17&quot;,[3552,&quot;^V&quot;,3546,536881844]],[&quot;^17&quot;,[3552,&quot;^?&quot;,[&quot;^ &quot;],536881844]],[&quot;^17&quot;,[3552,&quot;^1@&quot;,true,536881798]],[&quot;^17&quot;,[3552,&quot;^;&quot;,&quot;~u62e004eb-43ea-445f-86f9-778ea877f3b0&quot;,536881798]],[&quot;^17&quot;,[3553,&quot;^R&quot;,&quot;f(i,  j) = f(i - 1, j -1) + bonus(j) + x(i)\\nf(i , 0) = f(i-1, k)  k为某个可能的j值&quot;,536881947]],[&quot;^17&quot;,[3553,&quot;^P&quot;,&quot;^19&quot;,536881845]],[&quot;^17&quot;,[3553,&quot;^@&quot;,false,536881845]],[&quot;^17&quot;,[3553,&quot;^F&quot;,3552,536881845]],[&quot;^17&quot;,[3553,&quot;^Z&quot;,3546,536881845]],[&quot;^17&quot;,[3553,&quot;^W&quot;,3552,536881846]],[&quot;^17&quot;,[3553,&quot;^V&quot;,3546,536881947]],[&quot;^17&quot;,[3553,&quot;^?&quot;,[&quot;^ &quot;],536881947]],[&quot;^17&quot;,[3553,&quot;^1@&quot;,true,536881845]],[&quot;^17&quot;,[3553,&quot;^;&quot;,&quot;~u62e0054b-4626-4706-a3d3-9b9e0f20d9e9&quot;,536881845]],[&quot;^17&quot;,[3554,&quot;^R&quot;,&quot;## [E - Many Operations](https://atcoder.jp/contests/abc261/tasks/abc261_e)&quot;,536881962]],[&quot;^17&quot;,[3554,&quot;^P&quot;,&quot;^19&quot;,536881950]],[&quot;^17&quot;,[3554,&quot;^X&quot;,2,536881962]],[&quot;^17&quot;,[3554,&quot;^@&quot;,false,536881950]],[&quot;^17&quot;,[3554,&quot;^F&quot;,3548,536881956]],[&quot;^17&quot;,[3554,&quot;^Z&quot;,3546,536881950]],[&quot;^17&quot;,[3554,&quot;^W&quot;,3546,536881956]],[&quot;^17&quot;,[3554,&quot;^V&quot;,3546,536881962]],[&quot;^17&quot;,[3554,&quot;^?&quot;,[&quot;^ &quot;],536881962]],[&quot;^17&quot;,[3554,&quot;^1&gt;&quot;,2,536881959]],[&quot;^17&quot;,[3554,&quot;^Y&quot;,&quot;^1?&quot;,536881962]],[&quot;^17&quot;,[3554,&quot;^1@&quot;,true,536881950]],[&quot;^17&quot;,[3554,&quot;^;&quot;,&quot;~u62e005b2-f53d-4b69-84ab-9641997c1816&quot;,536881950]],[&quot;^17&quot;,[3555,&quot;^R&quot;,&quot;看懂题，每一步后操作会更复杂&quot;,536881978]],[&quot;^17&quot;,[3555,&quot;^P&quot;,&quot;^19&quot;,536881963]],[&quot;^17&quot;,[3555,&quot;^@&quot;,false,536881963]],[&quot;^17&quot;,[3555,&quot;^F&quot;,3554,536881963]],[&quot;^17&quot;,[3555,&quot;^Z&quot;,3546,536881963]],[&quot;^17&quot;,[3555,&quot;^W&quot;,3554,536881966]],[&quot;^17&quot;,[3555,&quot;^V&quot;,3546,536881978]],[&quot;^17&quot;,[3555,&quot;^?&quot;,[&quot;^ &quot;],536881978]],[&quot;^17&quot;,[3555,&quot;^1@&quot;,true,536881963]],[&quot;^17&quot;,[3555,&quot;^;&quot;,&quot;~u62e005b6-aee2-4dce-9a37-2eb2822d5bd2&quot;,536881963]],[&quot;^17&quot;,[3561,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：给定一个数x，和n个操作(ti, ai)\\n- ti = 1, x = x &amp; ai\\n- ti  = 2, x = x | ai\\n- ti = 3, x =  x^ ai\\n然后分别打印n个数：x进行前1个操作后打印，进一步地再进行前2个操作后打印，... ，进一步地再进行前n个操作后打印。\\n#+END_QUOTE&quot;,536882361]],[&quot;^17&quot;,[3561,&quot;^P&quot;,&quot;^19&quot;,536881985]],[&quot;^17&quot;,[3561,&quot;^@&quot;,false,536881985]],[&quot;^17&quot;,[3561,&quot;^F&quot;,3555,536881985]],[&quot;^17&quot;,[3561,&quot;^Z&quot;,3546,536881985]],[&quot;^17&quot;,[3561,&quot;^W&quot;,3554,536881985]],[&quot;^17&quot;,[3561,&quot;^V&quot;,3546,536882361]],[&quot;^17&quot;,[3561,&quot;^?&quot;,[&quot;^ &quot;],536882361]],[&quot;^17&quot;,[3561,&quot;^1@&quot;,true,536881985]],[&quot;^17&quot;,[3561,&quot;^;&quot;,&quot;~u62e006f5-5adf-40be-ba13-aef1729f36fc&quot;,536881985]],[&quot;^17&quot;,[3562,&quot;^14&quot;,1,536882003]],[&quot;^17&quot;,[3566,&quot;^R&quot;,&quot;#+BEGIN_NOTE\\n每个数总共30bit，可以按bit考虑，初始情况为0/1，运算i = 1-n 的所有值，存起来就可以很快取得所有运算后第i位值。时间复杂度 $O(NlogV)V =2^{30}$  \\n#+END_NOTE&quot;,536882367]],[&quot;^17&quot;,[3566,&quot;^P&quot;,&quot;^19&quot;,536882016]],[&quot;^17&quot;,[3566,&quot;^F&quot;,3561,536882218]],[&quot;^17&quot;,[3566,&quot;^Z&quot;,3546,536882016]],[&quot;^17&quot;,[3566,&quot;^W&quot;,3554,536882016]],[&quot;^17&quot;,[3566,&quot;^V&quot;,3546,536882367]],[&quot;^17&quot;,[3566,&quot;^?&quot;,[&quot;^ &quot;],536882367]],[&quot;^17&quot;,[3566,&quot;^1@&quot;,true,536882016]],[&quot;^17&quot;,[3566,&quot;^;&quot;,&quot;~u62e07f2d-d3a9-4d7b-9055-aa5046293ede&quot;,536882016]],[&quot;^17&quot;,[3567,&quot;^R&quot;,&quot;&quot;,536882364]],[&quot;^17&quot;,[3567,&quot;^P&quot;,&quot;^19&quot;,536882364]],[&quot;^17&quot;,[3567,&quot;^F&quot;,3566,536882364]],[&quot;^17&quot;,[3567,&quot;^Z&quot;,3546,536882364]],[&quot;^17&quot;,[3567,&quot;^W&quot;,3554,536882364]],[&quot;^17&quot;,[3567,&quot;^V&quot;,3546,536882364]],[&quot;^17&quot;,[3567,&quot;^?&quot;,[&quot;^ &quot;],536882364]],[&quot;^17&quot;,[3567,&quot;^1@&quot;,true,536882364]],[&quot;^17&quot;,[3567,&quot;^;&quot;,&quot;~u62e08ab4-4d5b-427a-9e15-a1d5fcd21e42&quot;,536882364]],[&quot;^17&quot;,[3645,&quot;^14&quot;,1,536883692]],[&quot;^17&quot;,[3646,&quot;^14&quot;,1,536883698]],[&quot;^17&quot;,[3651,&quot;^L&quot;,1658981983296,536883703]],[&quot;^17&quot;,[3651,&quot;^@&quot;,false,536883703]],[&quot;^17&quot;,[3651,&quot;^[&quot;,&quot;c++ for geeks&quot;,536883703]],[&quot;^17&quot;,[3651,&quot;^13&quot;,&quot;c++ for geeks&quot;,536883703]],[&quot;^17&quot;,[3651,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897976]],[&quot;^17&quot;,[3651,&quot;^B&quot;,1661153073967,536898919]],[&quot;^17&quot;,[3651,&quot;^;&quot;,&quot;~u62e20e61-76f8-4270-852e-9b799d2078d6&quot;,536883723]],[&quot;^17&quot;,[3653,&quot;^R&quot;,&quot;[[upper_bound]]&quot;,536883703]],[&quot;^17&quot;,[3653,&quot;^P&quot;,&quot;^19&quot;,536883703]],[&quot;^17&quot;,[3653,&quot;^F&quot;,4552,536897976]],[&quot;^17&quot;,[3653,&quot;^Z&quot;,3651,536883703]],[&quot;^17&quot;,[3653,&quot;^W&quot;,3651,536883703]],[&quot;^17&quot;,[3653,&quot;^V&quot;,3651,536883703]],[&quot;^17&quot;,[3653,&quot;^V&quot;,3652,536883703]],[&quot;^17&quot;,[3653,&quot;^H&quot;,3652,536883703]],[&quot;^17&quot;,[3653,&quot;^1@&quot;,true,536883703]],[&quot;^17&quot;,[3653,&quot;^;&quot;,&quot;~u62e20e5f-b0bf-4ff9-bcf7-a72a9fae923a&quot;,536883703]],[&quot;^17&quot;,[3656,&quot;^L&quot;,1658981983476,536883706]],[&quot;^17&quot;,[3656,&quot;^@&quot;,false,536883706]],[&quot;^17&quot;,[3656,&quot;^[&quot;,&quot;codeforces-round806-div4&quot;,536883706]],[&quot;^17&quot;,[3656,&quot;^13&quot;,&quot;codeforces-round806-div4&quot;,536883706]],[&quot;^17&quot;,[3656,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896114]],[&quot;^17&quot;,[3656,&quot;^B&quot;,1660809976186,536896114]],[&quot;^17&quot;,[3656,&quot;^;&quot;,&quot;~u62e20e5f-1cb1-4c3d-8732-dd3e9747259d&quot;,536883719]],[&quot;^17&quot;,[3658,&quot;^R&quot;,&quot;## [Problem - G - Codeforces](https://codeforces.com/contest/1703/problem/G)&quot;,536883706]],[&quot;^17&quot;,[3658,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3658,&quot;^X&quot;,2,536883706]],[&quot;^17&quot;,[3658,&quot;^F&quot;,3659,536883706]],[&quot;^17&quot;,[3658,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3658,&quot;^W&quot;,3656,536883706]],[&quot;^17&quot;,[3658,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3658,&quot;^1&gt;&quot;,2,536883706]],[&quot;^17&quot;,[3658,&quot;^Y&quot;,&quot;^1?&quot;,536883706]],[&quot;^17&quot;,[3658,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3658,&quot;^;&quot;,&quot;~u62e20e5f-6fcf-4c48-8216-6d0afd727fcd&quot;,536883706]],[&quot;^17&quot;,[3659,&quot;^R&quot;,&quot;## [Problem - F - Codeforces](https://codeforces.com/contest/1703/problem/F)&quot;,536883706]],[&quot;^17&quot;,[3659,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3659,&quot;^X&quot;,2,536883706]],[&quot;^17&quot;,[3659,&quot;^F&quot;,3664,536883706]],[&quot;^17&quot;,[3659,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3659,&quot;^W&quot;,3656,536883706]],[&quot;^17&quot;,[3659,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3659,&quot;^1&gt;&quot;,2,536883706]],[&quot;^17&quot;,[3659,&quot;^Y&quot;,&quot;^1?&quot;,536883706]],[&quot;^17&quot;,[3659,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3659,&quot;^;&quot;,&quot;~u62e20e5f-3202-4d38-aa6a-2360a992c3b1&quot;,536883706]],[&quot;^17&quot;,[3660,&quot;^R&quot;,&quot;首先找到满足 $a_j &lt; j$的项，则只要找到 $a_j &gt; i$，满足这个关系的 i 的个数添加进 res，最后得到结果。&quot;,536883706]],[&quot;^17&quot;,[3660,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3660,&quot;^F&quot;,3665,536883706]],[&quot;^17&quot;,[3660,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3660,&quot;^W&quot;,3659,536883706]],[&quot;^17&quot;,[3660,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3660,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3660,&quot;^;&quot;,&quot;~u62e20e5f-93cc-4020-86f5-972672f237fc&quot;,536883706]],[&quot;^17&quot;,[3661,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n一个正方形矩阵值为0，1可以旋转，找到最小的翻转次数，可以让旋转对矩阵无影响。\\n#+END_QUOTE&quot;,536883706]],[&quot;^17&quot;,[3661,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3661,&quot;^F&quot;,3664,536883706]],[&quot;^17&quot;,[3661,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3661,&quot;^W&quot;,3664,536883706]],[&quot;^17&quot;,[3661,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3661,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3661,&quot;^;&quot;,&quot;~u62e20e5f-3333-4834-b1a2-031328ac99a7&quot;,536883706]],[&quot;^17&quot;,[3662,&quot;^R&quot;,&quot;## [Problem - D - Codeforces](https://codeforces.com/contest/1703/problem/D)&quot;,536883706]],[&quot;^17&quot;,[3662,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3662,&quot;^X&quot;,2,536883706]],[&quot;^17&quot;,[3662,&quot;^F&quot;,4435,536896102]],[&quot;^17&quot;,[3662,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3662,&quot;^W&quot;,3656,536883706]],[&quot;^17&quot;,[3662,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3662,&quot;^1&gt;&quot;,2,536883706]],[&quot;^17&quot;,[3662,&quot;^Y&quot;,&quot;^1?&quot;,536883706]],[&quot;^17&quot;,[3662,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3662,&quot;^;&quot;,&quot;~u62e20e5f-38db-446e-a968-fb44fcacb86f&quot;,536883706]],[&quot;^17&quot;,[3663,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：输入n个字符串，找到满足$s_i = s_j + s_k$( j 可以等于k)的数目。\\ns.length() &lt;= 8\\n#+END_QUOTE&quot;,536883706]],[&quot;^17&quot;,[3663,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3663,&quot;^F&quot;,3662,536883706]],[&quot;^17&quot;,[3663,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3663,&quot;^W&quot;,3662,536883706]],[&quot;^17&quot;,[3663,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3663,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3663,&quot;^;&quot;,&quot;~u62e20e5f-4efd-403b-8cab-d548ba5ddc40&quot;,536883706]],[&quot;^17&quot;,[3664,&quot;^R&quot;,&quot;## [Problem - E - Codeforces](https://codeforces.com/contest/1703/problem/E)&quot;,536883706]],[&quot;^17&quot;,[3664,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3664,&quot;^X&quot;,2,536883706]],[&quot;^17&quot;,[3664,&quot;^F&quot;,3662,536883706]],[&quot;^17&quot;,[3664,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3664,&quot;^W&quot;,3656,536883706]],[&quot;^17&quot;,[3664,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3664,&quot;^1&gt;&quot;,2,536883706]],[&quot;^17&quot;,[3664,&quot;^Y&quot;,&quot;^1?&quot;,536883706]],[&quot;^17&quot;,[3664,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3664,&quot;^;&quot;,&quot;~u62e20e5f-de46-4fe7-883c-0b782f714df6&quot;,536883706]],[&quot;^17&quot;,[3665,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n输入一个数组，找到数组中满足 $a_i &lt; i &lt; a_j &lt; j$ 的配对数\\n#+END_QUOTE&quot;,536883706]],[&quot;^17&quot;,[3665,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3665,&quot;^F&quot;,3659,536883706]],[&quot;^17&quot;,[3665,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3665,&quot;^W&quot;,3659,536883706]],[&quot;^17&quot;,[3665,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3665,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3665,&quot;^;&quot;,&quot;~u62e20e5f-e904-4ce0-97b6-26a406aed3b8&quot;,536883706]],[&quot;^17&quot;,[3666,&quot;^R&quot;,&quot;根据s长度不大来枚举所有情况，用hashset来存储已经有的string，复杂度$O(l*nlogn)$ l 为字符串长度&quot;,536883706]],[&quot;^17&quot;,[3666,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3666,&quot;^F&quot;,3663,536883706]],[&quot;^17&quot;,[3666,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3666,&quot;^W&quot;,3662,536883706]],[&quot;^17&quot;,[3666,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3666,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3666,&quot;^;&quot;,&quot;~u62e20e5f-ee8a-4525-a45f-cb6af587893c&quot;,536883706]],[&quot;^17&quot;,[3667,&quot;^R&quot;,&quot;使用 [[lower_bound]] 很优雅&quot;,536883706]],[&quot;^17&quot;,[3667,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3667,&quot;^F&quot;,3669,536883706]],[&quot;^17&quot;,[3667,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3667,&quot;^W&quot;,3659,536883706]],[&quot;^17&quot;,[3667,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3667,&quot;^V&quot;,3657,536883706]],[&quot;^17&quot;,[3667,&quot;^H&quot;,3657,536883706]],[&quot;^17&quot;,[3667,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3667,&quot;^;&quot;,&quot;~u62e20e5f-e21e-410a-b331-0cca3e8a8b64&quot;,536883706]],[&quot;^17&quot;,[3669,&quot;^R&quot;,&quot;实现：将 $a_i &lt; i$ 的i值push 进 vector，之后再找小于a[i] 的个数 。就是找lower_bound之前的个数 ![image.png](../assets/image_1658975399437_0.png)&quot;,536883706]],[&quot;^17&quot;,[3669,&quot;^P&quot;,&quot;^19&quot;,536883706]],[&quot;^17&quot;,[3669,&quot;^F&quot;,3660,536883706]],[&quot;^17&quot;,[3669,&quot;^Z&quot;,3656,536883706]],[&quot;^17&quot;,[3669,&quot;^W&quot;,3659,536883706]],[&quot;^17&quot;,[3669,&quot;^V&quot;,3656,536883706]],[&quot;^17&quot;,[3669,&quot;^1@&quot;,true,536883706]],[&quot;^17&quot;,[3669,&quot;^;&quot;,&quot;~u62e20e5f-1556-40f5-b108-87a41c29e2dd&quot;,536883706]],[&quot;^17&quot;,[3671,&quot;^R&quot;,&quot;[[codeforces-round806-div4]]&quot;,536883709]],[&quot;^17&quot;,[3671,&quot;^P&quot;,&quot;^19&quot;,536883709]],[&quot;^17&quot;,[3671,&quot;^F&quot;,4434,536896097]],[&quot;^17&quot;,[3671,&quot;^Z&quot;,3543,536883709]],[&quot;^17&quot;,[3671,&quot;^W&quot;,3543,536883709]],[&quot;^17&quot;,[3671,&quot;^V&quot;,3543,536883709]],[&quot;^17&quot;,[3671,&quot;^V&quot;,3656,536883709]],[&quot;^17&quot;,[3671,&quot;^H&quot;,3656,536883709]],[&quot;^17&quot;,[3671,&quot;^1@&quot;,true,536883709]],[&quot;^17&quot;,[3671,&quot;^;&quot;,&quot;~u62e20e5f-a62c-4b92-afd2-15223b8d2cf2&quot;,536883709]],[&quot;^17&quot;,[3672,&quot;^R&quot;,&quot;[[codeforces-round805-div3]]&quot;,536886331]],[&quot;^17&quot;,[3672,&quot;^P&quot;,&quot;^19&quot;,536883709]],[&quot;^17&quot;,[3672,&quot;^F&quot;,3671,536883709]],[&quot;^17&quot;,[3672,&quot;^Z&quot;,3543,536883709]],[&quot;^17&quot;,[3672,&quot;^W&quot;,3543,536883709]],[&quot;^17&quot;,[3672,&quot;^V&quot;,3543,536886331]],[&quot;^17&quot;,[3672,&quot;^V&quot;,3943,536886331]],[&quot;^17&quot;,[3672,&quot;^?&quot;,[&quot;^ &quot;],536886331]],[&quot;^17&quot;,[3672,&quot;^H&quot;,3943,536886331]],[&quot;^17&quot;,[3672,&quot;^1@&quot;,true,536883709]],[&quot;^17&quot;,[3672,&quot;^;&quot;,&quot;~u62e20e5f-a20e-4ae8-bd7c-fe51f3a893bd&quot;,536883709]],[&quot;^17&quot;,[3792,&quot;^14&quot;,1,536883746]],[&quot;^17&quot;,[3795,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n开宝箱：有总共n个箱子，用k价钱可以买好钥匙。必须从1开到n个箱子，要么花钱买好钥匙，得到$a_i$的钱；或者用坏钥匙，直接开箱，代价是$a_i -&gt; a_j$ 钱都减半\\n#+END_QUOTE&quot;,536883974]],[&quot;^17&quot;,[3795,&quot;^P&quot;,&quot;^19&quot;,536883844]],[&quot;^17&quot;,[3795,&quot;^F&quot;,3658,536883844]],[&quot;^17&quot;,[3795,&quot;^Z&quot;,3656,536883844]],[&quot;^17&quot;,[3795,&quot;^W&quot;,3658,536883844]],[&quot;^17&quot;,[3795,&quot;^V&quot;,3656,536883974]],[&quot;^17&quot;,[3795,&quot;^?&quot;,[&quot;^ &quot;],536883974]],[&quot;^17&quot;,[3795,&quot;^1@&quot;,true,536883844]],[&quot;^17&quot;,[3795,&quot;^;&quot;,&quot;~u62e27ad3-bc6b-4593-85ff-b72c574b1348&quot;,536883844]],[&quot;^17&quot;,[3796,&quot;^R&quot;,&quot;&quot;,536884070]],[&quot;^17&quot;,[3796,&quot;^P&quot;,&quot;^19&quot;,536884070]],[&quot;^17&quot;,[3796,&quot;^@&quot;,false,536884070]],[&quot;^17&quot;,[3796,&quot;^F&quot;,3658,536884070]],[&quot;^17&quot;,[3796,&quot;^Z&quot;,3656,536884070]],[&quot;^17&quot;,[3796,&quot;^W&quot;,3656,536884070]],[&quot;^17&quot;,[3796,&quot;^?&quot;,[&quot;^ &quot;],536884070]],[&quot;^17&quot;,[3796,&quot;^1@&quot;,true,536884070]],[&quot;^17&quot;,[3796,&quot;^;&quot;,&quot;~u62e27cbe-14e8-461f-ada7-b582db2d13e6&quot;,536884070]],[&quot;^17&quot;,[3797,&quot;^R&quot;,&quot;&quot;,536884104]],[&quot;^17&quot;,[3797,&quot;^P&quot;,&quot;^19&quot;,536884104]],[&quot;^17&quot;,[3797,&quot;^F&quot;,3800,536884330]],[&quot;^17&quot;,[3797,&quot;^Z&quot;,3656,536884104]],[&quot;^17&quot;,[3797,&quot;^W&quot;,3658,536884104]],[&quot;^17&quot;,[3797,&quot;^V&quot;,3656,536884330]],[&quot;^17&quot;,[3797,&quot;^?&quot;,[&quot;^ &quot;],536884330]],[&quot;^17&quot;,[3797,&quot;^1@&quot;,true,536884104]],[&quot;^17&quot;,[3797,&quot;^;&quot;,&quot;~u62e27cd9-f36a-4ab7-a934-b0c060d37c95&quot;,536884104]],[&quot;^17&quot;,[3800,&quot;^R&quot;,&quot;TODO 待补题\\n **方法二：贪心**\\n更好的方法是贪心：**先用好钥匙和先用坏钥匙对硬币数量有什么影响？** 先用好钥匙，再用坏钥匙：a[i]-k+a[i+1]/2;先用坏钥匙，再用好钥匙 a[i]/2 + a[i+1]/2 - k, **显然，先用坏钥匙比先用好钥匙得到结果少，所以未来得到更多硬币，一定要先用好钥匙，剩下用坏钥匙**\\n然后遍历前i个箱子使用好钥匙的情况，找到硬币数最多的那个。&quot;,536884460]],[&quot;^17&quot;,[3800,&quot;^P&quot;,&quot;^19&quot;,536884222]],[&quot;^17&quot;,[3800,&quot;^F&quot;,3801,536884260]],[&quot;^17&quot;,[3800,&quot;^12&quot;,&quot;TODO&quot;,536884460]],[&quot;^17&quot;,[3800,&quot;^Z&quot;,3656,536884222]],[&quot;^17&quot;,[3800,&quot;^W&quot;,3658,536884222]],[&quot;^17&quot;,[3800,&quot;^V&quot;,4,536884460]],[&quot;^17&quot;,[3800,&quot;^V&quot;,3656,536884460]],[&quot;^17&quot;,[3800,&quot;^?&quot;,[&quot;^ &quot;],536884460]],[&quot;^17&quot;,[3800,&quot;^H&quot;,4,536884460]],[&quot;^17&quot;,[3800,&quot;^1@&quot;,true,536884222]],[&quot;^17&quot;,[3800,&quot;^;&quot;,&quot;~u62e27d40-0762-4de9-92cd-a3a60f17fcd4&quot;,536884222]],[&quot;^17&quot;,[3801,&quot;^R&quot;,&quot;**方法一：dp** \\n与 [[beginner contest 261]] D题类似。我刚开始考虑了dp的方法：dp[i][j] 表示开到第i个箱子，且用过j次坏钥匙的最大钱数。转移方程: $dp[i][j] = max(dp[i-1][j-1] + a[i] &gt;&gt;j, dp[i-1][j] + a[i]&gt;&gt;j - kcost)$, 还有 dp[i][0] = dp[i-1][0] + a[i] - kcost 的情况\\n但是我犯了巨大错误，申请了n^2的longlong数组，直接导致爆内存 [[苹果出错了]]\\n改进，更本不需要那么大的数组，因为j&gt;=31之后，a[i] 就减少为0了\\n\\n``` cpp\\n#include &lt;iostream&gt;\\n#include &lt;cstring&gt;\\n#include &lt;stdlib.h&gt;\\n#include &lt;unordered_set&gt;\\n#include &lt;cstdio&gt;\\n#include &lt;vector&gt;\\nusing namespace std;\\ntypedef long long ll;\\nconst int N = 1e5 + 10;\\nint a[N];\\nll dp[N][32];\\nint main() {\\n  int k;\\n  cin &gt;&gt; k ;\\n  int n;\\n  int cost;\\n  while (k--)\\n  {\\n    cin &gt;&gt; n &gt;&gt; cost;\\n    for (int i = 1; i &lt;= n; i++)\\n    {\\n      cin &gt;&gt; a[i];\\n    }\\n    for(int i = 1; i &lt;= n; i ++ )\\n      for(int j = 0; j &lt;= 31; j ++ )\\n        dp[i][j] = -1e18;\\n    ll res = 0;\\n    dp[0][0] = 0;\\n    for (int i = 1; i &lt;= n ; ++i) {\\n      dp[i][0] = dp[i-1][0] + a[i]*1ll - cost*1ll;\\n      //res = max(dp[i][0], res);\\n      for (int j = 1; j &lt;= 31; ++j) {\\n        dp[i][j] = max(dp[i][j], max(dp[i-1][j-1] + (ll)(a[i]&gt;&gt;j), dp[i-1][j] + (a[i]&gt;&gt;j)*1ll - cost*1ll));\\n        //res = max(res,dp[i][j]);\\n      }\\n      dp[i][31] = max(dp[i][31], dp[i - 1][31]);\\n    }\\n    for (int i = 0; i &lt;= 31; ++i) {\\n      res = max(res, dp[n][i]);\\n    }\\n    cout &lt;&lt; res &lt;&lt; endl;\\n    //memset(dp, 0, sizeof(dp)*sizeof(dp[0]));\\n  }\\n  return 0;\\n}\\n```&quot;,536884327]],[&quot;^17&quot;,[3801,&quot;^P&quot;,&quot;^19&quot;,536884225]],[&quot;^17&quot;,[3801,&quot;^F&quot;,3795,536884225]],[&quot;^17&quot;,[3801,&quot;^Z&quot;,3656,536884225]],[&quot;^17&quot;,[3801,&quot;^W&quot;,3658,536884225]],[&quot;^17&quot;,[3801,&quot;^V&quot;,3546,536884327]],[&quot;^17&quot;,[3801,&quot;^V&quot;,3656,536884327]],[&quot;^17&quot;,[3801,&quot;^V&quot;,3786,536884327]],[&quot;^17&quot;,[3801,&quot;^?&quot;,[&quot;^ &quot;],536884327]],[&quot;^17&quot;,[3801,&quot;^H&quot;,3546,536884327]],[&quot;^17&quot;,[3801,&quot;^H&quot;,3786,536884327]],[&quot;^17&quot;,[3801,&quot;^1@&quot;,true,536884225]],[&quot;^17&quot;,[3801,&quot;^;&quot;,&quot;~u62e27d45-b483-49c8-8b31-1d6eca0e1cb8&quot;,536884225]],[&quot;^17&quot;,[3878,&quot;^14&quot;,1,536884876]],[&quot;^17&quot;,[3936,&quot;^14&quot;,1,536886319]],[&quot;^17&quot;,[3943,&quot;^L&quot;,1659143648124,536886331]],[&quot;^17&quot;,[3943,&quot;^P&quot;,&quot;^19&quot;,536886334]],[&quot;^17&quot;,[3943,&quot;^@&quot;,false,536886331]],[&quot;^17&quot;,[3943,&quot;^[&quot;,&quot;codeforces-round805-div3&quot;,536886331]],[&quot;^17&quot;,[3943,&quot;^13&quot;,&quot;codeforces-round805-div3&quot;,536886331]],[&quot;^17&quot;,[3943,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896122]],[&quot;^17&quot;,[3943,&quot;^B&quot;,1659255232217,536887564]],[&quot;^17&quot;,[3943,&quot;^;&quot;,&quot;~u62e485e0-ee99-4d14-a140-53fe75e21577&quot;,536886331]],[&quot;^17&quot;,[3944,&quot;^R&quot;,&quot;## [Problem - A - Codeforces](https://codeforces.com/contest/1702/problem/A)&quot;,536886341]],[&quot;^17&quot;,[3944,&quot;^P&quot;,&quot;^19&quot;,536886335]],[&quot;^17&quot;,[3944,&quot;^X&quot;,2,536886341]],[&quot;^17&quot;,[3944,&quot;^@&quot;,false,536886335]],[&quot;^17&quot;,[3944,&quot;^F&quot;,4436,536896122]],[&quot;^17&quot;,[3944,&quot;^Z&quot;,3943,536886335]],[&quot;^17&quot;,[3944,&quot;^W&quot;,3943,536886335]],[&quot;^17&quot;,[3944,&quot;^V&quot;,3943,536886341]],[&quot;^17&quot;,[3944,&quot;^?&quot;,[&quot;^ &quot;],536886341]],[&quot;^17&quot;,[3944,&quot;^1&gt;&quot;,2,536886337]],[&quot;^17&quot;,[3944,&quot;^Y&quot;,&quot;^1?&quot;,536886341]],[&quot;^17&quot;,[3944,&quot;^1@&quot;,true,536886335]],[&quot;^17&quot;,[3944,&quot;^;&quot;,&quot;~u62e485e1-3c19-4cf5-b445-131860570861&quot;,536886335]],[&quot;^17&quot;,[3946,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n四舍五入价格，让所有价格都是10的次方数，给定一个数n，输出n和不大于n的最小价格的差\\n#+END_QUOTE&quot;,536886385]],[&quot;^17&quot;,[3946,&quot;^P&quot;,&quot;^19&quot;,536886342]],[&quot;^17&quot;,[3946,&quot;^@&quot;,false,536886342]],[&quot;^17&quot;,[3946,&quot;^F&quot;,3944,536886342]],[&quot;^17&quot;,[3946,&quot;^Z&quot;,3943,536886342]],[&quot;^17&quot;,[3946,&quot;^W&quot;,3944,536886343]],[&quot;^17&quot;,[3946,&quot;^V&quot;,3943,536886385]],[&quot;^17&quot;,[3946,&quot;^?&quot;,[&quot;^ &quot;],536886385]],[&quot;^17&quot;,[3946,&quot;^1@&quot;,true,536886342]],[&quot;^17&quot;,[3946,&quot;^;&quot;,&quot;~u62e48639-31e3-4f67-b5a6-f0aad7c16337&quot;,536886342]],[&quot;^17&quot;,[3947,&quot;^R&quot;,&quot;手速题&quot;,536886391]],[&quot;^17&quot;,[3947,&quot;^P&quot;,&quot;^19&quot;,536886376]],[&quot;^17&quot;,[3947,&quot;^@&quot;,false,536886376]],[&quot;^17&quot;,[3947,&quot;^F&quot;,3946,536886376]],[&quot;^17&quot;,[3947,&quot;^Z&quot;,3943,536886376]],[&quot;^17&quot;,[3947,&quot;^W&quot;,3944,536886376]],[&quot;^17&quot;,[3947,&quot;^V&quot;,3943,536886391]],[&quot;^17&quot;,[3947,&quot;^?&quot;,[&quot;^ &quot;],536886391]],[&quot;^17&quot;,[3947,&quot;^1@&quot;,true,536886376]],[&quot;^17&quot;,[3947,&quot;^;&quot;,&quot;~u62e48722-f254-4626-aafe-fb1ee0cab9c2&quot;,536886376]],[&quot;^17&quot;,[3948,&quot;^R&quot;,&quot;## [Problem - B - Codeforces](https://codeforces.com/contest/1702/problem/B)&quot;,536886401]],[&quot;^17&quot;,[3948,&quot;^P&quot;,&quot;^19&quot;,536886394]],[&quot;^17&quot;,[3948,&quot;^X&quot;,2,536886401]],[&quot;^17&quot;,[3948,&quot;^@&quot;,false,536886394]],[&quot;^17&quot;,[3948,&quot;^F&quot;,3944,536886397]],[&quot;^17&quot;,[3948,&quot;^Z&quot;,3943,536886394]],[&quot;^17&quot;,[3948,&quot;^W&quot;,3943,536886397]],[&quot;^17&quot;,[3948,&quot;^V&quot;,3943,536886401]],[&quot;^17&quot;,[3948,&quot;^?&quot;,[&quot;^ &quot;],536886401]],[&quot;^17&quot;,[3948,&quot;^1&gt;&quot;,2,536886400]],[&quot;^17&quot;,[3948,&quot;^Y&quot;,&quot;^1?&quot;,536886401]],[&quot;^17&quot;,[3948,&quot;^1@&quot;,true,536886394]],[&quot;^17&quot;,[3948,&quot;^;&quot;,&quot;~u62e48c16-9cc4-48ca-9952-cf8cb96c86e4&quot;,536886394]],[&quot;^17&quot;,[3949,&quot;^R&quot;,&quot;easy 字符串处理&quot;,536886411]],[&quot;^17&quot;,[3949,&quot;^P&quot;,&quot;^19&quot;,536886402]],[&quot;^17&quot;,[3949,&quot;^@&quot;,false,536886402]],[&quot;^17&quot;,[3949,&quot;^F&quot;,3948,536886402]],[&quot;^17&quot;,[3949,&quot;^Z&quot;,3943,536886402]],[&quot;^17&quot;,[3949,&quot;^W&quot;,3948,536886405]],[&quot;^17&quot;,[3949,&quot;^V&quot;,3943,536886411]],[&quot;^17&quot;,[3949,&quot;^?&quot;,[&quot;^ &quot;],536886411]],[&quot;^17&quot;,[3949,&quot;^1@&quot;,true,536886402]],[&quot;^17&quot;,[3949,&quot;^;&quot;,&quot;~u62e48c1a-3088-4bc5-8b55-389bad421f3a&quot;,536886402]],[&quot;^17&quot;,[3950,&quot;^R&quot;,&quot;## [Problem - C - Codeforces](https://codeforces.com/contest/1702/problem/C)&quot;,536886423]],[&quot;^17&quot;,[3950,&quot;^P&quot;,&quot;^19&quot;,536886414]],[&quot;^17&quot;,[3950,&quot;^X&quot;,2,536886423]],[&quot;^17&quot;,[3950,&quot;^@&quot;,false,536886414]],[&quot;^17&quot;,[3950,&quot;^F&quot;,3948,536886417]],[&quot;^17&quot;,[3950,&quot;^Z&quot;,3943,536886414]],[&quot;^17&quot;,[3950,&quot;^W&quot;,3943,536886417]],[&quot;^17&quot;,[3950,&quot;^V&quot;,3943,536886423]],[&quot;^17&quot;,[3950,&quot;^?&quot;,[&quot;^ &quot;],536886423]],[&quot;^17&quot;,[3950,&quot;^1&gt;&quot;,2,536886420]],[&quot;^17&quot;,[3950,&quot;^Y&quot;,&quot;^1?&quot;,536886423]],[&quot;^17&quot;,[3950,&quot;^1@&quot;,true,536886414]],[&quot;^17&quot;,[3950,&quot;^;&quot;,&quot;~u62e48c2f-2bb0-4dbf-8e72-e1903c6f74c2&quot;,536886414]],[&quot;^17&quot;,[3951,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意是有个火车线路经过一些 indices 为 $u_1,u_2,.....u_n$的站点，我们现在给出一个查询 $a_i, b_i$，想问在线路上能不能从 a 到 b， 注意火车不能逆行\\n#+END_QUOTE&quot;,536886548]],[&quot;^17&quot;,[3951,&quot;^P&quot;,&quot;^19&quot;,536886424]],[&quot;^17&quot;,[3951,&quot;^@&quot;,false,536886424]],[&quot;^17&quot;,[3951,&quot;^F&quot;,3950,536886424]],[&quot;^17&quot;,[3951,&quot;^Z&quot;,3943,536886424]],[&quot;^17&quot;,[3951,&quot;^W&quot;,3950,536886427]],[&quot;^17&quot;,[3951,&quot;^V&quot;,3943,536886548]],[&quot;^17&quot;,[3951,&quot;^?&quot;,[&quot;^ &quot;],536886548]],[&quot;^17&quot;,[3951,&quot;^1@&quot;,true,536886424]],[&quot;^17&quot;,[3951,&quot;^;&quot;,&quot;~u62e48c33-70c4-4fdc-ab6d-3959bb00b150&quot;,536886424]],[&quot;^17&quot;,[3952,&quot;^R&quot;,&quot;我的思路是：用一个$map&lt;int, pair&lt;int , int&gt;&gt;$ 维护所有值对应的最小和最大下标----结果超时，数据太离散了&quot;,536886662]],[&quot;^17&quot;,[3952,&quot;^P&quot;,&quot;^19&quot;,536886549]],[&quot;^17&quot;,[3952,&quot;^@&quot;,false,536886549]],[&quot;^17&quot;,[3952,&quot;^F&quot;,3951,536886549]],[&quot;^17&quot;,[3952,&quot;^Z&quot;,3943,536886549]],[&quot;^17&quot;,[3952,&quot;^W&quot;,3950,536886549]],[&quot;^17&quot;,[3952,&quot;^V&quot;,3943,536886662]],[&quot;^17&quot;,[3952,&quot;^?&quot;,[&quot;^ &quot;],536886662]],[&quot;^17&quot;,[3952,&quot;^1@&quot;,true,536886549]],[&quot;^17&quot;,[3952,&quot;^;&quot;,&quot;~u62e48ea7-3e75-4b4d-84e7-425ccc4fcdb7&quot;,536886549]],[&quot;^17&quot;,[3953,&quot;^R&quot;,&quot;## [Problem - D - Codeforces](https://codeforces.com/contest/1702/problem/D)&quot;,536886670]],[&quot;^17&quot;,[3953,&quot;^P&quot;,&quot;^19&quot;,536886665]],[&quot;^17&quot;,[3953,&quot;^X&quot;,2,536886670]],[&quot;^17&quot;,[3953,&quot;^@&quot;,false,536886665]],[&quot;^17&quot;,[3953,&quot;^F&quot;,3950,536886666]],[&quot;^17&quot;,[3953,&quot;^Z&quot;,3943,536886665]],[&quot;^17&quot;,[3953,&quot;^W&quot;,3943,536886666]],[&quot;^17&quot;,[3953,&quot;^V&quot;,3943,536886670]],[&quot;^17&quot;,[3953,&quot;^?&quot;,[&quot;^ &quot;],536886670]],[&quot;^17&quot;,[3953,&quot;^1&gt;&quot;,2,536886669]],[&quot;^17&quot;,[3953,&quot;^Y&quot;,&quot;^1?&quot;,536886670]],[&quot;^17&quot;,[3953,&quot;^1@&quot;,true,536886665]],[&quot;^17&quot;,[3953,&quot;^;&quot;,&quot;~u62e4917f-54c7-4df7-ad64-8003ce75430b&quot;,536886665]],[&quot;^17&quot;,[3954,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：给定一个字符串，每个字符价值:$c - &apos;a&apos; + 1$, 要求尽量少删除字符，使得总价值小于p，最后输出删除后的字符串\\n#+END_QUOTE&quot;,536886926]],[&quot;^17&quot;,[3954,&quot;^P&quot;,&quot;^19&quot;,536886671]],[&quot;^17&quot;,[3954,&quot;^@&quot;,false,536886671]],[&quot;^17&quot;,[3954,&quot;^F&quot;,3953,536886671]],[&quot;^17&quot;,[3954,&quot;^Z&quot;,3943,536886671]],[&quot;^17&quot;,[3954,&quot;^W&quot;,3953,536886674]],[&quot;^17&quot;,[3954,&quot;^V&quot;,3943,536886926]],[&quot;^17&quot;,[3954,&quot;^?&quot;,[&quot;^ &quot;],536886926]],[&quot;^17&quot;,[3954,&quot;^1@&quot;,true,536886671]],[&quot;^17&quot;,[3954,&quot;^;&quot;,&quot;~u62e49182-bbc9-47bb-bb40-b739bc0f3908&quot;,536886671]],[&quot;^17&quot;,[3955,&quot;^R&quot;,&quot;**正解**： [[离线算法]]&quot;,536886686]],[&quot;^17&quot;,[3955,&quot;^P&quot;,&quot;^19&quot;,536886677]],[&quot;^17&quot;,[3955,&quot;^@&quot;,false,536886677]],[&quot;^17&quot;,[3955,&quot;^F&quot;,3952,536886677]],[&quot;^17&quot;,[3955,&quot;^Z&quot;,3943,536886677]],[&quot;^17&quot;,[3955,&quot;^W&quot;,3950,536886677]],[&quot;^17&quot;,[3955,&quot;^V&quot;,3943,536886686]],[&quot;^17&quot;,[3955,&quot;^V&quot;,3956,536886686]],[&quot;^17&quot;,[3955,&quot;^?&quot;,[&quot;^ &quot;],536886686]],[&quot;^17&quot;,[3955,&quot;^H&quot;,3956,536886686]],[&quot;^17&quot;,[3955,&quot;^1@&quot;,true,536886677]],[&quot;^17&quot;,[3955,&quot;^;&quot;,&quot;~u62e49959-24af-4f02-b480-48c4ced2cfa9&quot;,536886677]],[&quot;^17&quot;,[3957,&quot;^R&quot;,&quot;&quot;,536886687]],[&quot;^17&quot;,[3957,&quot;^P&quot;,&quot;^19&quot;,536886687]],[&quot;^17&quot;,[3957,&quot;^@&quot;,false,536886687]],[&quot;^17&quot;,[3957,&quot;^F&quot;,3955,536886687]],[&quot;^17&quot;,[3957,&quot;^Z&quot;,3943,536886687]],[&quot;^17&quot;,[3957,&quot;^W&quot;,3950,536886687]],[&quot;^17&quot;,[3957,&quot;^V&quot;,3943,536886687]],[&quot;^17&quot;,[3957,&quot;^?&quot;,[&quot;^ &quot;],536886687]],[&quot;^17&quot;,[3957,&quot;^1@&quot;,true,536886687]],[&quot;^17&quot;,[3957,&quot;^;&quot;,&quot;~u62e4996c-380e-4b66-bf96-3015e76cd5ea&quot;,536886687]],[&quot;^17&quot;,[3980,&quot;^R&quot;,&quot;方法就是暴力：怎么更好的删除呢？\\n大佬的方法是：用26个vector维护26个字母的位置。之后将字符再还原&quot;,536886981]],[&quot;^17&quot;,[3980,&quot;^P&quot;,&quot;^19&quot;,536886929]],[&quot;^17&quot;,[3980,&quot;^@&quot;,false,536886929]],[&quot;^17&quot;,[3980,&quot;^F&quot;,3954,536886929]],[&quot;^17&quot;,[3980,&quot;^Z&quot;,3943,536886929]],[&quot;^17&quot;,[3980,&quot;^W&quot;,3953,536886929]],[&quot;^17&quot;,[3980,&quot;^V&quot;,3943,536886981]],[&quot;^17&quot;,[3980,&quot;^?&quot;,[&quot;^ &quot;],536886981]],[&quot;^17&quot;,[3980,&quot;^1@&quot;,true,536886929]],[&quot;^17&quot;,[3980,&quot;^;&quot;,&quot;~u62e49be9-b65e-4d08-a746-cf4885ca7a6e&quot;,536886929]],[&quot;^17&quot;,[3981,&quot;^R&quot;,&quot;## [Problem - E - Codeforces](https://codeforces.com/contest/1702/problem/E)&quot;,536886993]],[&quot;^17&quot;,[3981,&quot;^P&quot;,&quot;^19&quot;,536886984]],[&quot;^17&quot;,[3981,&quot;^X&quot;,2,536886993]],[&quot;^17&quot;,[3981,&quot;^@&quot;,false,536886984]],[&quot;^17&quot;,[3981,&quot;^F&quot;,3953,536886987]],[&quot;^17&quot;,[3981,&quot;^Z&quot;,3943,536886984]],[&quot;^17&quot;,[3981,&quot;^W&quot;,3943,536886987]],[&quot;^17&quot;,[3981,&quot;^V&quot;,3943,536886993]],[&quot;^17&quot;,[3981,&quot;^?&quot;,[&quot;^ &quot;],536886993]],[&quot;^17&quot;,[3981,&quot;^1&gt;&quot;,2,536886990]],[&quot;^17&quot;,[3981,&quot;^Y&quot;,&quot;^1?&quot;,536886993]],[&quot;^17&quot;,[3981,&quot;^1@&quot;,true,536886984]],[&quot;^17&quot;,[3981,&quot;^;&quot;,&quot;~u62e49c31-fef1-49d6-a296-5c4337738339&quot;,536886984]],[&quot;^17&quot;,[3982,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：给出若干骨牌，每个骨牌有两个数字，试问可否将骨牌分为两堆，每堆都没有重复数字\\n#+END_QUOTE&quot;,536887025]],[&quot;^17&quot;,[3982,&quot;^P&quot;,&quot;^19&quot;,536886994]],[&quot;^17&quot;,[3982,&quot;^@&quot;,false,536886994]],[&quot;^17&quot;,[3982,&quot;^F&quot;,3981,536886994]],[&quot;^17&quot;,[3982,&quot;^Z&quot;,3943,536886994]],[&quot;^17&quot;,[3982,&quot;^W&quot;,3981,536886995]],[&quot;^17&quot;,[3982,&quot;^V&quot;,3943,536887025]],[&quot;^17&quot;,[3982,&quot;^?&quot;,[&quot;^ &quot;],536887025]],[&quot;^17&quot;,[3982,&quot;^1@&quot;,true,536886994]],[&quot;^17&quot;,[3982,&quot;^;&quot;,&quot;~u62e49c49-9391-4b9c-b235-019942c8c8dc&quot;,536886994]],[&quot;^17&quot;,[3983,&quot;^R&quot;,&quot;[[二分图]]判定问题（不会！！）&quot;,536887430]],[&quot;^17&quot;,[3983,&quot;^P&quot;,&quot;^19&quot;,536887026]],[&quot;^17&quot;,[3983,&quot;^@&quot;,false,536887026]],[&quot;^17&quot;,[3983,&quot;^F&quot;,3982,536887026]],[&quot;^17&quot;,[3983,&quot;^Z&quot;,3943,536887026]],[&quot;^17&quot;,[3983,&quot;^W&quot;,3981,536887026]],[&quot;^17&quot;,[3983,&quot;^V&quot;,3943,536887430]],[&quot;^17&quot;,[3983,&quot;^V&quot;,3993,536887430]],[&quot;^17&quot;,[3983,&quot;^?&quot;,[&quot;^ &quot;],536887430]],[&quot;^17&quot;,[3983,&quot;^H&quot;,3993,536887430]],[&quot;^17&quot;,[3983,&quot;^1@&quot;,true,536887026]],[&quot;^17&quot;,[3983,&quot;^;&quot;,&quot;~u62e49c88-6370-4b7a-8c2b-78612c490f45&quot;,536887026]],[&quot;^17&quot;,[3984,&quot;^R&quot;,&quot;## [Problem - F - Codeforces](https://codeforces.com/contest/1702/problem/F)&quot;,536887049]],[&quot;^17&quot;,[3984,&quot;^P&quot;,&quot;^19&quot;,536887044]],[&quot;^17&quot;,[3984,&quot;^X&quot;,2,536887049]],[&quot;^17&quot;,[3984,&quot;^@&quot;,false,536887044]],[&quot;^17&quot;,[3984,&quot;^F&quot;,3981,536887045]],[&quot;^17&quot;,[3984,&quot;^Z&quot;,3943,536887044]],[&quot;^17&quot;,[3984,&quot;^W&quot;,3943,536887045]],[&quot;^17&quot;,[3984,&quot;^V&quot;,3943,536887049]],[&quot;^17&quot;,[3984,&quot;^?&quot;,[&quot;^ &quot;],536887049]],[&quot;^17&quot;,[3984,&quot;^1&gt;&quot;,2,536887048]],[&quot;^17&quot;,[3984,&quot;^Y&quot;,&quot;^1?&quot;,536887049]],[&quot;^17&quot;,[3984,&quot;^1@&quot;,true,536887044]],[&quot;^17&quot;,[3984,&quot;^;&quot;,&quot;~u62e49d5e-e4cb-4169-a96e-5dc9a4ea6146&quot;,536887044]],[&quot;^17&quot;,[3985,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：给定两个 multiset (有相同元素的集合，每个数可能出现多次)。每次可以将b的元素乘2或者除以2，要求判断是否能够通过操作将a和b相等\\n#+END_QUOTE&quot;,536887146]],[&quot;^17&quot;,[3985,&quot;^P&quot;,&quot;^19&quot;,536887050]],[&quot;^17&quot;,[3985,&quot;^@&quot;,false,536887050]],[&quot;^17&quot;,[3985,&quot;^F&quot;,3984,536887050]],[&quot;^17&quot;,[3985,&quot;^Z&quot;,3943,536887050]],[&quot;^17&quot;,[3985,&quot;^W&quot;,3984,536887053]],[&quot;^17&quot;,[3985,&quot;^V&quot;,3943,536887146]],[&quot;^17&quot;,[3985,&quot;^?&quot;,[&quot;^ &quot;],536887146]],[&quot;^17&quot;,[3985,&quot;^1@&quot;,true,536887050]],[&quot;^17&quot;,[3985,&quot;^;&quot;,&quot;~u62e49d61-de53-42dd-a4e5-eaff3c8ed890&quot;,536887050]],[&quot;^17&quot;,[3986,&quot;^R&quot;,&quot;两种方法：优先队列和字典树&quot;,536887161]],[&quot;^17&quot;,[3986,&quot;^P&quot;,&quot;^19&quot;,536887149]],[&quot;^17&quot;,[3986,&quot;^@&quot;,false,536887149]],[&quot;^17&quot;,[3986,&quot;^F&quot;,3985,536887149]],[&quot;^17&quot;,[3986,&quot;^Z&quot;,3943,536887149]],[&quot;^17&quot;,[3986,&quot;^W&quot;,3984,536887149]],[&quot;^17&quot;,[3986,&quot;^V&quot;,3943,536887161]],[&quot;^17&quot;,[3986,&quot;^?&quot;,[&quot;^ &quot;],536887161]],[&quot;^17&quot;,[3986,&quot;^1@&quot;,true,536887149]],[&quot;^17&quot;,[3986,&quot;^;&quot;,&quot;~u62e4cf99-1e56-4e28-8749-ccd2dc017b8a&quot;,536887149]],[&quot;^17&quot;,[3987,&quot;^14&quot;,1,536887170]],[&quot;^17&quot;,[4019,&quot;^R&quot;,&quot;&quot;,536887427]],[&quot;^17&quot;,[4019,&quot;^P&quot;,&quot;^19&quot;,536887427]],[&quot;^17&quot;,[4019,&quot;^@&quot;,false,536887427]],[&quot;^17&quot;,[4019,&quot;^F&quot;,3983,536887427]],[&quot;^17&quot;,[4019,&quot;^Z&quot;,3943,536887427]],[&quot;^17&quot;,[4019,&quot;^W&quot;,3981,536887427]],[&quot;^17&quot;,[4019,&quot;^V&quot;,3943,536887427]],[&quot;^17&quot;,[4019,&quot;^?&quot;,[&quot;^ &quot;],536887427]],[&quot;^17&quot;,[4019,&quot;^1@&quot;,true,536887427]],[&quot;^17&quot;,[4019,&quot;^;&quot;,&quot;~u62e5e2aa-ccec-4291-9b03-4332ead83fe1&quot;,536887427]],[&quot;^17&quot;,[4025,&quot;^R&quot;,&quot;优先队列维护两个 multiset ：每次处理最大值：相等都pop，否则将更大值减半，注意：若a元素为奇数，则无法保证相等，输出 No&quot;,536887539]],[&quot;^17&quot;,[4025,&quot;^P&quot;,&quot;^19&quot;,536887476]],[&quot;^17&quot;,[4025,&quot;^@&quot;,false,536887476]],[&quot;^17&quot;,[4025,&quot;^F&quot;,3986,536887476]],[&quot;^17&quot;,[4025,&quot;^Z&quot;,3943,536887476]],[&quot;^17&quot;,[4025,&quot;^W&quot;,3984,536887476]],[&quot;^17&quot;,[4025,&quot;^V&quot;,3943,536887539]],[&quot;^17&quot;,[4025,&quot;^?&quot;,[&quot;^ &quot;],536887539]],[&quot;^17&quot;,[4025,&quot;^1@&quot;,true,536887476]],[&quot;^17&quot;,[4025,&quot;^;&quot;,&quot;~u62e632e4-77e7-4696-a322-4e8fb4c0ddbb&quot;,536887476]],[&quot;^17&quot;,[4026,&quot;^R&quot;,&quot;## [Problem - G2 - Codeforces](https://codeforces.com/contest/1702/problem/G2)&quot;,536887549]],[&quot;^17&quot;,[4026,&quot;^P&quot;,&quot;^19&quot;,536887540]],[&quot;^17&quot;,[4026,&quot;^X&quot;,2,536887549]],[&quot;^17&quot;,[4026,&quot;^@&quot;,false,536887540]],[&quot;^17&quot;,[4026,&quot;^F&quot;,3984,536887543]],[&quot;^17&quot;,[4026,&quot;^Z&quot;,3943,536887540]],[&quot;^17&quot;,[4026,&quot;^W&quot;,3943,536887543]],[&quot;^17&quot;,[4026,&quot;^V&quot;,3943,536887549]],[&quot;^17&quot;,[4026,&quot;^?&quot;,[&quot;^ &quot;],536887549]],[&quot;^17&quot;,[4026,&quot;^1&gt;&quot;,2,536887546]],[&quot;^17&quot;,[4026,&quot;^Y&quot;,&quot;^1?&quot;,536887549]],[&quot;^17&quot;,[4026,&quot;^1@&quot;,true,536887540]],[&quot;^17&quot;,[4026,&quot;^;&quot;,&quot;~u62e6332f-f05c-4074-aed5-4d8732290f0d&quot;,536887540]],[&quot;^17&quot;,[4027,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n给出一颗树,每次询问给出若干个点,要求这若干个点是否在同一条链上.\\n#+END_QUOTE&quot;,536887560]],[&quot;^17&quot;,[4027,&quot;^P&quot;,&quot;^19&quot;,536887550]],[&quot;^17&quot;,[4027,&quot;^@&quot;,false,536887550]],[&quot;^17&quot;,[4027,&quot;^F&quot;,4026,536887550]],[&quot;^17&quot;,[4027,&quot;^Z&quot;,3943,536887550]],[&quot;^17&quot;,[4027,&quot;^W&quot;,4026,536887551]],[&quot;^17&quot;,[4027,&quot;^V&quot;,3943,536887560]],[&quot;^17&quot;,[4027,&quot;^?&quot;,[&quot;^ &quot;],536887560]],[&quot;^17&quot;,[4027,&quot;^1@&quot;,true,536887550]],[&quot;^17&quot;,[4027,&quot;^;&quot;,&quot;~u62e63985-84da-4c63-a98f-6879a57d8af5&quot;,536887550]],[&quot;^17&quot;,[4028,&quot;^R&quot;,&quot;首先假设这条链的两个端点是p1和p2,假设某个点p在p1和p2为端点的链上,我们分别计算p与两个端点的 `最近公共祖先lca` ,这两个 `lca` 一定一个是p本身,另一个是p1和p2的 `lca` ,所以我们的做法就是找到链的两个端点,然后判断其他点是不是在链上就行了.&quot;,536887564]],[&quot;^17&quot;,[4028,&quot;^P&quot;,&quot;^19&quot;,536887561]],[&quot;^17&quot;,[4028,&quot;^@&quot;,false,536887561]],[&quot;^17&quot;,[4028,&quot;^F&quot;,4027,536887561]],[&quot;^17&quot;,[4028,&quot;^Z&quot;,3943,536887561]],[&quot;^17&quot;,[4028,&quot;^W&quot;,4026,536887561]],[&quot;^17&quot;,[4028,&quot;^V&quot;,3943,536887564]],[&quot;^17&quot;,[4028,&quot;^?&quot;,[&quot;^ &quot;],536887564]],[&quot;^17&quot;,[4028,&quot;^1@&quot;,true,536887561]],[&quot;^17&quot;,[4028,&quot;^;&quot;,&quot;~u62e639a7-53aa-43dc-b09b-3816bddb0347&quot;,536887561]],[&quot;^17&quot;,[4029,&quot;^R&quot;,&quot;那么如何确定链的两个端点呢?第一个端点p1可以用深度最大的点,第二个端点可以找和p1不在同一个子树(即lca(p1,p)!=p)里的深度最大的点.&quot;,536887564]],[&quot;^17&quot;,[4029,&quot;^P&quot;,&quot;^19&quot;,536887564]],[&quot;^17&quot;,[4029,&quot;^F&quot;,4028,536887564]],[&quot;^17&quot;,[4029,&quot;^Z&quot;,3943,536887564]],[&quot;^17&quot;,[4029,&quot;^W&quot;,4026,536887564]],[&quot;^17&quot;,[4029,&quot;^V&quot;,3943,536887564]],[&quot;^17&quot;,[4029,&quot;^1@&quot;,true,536887564]],[&quot;^17&quot;,[4029,&quot;^;&quot;,&quot;~u6d40bb21-d212-4b40-a549-3810566e6378&quot;,536887564]],[&quot;^17&quot;,[4030,&quot;^R&quot;,&quot;&quot;,536887567]],[&quot;^17&quot;,[4030,&quot;^P&quot;,&quot;^19&quot;,536887567]],[&quot;^17&quot;,[4030,&quot;^F&quot;,4026,536887568]],[&quot;^17&quot;,[4030,&quot;^Z&quot;,3943,536887567]],[&quot;^17&quot;,[4030,&quot;^W&quot;,3943,536887568]],[&quot;^17&quot;,[4030,&quot;^V&quot;,3943,536887567]],[&quot;^17&quot;,[4030,&quot;^?&quot;,[&quot;^ &quot;],536887567]],[&quot;^17&quot;,[4030,&quot;^1@&quot;,true,536887567]],[&quot;^17&quot;,[4030,&quot;^;&quot;,&quot;~u62e639c6-ca2d-4440-a985-4edcc5b1a077&quot;,536887567]],[&quot;^17&quot;,[4041,&quot;^L&quot;,1659268751507,536887982]],[&quot;^17&quot;,[4041,&quot;^P&quot;,&quot;^19&quot;,536887989]],[&quot;^17&quot;,[4041,&quot;^@&quot;,false,536887982]],[&quot;^17&quot;,[4041,&quot;^[&quot;,&quot;beginner contest 262&quot;,536887982]],[&quot;^17&quot;,[4041,&quot;^13&quot;,&quot;beginner contest 262&quot;,536887982]],[&quot;^17&quot;,[4041,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896143]],[&quot;^17&quot;,[4041,&quot;^B&quot;,1659537476015,536890402]],[&quot;^17&quot;,[4041,&quot;^;&quot;,&quot;~u62e66e8f-600b-416b-8781-edf382f47a00&quot;,536887982]],[&quot;^17&quot;,[4042,&quot;^R&quot;,&quot;&quot;,536887983]],[&quot;^17&quot;,[4042,&quot;^P&quot;,&quot;^19&quot;,536887983]],[&quot;^17&quot;,[4042,&quot;^@&quot;,false,536887983]],[&quot;^17&quot;,[4042,&quot;^F&quot;,4129,536890440]],[&quot;^17&quot;,[4042,&quot;^Z&quot;,3541,536887983]],[&quot;^17&quot;,[4042,&quot;^W&quot;,3541,536887983]],[&quot;^17&quot;,[4042,&quot;^V&quot;,3541,536887983]],[&quot;^17&quot;,[4042,&quot;^?&quot;,[&quot;^ &quot;],536887983]],[&quot;^17&quot;,[4042,&quot;^1@&quot;,true,536887983]],[&quot;^17&quot;,[4042,&quot;^;&quot;,&quot;~u62e66e8f-6bc7-4913-a3ae-9a92be3f4ea2&quot;,536887983]],[&quot;^17&quot;,[4043,&quot;^R&quot;,&quot;&quot;,536887986]],[&quot;^17&quot;,[4043,&quot;^P&quot;,&quot;^19&quot;,536887986]],[&quot;^17&quot;,[4043,&quot;^@&quot;,false,536887986]],[&quot;^17&quot;,[4043,&quot;^F&quot;,4042,536887986]],[&quot;^17&quot;,[4043,&quot;^Z&quot;,3541,536887986]],[&quot;^17&quot;,[4043,&quot;^W&quot;,3541,536887986]],[&quot;^17&quot;,[4043,&quot;^V&quot;,3541,536887986]],[&quot;^17&quot;,[4043,&quot;^?&quot;,[&quot;^ &quot;],536887986]],[&quot;^17&quot;,[4043,&quot;^1@&quot;,true,536887986]],[&quot;^17&quot;,[4043,&quot;^;&quot;,&quot;~u62e66e8f-17a0-45af-9c45-713861012387&quot;,536887986]],[&quot;^17&quot;,[4044,&quot;^R&quot;,&quot;## AB 很简单&quot;,536888007]],[&quot;^17&quot;,[4044,&quot;^P&quot;,&quot;^19&quot;,536887990]],[&quot;^17&quot;,[4044,&quot;^X&quot;,2,536888007]],[&quot;^17&quot;,[4044,&quot;^@&quot;,false,536887990]],[&quot;^17&quot;,[4044,&quot;^F&quot;,4439,536896143]],[&quot;^17&quot;,[4044,&quot;^Z&quot;,4041,536887990]],[&quot;^17&quot;,[4044,&quot;^W&quot;,4041,536887990]],[&quot;^17&quot;,[4044,&quot;^V&quot;,4041,536888007]],[&quot;^17&quot;,[4044,&quot;^?&quot;,[&quot;^ &quot;],536888007]],[&quot;^17&quot;,[4044,&quot;^1&gt;&quot;,2,536887997]],[&quot;^17&quot;,[4044,&quot;^Y&quot;,&quot;^1?&quot;,536888007]],[&quot;^17&quot;,[4044,&quot;^1@&quot;,true,536887990]],[&quot;^17&quot;,[4044,&quot;^;&quot;,&quot;~u62e66e91-63bc-4984-a356-01f3b1cb396c&quot;,536887990]],[&quot;^17&quot;,[4045,&quot;^R&quot;,&quot;[[beginner contest 263]]&quot;,536890439]],[&quot;^17&quot;,[4045,&quot;^P&quot;,&quot;^19&quot;,536887993]],[&quot;^17&quot;,[4045,&quot;^@&quot;,false,536887993]],[&quot;^17&quot;,[4045,&quot;^F&quot;,3547,536887993]],[&quot;^17&quot;,[4045,&quot;^Z&quot;,3541,536887993]],[&quot;^17&quot;,[4045,&quot;^W&quot;,3541,536887993]],[&quot;^17&quot;,[4045,&quot;^V&quot;,3541,536890439]],[&quot;^17&quot;,[4045,&quot;^V&quot;,4127,536890439]],[&quot;^17&quot;,[4045,&quot;^?&quot;,[&quot;^ &quot;],536890439]],[&quot;^17&quot;,[4045,&quot;^H&quot;,4127,536890439]],[&quot;^17&quot;,[4045,&quot;^1@&quot;,true,536887993]],[&quot;^17&quot;,[4045,&quot;^;&quot;,&quot;~u62e66e9e-d63c-4737-a059-0f6c58556902&quot;,536887993]],[&quot;^17&quot;,[4047,&quot;^R&quot;,&quot;## [C - Min Max Pair](https://atcoder.jp/contests/abc262/tasks/abc262_c)&quot;,536888014]],[&quot;^17&quot;,[4047,&quot;^P&quot;,&quot;^19&quot;,536888008]],[&quot;^17&quot;,[4047,&quot;^X&quot;,2,536888014]],[&quot;^17&quot;,[4047,&quot;^@&quot;,false,536888008]],[&quot;^17&quot;,[4047,&quot;^F&quot;,4044,536888008]],[&quot;^17&quot;,[4047,&quot;^Z&quot;,4041,536888008]],[&quot;^17&quot;,[4047,&quot;^W&quot;,4041,536888008]],[&quot;^17&quot;,[4047,&quot;^V&quot;,4041,536888014]],[&quot;^17&quot;,[4047,&quot;^?&quot;,[&quot;^ &quot;],536888014]],[&quot;^17&quot;,[4047,&quot;^1&gt;&quot;,2,536888011]],[&quot;^17&quot;,[4047,&quot;^Y&quot;,&quot;^1?&quot;,536888014]],[&quot;^17&quot;,[4047,&quot;^1@&quot;,true,536888008]],[&quot;^17&quot;,[4047,&quot;^;&quot;,&quot;~u62e68b2d-2e11-442a-9f64-c63e885d690c&quot;,536888008]],[&quot;^17&quot;,[4048,&quot;^R&quot;,&quot;题目很简单，错误原因答案没有开 longlong：还是对数字不敏感，没有估算复杂度大小的习惯&quot;,536888040]],[&quot;^17&quot;,[4048,&quot;^P&quot;,&quot;^19&quot;,536888015]],[&quot;^17&quot;,[4048,&quot;^@&quot;,false,536888015]],[&quot;^17&quot;,[4048,&quot;^F&quot;,4047,536888015]],[&quot;^17&quot;,[4048,&quot;^Z&quot;,4041,536888015]],[&quot;^17&quot;,[4048,&quot;^W&quot;,4047,536888018]],[&quot;^17&quot;,[4048,&quot;^V&quot;,4041,536888040]],[&quot;^17&quot;,[4048,&quot;^?&quot;,[&quot;^ &quot;],536888040]],[&quot;^17&quot;,[4048,&quot;^1@&quot;,true,536888015]],[&quot;^17&quot;,[4048,&quot;^;&quot;,&quot;~u62e68b31-6013-4f31-b320-125a0b24fa9f&quot;,536888015]],[&quot;^17&quot;,[4050,&quot;^R&quot;,&quot;## [D - I Hate Non-integer Number](https://atcoder.jp/contests/abc262/tasks/abc262_d)&quot;,536888058]],[&quot;^17&quot;,[4050,&quot;^P&quot;,&quot;^19&quot;,536888041]],[&quot;^17&quot;,[4050,&quot;^X&quot;,2,536888058]],[&quot;^17&quot;,[4050,&quot;^@&quot;,false,536888041]],[&quot;^17&quot;,[4050,&quot;^F&quot;,4047,536888042]],[&quot;^17&quot;,[4050,&quot;^Z&quot;,4041,536888041]],[&quot;^17&quot;,[4050,&quot;^W&quot;,4041,536888042]],[&quot;^17&quot;,[4050,&quot;^V&quot;,4041,536888058]],[&quot;^17&quot;,[4050,&quot;^?&quot;,[&quot;^ &quot;],536888058]],[&quot;^17&quot;,[4050,&quot;^1&gt;&quot;,2,536888055]],[&quot;^17&quot;,[4050,&quot;^Y&quot;,&quot;^1?&quot;,536888058]],[&quot;^17&quot;,[4050,&quot;^1@&quot;,true,536888041]],[&quot;^17&quot;,[4050,&quot;^;&quot;,&quot;~u62e68b5b-1880-43c9-998e-6e89354a380d&quot;,536888041]],[&quot;^17&quot;,[4051,&quot;^14&quot;,1,536888048]],[&quot;^17&quot;,[4054,&quot;^R&quot;,&quot;&quot;,536888052]],[&quot;^17&quot;,[4054,&quot;^P&quot;,&quot;^19&quot;,536888052]],[&quot;^17&quot;,[4054,&quot;^@&quot;,false,536888052]],[&quot;^17&quot;,[4054,&quot;^F&quot;,4078,536889322]],[&quot;^17&quot;,[4054,&quot;^Z&quot;,4041,536888052]],[&quot;^17&quot;,[4054,&quot;^W&quot;,4041,536888052]],[&quot;^17&quot;,[4054,&quot;^?&quot;,[&quot;^ &quot;],536888052]],[&quot;^17&quot;,[4054,&quot;^1@&quot;,true,536888052]],[&quot;^17&quot;,[4054,&quot;^;&quot;,&quot;~u62e72f8c-8ae8-4111-9edb-25dde11bab37&quot;,536888052]],[&quot;^17&quot;,[4055,&quot;^R&quot;,&quot;显然考虑dp(显然吗？)我没有考虑到，我模拟了所有的情况，结果超时，所以需要dp来节省时间&quot;,536888104]],[&quot;^17&quot;,[4055,&quot;^P&quot;,&quot;^19&quot;,536888059]],[&quot;^17&quot;,[4055,&quot;^@&quot;,false,536888059]],[&quot;^17&quot;,[4055,&quot;^F&quot;,4050,536888059]],[&quot;^17&quot;,[4055,&quot;^Z&quot;,4041,536888059]],[&quot;^17&quot;,[4055,&quot;^W&quot;,4050,536888062]],[&quot;^17&quot;,[4055,&quot;^V&quot;,4041,536888104]],[&quot;^17&quot;,[4055,&quot;^?&quot;,[&quot;^ &quot;],536888104]],[&quot;^17&quot;,[4055,&quot;^1@&quot;,true,536888059]],[&quot;^17&quot;,[4055,&quot;^;&quot;,&quot;~u62e7326d-08cf-496b-afd9-67419eddb280&quot;,536888059]],[&quot;^17&quot;,[4056,&quot;^R&quot;,&quot;&quot;,536888082]],[&quot;^17&quot;,[4056,&quot;^P&quot;,&quot;^19&quot;,536888082]],[&quot;^17&quot;,[4056,&quot;^@&quot;,false,536888082]],[&quot;^17&quot;,[4056,&quot;^F&quot;,4084,536889329]],[&quot;^17&quot;,[4056,&quot;^Z&quot;,4041,536888082]],[&quot;^17&quot;,[4056,&quot;^W&quot;,4078,536889322]],[&quot;^17&quot;,[4056,&quot;^V&quot;,4041,536888082]],[&quot;^17&quot;,[4056,&quot;^?&quot;,[&quot;^ &quot;],536888082]],[&quot;^17&quot;,[4056,&quot;^1@&quot;,true,536888082]],[&quot;^17&quot;,[4056,&quot;^;&quot;,&quot;~u62e7332a-8176-491d-a6b9-5ab80bf6d6b9&quot;,536888082]],[&quot;^17&quot;,[4057,&quot;^R&quot;,&quot;设$dp[i][j][k]$ 为前 $i$ 个元素中，选择了$j$ 个元素，此时元素和 % j 为k的答案数，看上去可以，然后我们考虑一下状态转移方程。（事实上，我也想到了这个思路，但没有想到要用dp来存余数）但是这个方程，当k转移时，模数改变，导致推导有问题&quot;,536888247]],[&quot;^17&quot;,[4057,&quot;^P&quot;,&quot;^19&quot;,536888098]],[&quot;^17&quot;,[4057,&quot;^@&quot;,false,536888098]],[&quot;^17&quot;,[4057,&quot;^F&quot;,4055,536888098]],[&quot;^17&quot;,[4057,&quot;^Z&quot;,4041,536888098]],[&quot;^17&quot;,[4057,&quot;^W&quot;,4050,536888098]],[&quot;^17&quot;,[4057,&quot;^V&quot;,4041,536888247]],[&quot;^17&quot;,[4057,&quot;^?&quot;,[&quot;^ &quot;],536888247]],[&quot;^17&quot;,[4057,&quot;^1@&quot;,true,536888098]],[&quot;^17&quot;,[4057,&quot;^;&quot;,&quot;~u62e7337d-bc2d-4be4-b2f6-f4ed2fc15109&quot;,536888098]],[&quot;^17&quot;,[4058,&quot;^R&quot;,&quot;## [E - Red and Blue Graph](https://atcoder.jp/contests/abc262/tasks/abc262_e)&quot;,536888379]],[&quot;^17&quot;,[4058,&quot;^P&quot;,&quot;^19&quot;,536888204]],[&quot;^17&quot;,[4058,&quot;^X&quot;,2,536888379]],[&quot;^17&quot;,[4058,&quot;^@&quot;,false,536888204]],[&quot;^17&quot;,[4058,&quot;^F&quot;,4050,536888373]],[&quot;^17&quot;,[4058,&quot;^Z&quot;,4041,536888204]],[&quot;^17&quot;,[4058,&quot;^W&quot;,4041,536888373]],[&quot;^17&quot;,[4058,&quot;^V&quot;,4041,536888379]],[&quot;^17&quot;,[4058,&quot;^?&quot;,[&quot;^ &quot;],536888379]],[&quot;^17&quot;,[4058,&quot;^1&gt;&quot;,2,536888376]],[&quot;^17&quot;,[4058,&quot;^Y&quot;,&quot;^1?&quot;,536888379]],[&quot;^17&quot;,[4058,&quot;^1@&quot;,true,536888204]],[&quot;^17&quot;,[4058,&quot;^;&quot;,&quot;~u62e73405-6516-4aa3-8b03-1fad0b684b86&quot;,536888204]],[&quot;^17&quot;,[4060,&quot;^R&quot;,&quot;**改为$dp[j][k][l]$，表示前j个数，选择k个数，和**$\\\\%i$ **为 l 的方案数**&quot;,536890402]],[&quot;^17&quot;,[4060,&quot;^P&quot;,&quot;^19&quot;,536888248]],[&quot;^17&quot;,[4060,&quot;^@&quot;,false,536888248]],[&quot;^17&quot;,[4060,&quot;^F&quot;,4057,536888248]],[&quot;^17&quot;,[4060,&quot;^Z&quot;,4041,536888248]],[&quot;^17&quot;,[4060,&quot;^W&quot;,4050,536888248]],[&quot;^17&quot;,[4060,&quot;^V&quot;,4041,536890402]],[&quot;^17&quot;,[4060,&quot;^?&quot;,[&quot;^ &quot;],536890402]],[&quot;^17&quot;,[4060,&quot;^1@&quot;,true,536888248]],[&quot;^17&quot;,[4060,&quot;^;&quot;,&quot;~u62e739e9-b3aa-43ca-b504-55c5c1c7f2aa&quot;,536888248]],[&quot;^17&quot;,[4061,&quot;^R&quot;,&quot;意味着k的循环上限为 i 则对于$dp[j][k][l]$ 能推出 $dp[j+1][k+1][(l+a[j])\\\\%i]$&quot;,536888370]],[&quot;^17&quot;,[4061,&quot;^P&quot;,&quot;^19&quot;,536888303]],[&quot;^17&quot;,[4061,&quot;^@&quot;,false,536888303]],[&quot;^17&quot;,[4061,&quot;^F&quot;,4060,536888303]],[&quot;^17&quot;,[4061,&quot;^Z&quot;,4041,536888303]],[&quot;^17&quot;,[4061,&quot;^W&quot;,4050,536888303]],[&quot;^17&quot;,[4061,&quot;^V&quot;,4041,536888370]],[&quot;^17&quot;,[4061,&quot;^?&quot;,[&quot;^ &quot;],536888370]],[&quot;^17&quot;,[4061,&quot;^1@&quot;,true,536888303]],[&quot;^17&quot;,[4061,&quot;^;&quot;,&quot;~u62e73a34-d52b-4118-a343-3bba0ccec757&quot;,536888303]],[&quot;^17&quot;,[4062,&quot;^R&quot;,&quot;考虑被染红的点的度，连接红色点的别计数两次，不同颜色计算一次。&quot;,536888419]],[&quot;^17&quot;,[4062,&quot;^P&quot;,&quot;^19&quot;,536888380]],[&quot;^17&quot;,[4062,&quot;^@&quot;,false,536888380]],[&quot;^17&quot;,[4062,&quot;^F&quot;,4066,536888529]],[&quot;^17&quot;,[4062,&quot;^Z&quot;,4041,536888380]],[&quot;^17&quot;,[4062,&quot;^W&quot;,4058,536888380]],[&quot;^17&quot;,[4062,&quot;^V&quot;,4041,536888419]],[&quot;^17&quot;,[4062,&quot;^?&quot;,[&quot;^ &quot;],536888419]],[&quot;^17&quot;,[4062,&quot;^1@&quot;,true,536888380]],[&quot;^17&quot;,[4062,&quot;^;&quot;,&quot;~u62e740fe-2a8e-4864-8d27-94fea4773998&quot;,536888380]],[&quot;^17&quot;,[4063,&quot;^R&quot;,&quot;$S$ 为红色点的度数和， $R$ 为连接红色点的边， $D$ 为连接异色点的，我们有&quot;,536888479]],[&quot;^17&quot;,[4063,&quot;^P&quot;,&quot;^19&quot;,536888420]],[&quot;^17&quot;,[4063,&quot;^@&quot;,false,536888420]],[&quot;^17&quot;,[4063,&quot;^F&quot;,4062,536888420]],[&quot;^17&quot;,[4063,&quot;^Z&quot;,4041,536888420]],[&quot;^17&quot;,[4063,&quot;^W&quot;,4058,536888420]],[&quot;^17&quot;,[4063,&quot;^V&quot;,4041,536888479]],[&quot;^17&quot;,[4063,&quot;^?&quot;,[&quot;^ &quot;],536888479]],[&quot;^17&quot;,[4063,&quot;^1@&quot;,true,536888420]],[&quot;^17&quot;,[4063,&quot;^;&quot;,&quot;~u62e7437e-7a8f-43f8-983c-236c9676a3ae&quot;,536888420]],[&quot;^17&quot;,[4064,&quot;^R&quot;,&quot;$S = 2R + D$&quot;,536888514]],[&quot;^17&quot;,[4064,&quot;^P&quot;,&quot;^19&quot;,536888482]],[&quot;^17&quot;,[4064,&quot;^@&quot;,false,536888482]],[&quot;^17&quot;,[4064,&quot;^F&quot;,4063,536888482]],[&quot;^17&quot;,[4064,&quot;^Z&quot;,4041,536888482]],[&quot;^17&quot;,[4064,&quot;^W&quot;,4063,536888485]],[&quot;^17&quot;,[4064,&quot;^V&quot;,4041,536888514]],[&quot;^17&quot;,[4064,&quot;^?&quot;,[&quot;^ &quot;],536888514]],[&quot;^17&quot;,[4064,&quot;^1@&quot;,true,536888482]],[&quot;^17&quot;,[4064,&quot;^;&quot;,&quot;~u62e743ee-e3ac-47e8-9b0e-f373914f3a07&quot;,536888482]],[&quot;^17&quot;,[4065,&quot;^R&quot;,&quot;考虑到能被除二得&quot;,536888663]],[&quot;^17&quot;,[4065,&quot;^P&quot;,&quot;^19&quot;,536888517]],[&quot;^17&quot;,[4065,&quot;^@&quot;,false,536888517]],[&quot;^17&quot;,[4065,&quot;^F&quot;,4064,536888517]],[&quot;^17&quot;,[4065,&quot;^Z&quot;,4041,536888517]],[&quot;^17&quot;,[4065,&quot;^W&quot;,4063,536888517]],[&quot;^17&quot;,[4065,&quot;^V&quot;,4041,536888663]],[&quot;^17&quot;,[4065,&quot;^?&quot;,[&quot;^ &quot;],536888663]],[&quot;^17&quot;,[4065,&quot;^1@&quot;,true,536888517]],[&quot;^17&quot;,[4065,&quot;^;&quot;,&quot;~u62e743fe-0949-4768-b3ba-c8985f8e2d5b&quot;,536888517]],[&quot;^17&quot;,[4066,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n给N个点，M条边。每个点能被染成红或蓝。满足以下条件：K个红色点，有偶数条边连接不同颜色。\\n输出可能的情况数 mod(998244353)\\n#+END_QUOTE&quot;,536888660]],[&quot;^17&quot;,[4066,&quot;^P&quot;,&quot;^19&quot;,536888529]],[&quot;^17&quot;,[4066,&quot;^@&quot;,false,536888529]],[&quot;^17&quot;,[4066,&quot;^F&quot;,4058,536888529]],[&quot;^17&quot;,[4066,&quot;^Z&quot;,4041,536888529]],[&quot;^17&quot;,[4066,&quot;^W&quot;,4058,536888529]],[&quot;^17&quot;,[4066,&quot;^V&quot;,4041,536888660]],[&quot;^17&quot;,[4066,&quot;^?&quot;,[&quot;^ &quot;],536888660]],[&quot;^17&quot;,[4066,&quot;^1@&quot;,true,536888529]],[&quot;^17&quot;,[4066,&quot;^;&quot;,&quot;~u62e7441e-958b-41a2-bcc7-514aa91e94c8&quot;,536888529]],[&quot;^17&quot;,[4067,&quot;^R&quot;,&quot;$S \\\\equiv D (mod) 2$&quot;,536888718]],[&quot;^17&quot;,[4067,&quot;^P&quot;,&quot;^19&quot;,536888666]],[&quot;^17&quot;,[4067,&quot;^@&quot;,false,536888666]],[&quot;^17&quot;,[4067,&quot;^F&quot;,4065,536888666]],[&quot;^17&quot;,[4067,&quot;^Z&quot;,4041,536888666]],[&quot;^17&quot;,[4067,&quot;^W&quot;,4063,536888666]],[&quot;^17&quot;,[4067,&quot;^V&quot;,4041,536888718]],[&quot;^17&quot;,[4067,&quot;^?&quot;,[&quot;^ &quot;],536888718]],[&quot;^17&quot;,[4067,&quot;^1@&quot;,true,536888666]],[&quot;^17&quot;,[4067,&quot;^;&quot;,&quot;~u62e744cd-0e34-4055-ad14-ac653ff7d33e&quot;,536888666]],[&quot;^17&quot;,[4068,&quot;^R&quot;,&quot;结果D是偶数，当且仅当 S是偶数，i.e. 有偶数个红色点的度为奇&quot;,536888760]],[&quot;^17&quot;,[4068,&quot;^P&quot;,&quot;^19&quot;,536888697]],[&quot;^17&quot;,[4068,&quot;^@&quot;,false,536888697]],[&quot;^17&quot;,[4068,&quot;^F&quot;,4063,536888721]],[&quot;^17&quot;,[4068,&quot;^Z&quot;,4041,536888697]],[&quot;^17&quot;,[4068,&quot;^W&quot;,4058,536888721]],[&quot;^17&quot;,[4068,&quot;^V&quot;,4041,536888760]],[&quot;^17&quot;,[4068,&quot;^?&quot;,[&quot;^ &quot;],536888760]],[&quot;^17&quot;,[4068,&quot;^1@&quot;,true,536888697]],[&quot;^17&quot;,[4068,&quot;^;&quot;,&quot;~u62e744d9-6ced-4477-b9f0-8d95ccae1d5f&quot;,536888697]],[&quot;^17&quot;,[4069,&quot;^R&quot;,&quot;遍历可能的红色点数（度为奇），问题能在 $O(N+M)$解决&quot;,536888797]],[&quot;^17&quot;,[4069,&quot;^P&quot;,&quot;^19&quot;,536888761]],[&quot;^17&quot;,[4069,&quot;^@&quot;,false,536888761]],[&quot;^17&quot;,[4069,&quot;^F&quot;,4068,536888761]],[&quot;^17&quot;,[4069,&quot;^Z&quot;,4041,536888761]],[&quot;^17&quot;,[4069,&quot;^W&quot;,4058,536888761]],[&quot;^17&quot;,[4069,&quot;^V&quot;,4041,536888797]],[&quot;^17&quot;,[4069,&quot;^?&quot;,[&quot;^ &quot;],536888797]],[&quot;^17&quot;,[4069,&quot;^1@&quot;,true,536888761]],[&quot;^17&quot;,[4069,&quot;^;&quot;,&quot;~u62e7456f-3486-4c0e-ac48-56e817749d00&quot;,536888761]],[&quot;^17&quot;,[4070,&quot;^R&quot;,&quot;**结果为：统计度数为奇数的点的个数，组合数求解** 最多对多K个点，循环要满足$i &lt;= odd \\\\&amp;\\\\&amp; k - i &lt;= n - odd$&quot;,536888878]],[&quot;^17&quot;,[4070,&quot;^P&quot;,&quot;^19&quot;,536888798]],[&quot;^17&quot;,[4070,&quot;^@&quot;,false,536888798]],[&quot;^17&quot;,[4070,&quot;^F&quot;,4069,536888798]],[&quot;^17&quot;,[4070,&quot;^Z&quot;,4041,536888798]],[&quot;^17&quot;,[4070,&quot;^W&quot;,4058,536888798]],[&quot;^17&quot;,[4070,&quot;^V&quot;,4041,536888878]],[&quot;^17&quot;,[4070,&quot;^?&quot;,[&quot;^ &quot;],536888878]],[&quot;^17&quot;,[4070,&quot;^1@&quot;,true,536888798]],[&quot;^17&quot;,[4070,&quot;^;&quot;,&quot;~u62e745b9-984f-4166-abc9-e772050680ef&quot;,536888798]],[&quot;^17&quot;,[4071,&quot;^R&quot;,&quot;## [F - Erase and Rotate](https://atcoder.jp/contests/abc262/tasks/abc262_f)&quot;,536888887]],[&quot;^17&quot;,[4071,&quot;^P&quot;,&quot;^19&quot;,536888869]],[&quot;^17&quot;,[4071,&quot;^X&quot;,2,536888887]],[&quot;^17&quot;,[4071,&quot;^@&quot;,false,536888869]],[&quot;^17&quot;,[4071,&quot;^F&quot;,4058,536888881]],[&quot;^17&quot;,[4071,&quot;^Z&quot;,4041,536888869]],[&quot;^17&quot;,[4071,&quot;^W&quot;,4041,536888881]],[&quot;^17&quot;,[4071,&quot;^V&quot;,4041,536888887]],[&quot;^17&quot;,[4071,&quot;^?&quot;,[&quot;^ &quot;],536888887]],[&quot;^17&quot;,[4071,&quot;^1&gt;&quot;,2,536888884]],[&quot;^17&quot;,[4071,&quot;^Y&quot;,&quot;^1?&quot;,536888887]],[&quot;^17&quot;,[4071,&quot;^1@&quot;,true,536888869]],[&quot;^17&quot;,[4071,&quot;^;&quot;,&quot;~u62e783ab-8ac5-4991-b351-38e4ec3cc10c&quot;,536888869]],[&quot;^17&quot;,[4072,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n给定一个数字序列，要么删任意一个字符，要么将末尾移到最前面。总共k次操作，要求输出字典顺序最小\\n#+END_QUOTE&quot;,536888903]],[&quot;^17&quot;,[4072,&quot;^P&quot;,&quot;^19&quot;,536888888]],[&quot;^17&quot;,[4072,&quot;^@&quot;,false,536888888]],[&quot;^17&quot;,[4072,&quot;^F&quot;,4071,536888888]],[&quot;^17&quot;,[4072,&quot;^Z&quot;,4041,536888888]],[&quot;^17&quot;,[4072,&quot;^W&quot;,4071,536888888]],[&quot;^17&quot;,[4072,&quot;^V&quot;,4041,536888903]],[&quot;^17&quot;,[4072,&quot;^?&quot;,[&quot;^ &quot;],536888903]],[&quot;^17&quot;,[4072,&quot;^1@&quot;,true,536888888]],[&quot;^17&quot;,[4072,&quot;^;&quot;,&quot;~u62e783d4-cf36-4812-b6a4-053e31371d35&quot;,536888888]],[&quot;^17&quot;,[4073,&quot;^R&quot;,&quot;dp显然难以操作，并且会超时--使用贪心&quot;,536888918]],[&quot;^17&quot;,[4073,&quot;^P&quot;,&quot;^19&quot;,536888906]],[&quot;^17&quot;,[4073,&quot;^@&quot;,false,536888906]],[&quot;^17&quot;,[4073,&quot;^F&quot;,4072,536888906]],[&quot;^17&quot;,[4073,&quot;^Z&quot;,4041,536888906]],[&quot;^17&quot;,[4073,&quot;^W&quot;,4071,536888906]],[&quot;^17&quot;,[4073,&quot;^V&quot;,4041,536888918]],[&quot;^17&quot;,[4073,&quot;^?&quot;,[&quot;^ &quot;],536888918]],[&quot;^17&quot;,[4073,&quot;^1@&quot;,true,536888906]],[&quot;^17&quot;,[4073,&quot;^;&quot;,&quot;~u62e78477-3a2a-4698-b249-09a41712c31d&quot;,536888906]],[&quot;^17&quot;,[4074,&quot;^R&quot;,&quot;一种思路：每次对 P 做处理以下的顺序：&quot;,536888943]],[&quot;^17&quot;,[4074,&quot;^P&quot;,&quot;^19&quot;,536888919]],[&quot;^17&quot;,[4074,&quot;^@&quot;,false,536888919]],[&quot;^17&quot;,[4074,&quot;^F&quot;,4073,536888919]],[&quot;^17&quot;,[4074,&quot;^Z&quot;,4041,536888919]],[&quot;^17&quot;,[4074,&quot;^W&quot;,4071,536888919]],[&quot;^17&quot;,[4074,&quot;^V&quot;,4041,536888943]],[&quot;^17&quot;,[4074,&quot;^?&quot;,[&quot;^ &quot;],536888943]],[&quot;^17&quot;,[4074,&quot;^1@&quot;,true,536888919]],[&quot;^17&quot;,[4074,&quot;^;&quot;,&quot;~u62e7848e-6684-4bee-820a-502d1517d00a&quot;,536888919]],[&quot;^17&quot;,[4075,&quot;^R&quot;,&quot;第一，进行0到更多次翻转&quot;,536888968]],[&quot;^17&quot;,[4075,&quot;^P&quot;,&quot;^19&quot;,536888946]],[&quot;^17&quot;,[4075,&quot;^@&quot;,false,536888946]],[&quot;^17&quot;,[4075,&quot;^F&quot;,4074,536888946]],[&quot;^17&quot;,[4075,&quot;^Z&quot;,4041,536888946]],[&quot;^17&quot;,[4075,&quot;^W&quot;,4074,536888947]],[&quot;^17&quot;,[4075,&quot;^V&quot;,4041,536888968]],[&quot;^17&quot;,[4075,&quot;^?&quot;,[&quot;^ &quot;],536888968]],[&quot;^17&quot;,[4075,&quot;^1@&quot;,true,536888946]],[&quot;^17&quot;,[4075,&quot;^;&quot;,&quot;~u62e78b00-303a-46c6-825c-d978f8cf82ac&quot;,536888946]],[&quot;^17&quot;,[4076,&quot;^R&quot;,&quot;第二，进行0到更多次的删除&quot;,536888987]],[&quot;^17&quot;,[4076,&quot;^P&quot;,&quot;^19&quot;,536888969]],[&quot;^17&quot;,[4076,&quot;^@&quot;,false,536888969]],[&quot;^17&quot;,[4076,&quot;^F&quot;,4075,536888969]],[&quot;^17&quot;,[4076,&quot;^Z&quot;,4041,536888969]],[&quot;^17&quot;,[4076,&quot;^W&quot;,4074,536888969]],[&quot;^17&quot;,[4076,&quot;^V&quot;,4041,536888987]],[&quot;^17&quot;,[4076,&quot;^?&quot;,[&quot;^ &quot;],536888987]],[&quot;^17&quot;,[4076,&quot;^1@&quot;,true,536888969]],[&quot;^17&quot;,[4076,&quot;^;&quot;,&quot;~u62e78b0d-5109-4ba0-a313-4a4bb60f2c9a&quot;,536888969]],[&quot;^17&quot;,[4077,&quot;^R&quot;,&quot;通过这个过程，我们可以将删除与旋转操作合并，**一个数选择后，再删除相当于直接删除**。 这是 $O(N^2logN)$ 复杂度的&quot;,536889085]],[&quot;^17&quot;,[4077,&quot;^P&quot;,&quot;^19&quot;,536888990]],[&quot;^17&quot;,[4077,&quot;^@&quot;,false,536888990]],[&quot;^17&quot;,[4077,&quot;^F&quot;,4076,536888994]],[&quot;^17&quot;,[4077,&quot;^Z&quot;,4041,536888990]],[&quot;^17&quot;,[4077,&quot;^W&quot;,4074,536888994]],[&quot;^17&quot;,[4077,&quot;^V&quot;,4041,536889085]],[&quot;^17&quot;,[4077,&quot;^?&quot;,[&quot;^ &quot;],536889085]],[&quot;^17&quot;,[4077,&quot;^1@&quot;,true,536888990]],[&quot;^17&quot;,[4077,&quot;^;&quot;,&quot;~u62e78b20-5a8f-4ce1-b92a-3fb20ba0af9b&quot;,536888990]],[&quot;^17&quot;,[4078,&quot;^R&quot;,&quot;## [G - LIS with Stack](https://atcoder.jp/contests/abc262/tasks/abc262_g)&quot;,536889328]],[&quot;^17&quot;,[4078,&quot;^P&quot;,&quot;^19&quot;,536889082]],[&quot;^17&quot;,[4078,&quot;^X&quot;,2,536889328]],[&quot;^17&quot;,[4078,&quot;^@&quot;,false,536889082]],[&quot;^17&quot;,[4078,&quot;^F&quot;,4071,536889322]],[&quot;^17&quot;,[4078,&quot;^Z&quot;,4041,536889082]],[&quot;^17&quot;,[4078,&quot;^W&quot;,4041,536889322]],[&quot;^17&quot;,[4078,&quot;^V&quot;,4041,536889328]],[&quot;^17&quot;,[4078,&quot;^?&quot;,[&quot;^ &quot;],536889328]],[&quot;^17&quot;,[4078,&quot;^1&gt;&quot;,2,536889325]],[&quot;^17&quot;,[4078,&quot;^Y&quot;,&quot;^1?&quot;,536889328]],[&quot;^17&quot;,[4078,&quot;^1@&quot;,true,536889082]],[&quot;^17&quot;,[4078,&quot;^;&quot;,&quot;~u62e78b83-660c-4f37-8329-5f63193c442c&quot;,536889082]],[&quot;^17&quot;,[4079,&quot;^R&quot;,&quot;改良：使用线段树能将复杂度降低到 $O(NlogN)$, 使用 “最小值滑动窗口”来减少复杂度到$O(N)$&quot;,536889158]],[&quot;^17&quot;,[4079,&quot;^P&quot;,&quot;^19&quot;,536889086]],[&quot;^17&quot;,[4079,&quot;^@&quot;,false,536889086]],[&quot;^17&quot;,[4079,&quot;^F&quot;,4077,536889086]],[&quot;^17&quot;,[4079,&quot;^Z&quot;,4041,536889086]],[&quot;^17&quot;,[4079,&quot;^W&quot;,4074,536889086]],[&quot;^17&quot;,[4079,&quot;^V&quot;,4041,536889158]],[&quot;^17&quot;,[4079,&quot;^?&quot;,[&quot;^ &quot;],536889158]],[&quot;^17&quot;,[4079,&quot;^1@&quot;,true,536889086]],[&quot;^17&quot;,[4079,&quot;^;&quot;,&quot;~u62e78b88-4362-4022-b3c5-e9f71e4e8570&quot;,536889086]],[&quot;^17&quot;,[4080,&quot;^R&quot;,&quot;思路二：我们定义 lead 项现在到位置是 pos[lead]，旋转或者不旋转&quot;,536889192]],[&quot;^17&quot;,[4080,&quot;^P&quot;,&quot;^19&quot;,536889159]],[&quot;^17&quot;,[4080,&quot;^@&quot;,false,536889159]],[&quot;^17&quot;,[4080,&quot;^F&quot;,4074,536889162]],[&quot;^17&quot;,[4080,&quot;^Z&quot;,4041,536889159]],[&quot;^17&quot;,[4080,&quot;^W&quot;,4071,536889162]],[&quot;^17&quot;,[4080,&quot;^V&quot;,4041,536889192]],[&quot;^17&quot;,[4080,&quot;^?&quot;,[&quot;^ &quot;],536889192]],[&quot;^17&quot;,[4080,&quot;^1@&quot;,true,536889159]],[&quot;^17&quot;,[4080,&quot;^;&quot;,&quot;~u62e78bd6-964a-4d7c-84a2-84e6e670add1&quot;,536889159]],[&quot;^17&quot;,[4081,&quot;^R&quot;,&quot;不旋转：找到 k 步能到达的最小值，删除使他靠前，还剩 k - pos[k] 步，维护一个单调栈。&quot;,536889242]],[&quot;^17&quot;,[4081,&quot;^P&quot;,&quot;^19&quot;,536889193]],[&quot;^17&quot;,[4081,&quot;^@&quot;,false,536889193]],[&quot;^17&quot;,[4081,&quot;^F&quot;,4080,536889193]],[&quot;^17&quot;,[4081,&quot;^Z&quot;,4041,536889193]],[&quot;^17&quot;,[4081,&quot;^W&quot;,4080,536889193]],[&quot;^17&quot;,[4081,&quot;^V&quot;,4041,536889242]],[&quot;^17&quot;,[4081,&quot;^?&quot;,[&quot;^ &quot;],536889242]],[&quot;^17&quot;,[4081,&quot;^1@&quot;,true,536889193]],[&quot;^17&quot;,[4081,&quot;^;&quot;,&quot;~u62e79728-9dd4-4646-8540-763a823266d9&quot;,536889193]],[&quot;^17&quot;,[4082,&quot;^R&quot;,&quot;旋转：找到 n - pos[lead] 步能找到的最小值，先把它换到最前。之后删除，注意：已经转过的删除不消耗次数。&quot;,536889288]],[&quot;^17&quot;,[4082,&quot;^P&quot;,&quot;^19&quot;,536889243]],[&quot;^17&quot;,[4082,&quot;^@&quot;,false,536889243]],[&quot;^17&quot;,[4082,&quot;^F&quot;,4081,536889243]],[&quot;^17&quot;,[4082,&quot;^Z&quot;,4041,536889243]],[&quot;^17&quot;,[4082,&quot;^W&quot;,4080,536889243]],[&quot;^17&quot;,[4082,&quot;^V&quot;,4041,536889288]],[&quot;^17&quot;,[4082,&quot;^?&quot;,[&quot;^ &quot;],536889288]],[&quot;^17&quot;,[4082,&quot;^1@&quot;,true,536889243]],[&quot;^17&quot;,[4082,&quot;^;&quot;,&quot;~u62e797fd-6a91-4412-ad4b-afa5071d1ad1&quot;,536889243]],[&quot;^17&quot;,[4083,&quot;^R&quot;,&quot;本质上：思路二是思路一的优化，更直观；思路一的优化很难想到&quot;,536889312]],[&quot;^17&quot;,[4083,&quot;^P&quot;,&quot;^19&quot;,536889291]],[&quot;^17&quot;,[4083,&quot;^@&quot;,false,536889291]],[&quot;^17&quot;,[4083,&quot;^F&quot;,4082,536889291]],[&quot;^17&quot;,[4083,&quot;^Z&quot;,4041,536889291]],[&quot;^17&quot;,[4083,&quot;^W&quot;,4080,536889291]],[&quot;^17&quot;,[4083,&quot;^V&quot;,4041,536889312]],[&quot;^17&quot;,[4083,&quot;^?&quot;,[&quot;^ &quot;],536889312]],[&quot;^17&quot;,[4083,&quot;^1@&quot;,true,536889291]],[&quot;^17&quot;,[4083,&quot;^;&quot;,&quot;~u62e79850-1e23-4e65-bf17-d99f9bd4e024&quot;,536889291]],[&quot;^17&quot;,[4084,&quot;^R&quot;,&quot;TODO 补题&quot;,536889338]],[&quot;^17&quot;,[4084,&quot;^P&quot;,&quot;^19&quot;,536889329]],[&quot;^17&quot;,[4084,&quot;^@&quot;,false,536889329]],[&quot;^17&quot;,[4084,&quot;^F&quot;,4078,536889329]],[&quot;^17&quot;,[4084,&quot;^12&quot;,&quot;TODO&quot;,536889338]],[&quot;^17&quot;,[4084,&quot;^Z&quot;,4041,536889329]],[&quot;^17&quot;,[4084,&quot;^W&quot;,4078,536889329]],[&quot;^17&quot;,[4084,&quot;^V&quot;,4,536889338]],[&quot;^17&quot;,[4084,&quot;^V&quot;,4041,536889338]],[&quot;^17&quot;,[4084,&quot;^?&quot;,[&quot;^ &quot;],536889338]],[&quot;^17&quot;,[4084,&quot;^H&quot;,4,536889338]],[&quot;^17&quot;,[4084,&quot;^1@&quot;,true,536889329]],[&quot;^17&quot;,[4084,&quot;^;&quot;,&quot;~u62e79896-ae60-4fb3-a9a5-512cc5e9ae25&quot;,536889329]],[&quot;^17&quot;,[4085,&quot;^R&quot;,&quot;[[codeforces-round811-div3]]&quot;,536889354]],[&quot;^17&quot;,[4085,&quot;^P&quot;,&quot;^19&quot;,536889342]],[&quot;^17&quot;,[4085,&quot;^@&quot;,false,536889342]],[&quot;^17&quot;,[4085,&quot;^F&quot;,3672,536889342]],[&quot;^17&quot;,[4085,&quot;^Z&quot;,3543,536889342]],[&quot;^17&quot;,[4085,&quot;^W&quot;,3543,536889342]],[&quot;^17&quot;,[4085,&quot;^V&quot;,3543,536889354]],[&quot;^17&quot;,[4085,&quot;^V&quot;,4087,536889354]],[&quot;^17&quot;,[4085,&quot;^?&quot;,[&quot;^ &quot;],536889354]],[&quot;^17&quot;,[4085,&quot;^H&quot;,4087,536889354]],[&quot;^17&quot;,[4085,&quot;^1@&quot;,true,536889342]],[&quot;^17&quot;,[4085,&quot;^;&quot;,&quot;~u62e7e40e-aa1e-40b7-ae23-ce0c30e71a01&quot;,536889342]],[&quot;^17&quot;,[4087,&quot;^L&quot;,1659364398541,536889354]],[&quot;^17&quot;,[4087,&quot;^P&quot;,&quot;^19&quot;,536889358]],[&quot;^17&quot;,[4087,&quot;^@&quot;,false,536889354]],[&quot;^17&quot;,[4087,&quot;^[&quot;,&quot;codeforces-round811-div3&quot;,536889354]],[&quot;^17&quot;,[4087,&quot;^13&quot;,&quot;codeforces-round811-div3&quot;,536889354]],[&quot;^17&quot;,[4087,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896129]],[&quot;^17&quot;,[4087,&quot;^B&quot;,1659407880339,536890365]],[&quot;^17&quot;,[4087,&quot;^;&quot;,&quot;~u62e7e42e-7dcd-4ec1-b888-ba1c60ba3ece&quot;,536889354]],[&quot;^17&quot;,[4088,&quot;^R&quot;,&quot;&quot;,536889355]],[&quot;^17&quot;,[4088,&quot;^P&quot;,&quot;^19&quot;,536889355]],[&quot;^17&quot;,[4088,&quot;^@&quot;,false,536889355]],[&quot;^17&quot;,[4088,&quot;^F&quot;,4085,536889355]],[&quot;^17&quot;,[4088,&quot;^Z&quot;,3543,536889355]],[&quot;^17&quot;,[4088,&quot;^W&quot;,3543,536889355]],[&quot;^17&quot;,[4088,&quot;^V&quot;,3543,536889355]],[&quot;^17&quot;,[4088,&quot;^?&quot;,[&quot;^ &quot;],536889355]],[&quot;^17&quot;,[4088,&quot;^1@&quot;,true,536889355]],[&quot;^17&quot;,[4088,&quot;^;&quot;,&quot;~u62e7e42e-513a-4eba-9e2e-09d513090cbb&quot;,536889355]],[&quot;^17&quot;,[4089,&quot;^R&quot;,&quot;## [Problem - A - Codeforces](https://codeforces.com/contest/1714/problem/A)&quot;,536889362]],[&quot;^17&quot;,[4089,&quot;^P&quot;,&quot;^19&quot;,536889359]],[&quot;^17&quot;,[4089,&quot;^X&quot;,2,536889362]],[&quot;^17&quot;,[4089,&quot;^@&quot;,false,536889359]],[&quot;^17&quot;,[4089,&quot;^F&quot;,4437,536896129]],[&quot;^17&quot;,[4089,&quot;^Z&quot;,4087,536889359]],[&quot;^17&quot;,[4089,&quot;^W&quot;,4087,536889359]],[&quot;^17&quot;,[4089,&quot;^V&quot;,4087,536889362]],[&quot;^17&quot;,[4089,&quot;^?&quot;,[&quot;^ &quot;],536889362]],[&quot;^17&quot;,[4089,&quot;^1&gt;&quot;,2,536889361]],[&quot;^17&quot;,[4089,&quot;^Y&quot;,&quot;^1?&quot;,536889362]],[&quot;^17&quot;,[4089,&quot;^1@&quot;,true,536889359]],[&quot;^17&quot;,[4089,&quot;^;&quot;,&quot;~u62e7e430-a4a5-405b-adcd-9ab1aba3ca8d&quot;,536889359]],[&quot;^17&quot;,[4090,&quot;^R&quot;,&quot;## [Problem - B - Codeforces](https://codeforces.com/contest/1714/problem/B)&quot;,536889389]],[&quot;^17&quot;,[4090,&quot;^P&quot;,&quot;^19&quot;,536889363]],[&quot;^17&quot;,[4090,&quot;^X&quot;,2,536889389]],[&quot;^17&quot;,[4090,&quot;^@&quot;,false,536889363]],[&quot;^17&quot;,[4090,&quot;^F&quot;,4089,536889363]],[&quot;^17&quot;,[4090,&quot;^Z&quot;,4087,536889363]],[&quot;^17&quot;,[4090,&quot;^W&quot;,4087,536889383]],[&quot;^17&quot;,[4090,&quot;^V&quot;,4087,536889389]],[&quot;^17&quot;,[4090,&quot;^?&quot;,[&quot;^ &quot;],536889389]],[&quot;^17&quot;,[4090,&quot;^1&gt;&quot;,2,536889386]],[&quot;^17&quot;,[4090,&quot;^Y&quot;,&quot;^1?&quot;,536889389]],[&quot;^17&quot;,[4090,&quot;^1@&quot;,true,536889363]],[&quot;^17&quot;,[4090,&quot;^;&quot;,&quot;~u62e7e4c2-5628-49f7-8aed-d2c127390a22&quot;,536889363]],[&quot;^17&quot;,[4092,&quot;^14&quot;,1,536889373]],[&quot;^17&quot;,[4097,&quot;^R&quot;,&quot;两道签到题&quot;,536889398]],[&quot;^17&quot;,[4097,&quot;^P&quot;,&quot;^19&quot;,536889392]],[&quot;^17&quot;,[4097,&quot;^@&quot;,false,536889392]],[&quot;^17&quot;,[4097,&quot;^F&quot;,4090,536889392]],[&quot;^17&quot;,[4097,&quot;^Z&quot;,4087,536889392]],[&quot;^17&quot;,[4097,&quot;^W&quot;,4090,536889395]],[&quot;^17&quot;,[4097,&quot;^V&quot;,4087,536889398]],[&quot;^17&quot;,[4097,&quot;^?&quot;,[&quot;^ &quot;],536889398]],[&quot;^17&quot;,[4097,&quot;^1@&quot;,true,536889392]],[&quot;^17&quot;,[4097,&quot;^;&quot;,&quot;~u62e880f8-88d7-4281-96c7-544eaa11e1e3&quot;,536889392]],[&quot;^17&quot;,[4098,&quot;^R&quot;,&quot;## [Problem - C - Codeforces](https://codeforces.com/contest/1714/problem/C)&quot;,536889408]],[&quot;^17&quot;,[4098,&quot;^P&quot;,&quot;^19&quot;,536889399]],[&quot;^17&quot;,[4098,&quot;^X&quot;,2,536889408]],[&quot;^17&quot;,[4098,&quot;^@&quot;,false,536889399]],[&quot;^17&quot;,[4098,&quot;^F&quot;,4090,536889402]],[&quot;^17&quot;,[4098,&quot;^Z&quot;,4087,536889399]],[&quot;^17&quot;,[4098,&quot;^W&quot;,4087,536889402]],[&quot;^17&quot;,[4098,&quot;^V&quot;,4087,536889408]],[&quot;^17&quot;,[4098,&quot;^?&quot;,[&quot;^ &quot;],536889408]],[&quot;^17&quot;,[4098,&quot;^1&gt;&quot;,2,536889405]],[&quot;^17&quot;,[4098,&quot;^Y&quot;,&quot;^1?&quot;,536889408]],[&quot;^17&quot;,[4098,&quot;^1@&quot;,true,536889399]],[&quot;^17&quot;,[4098,&quot;^;&quot;,&quot;~u62e88101-f482-4f77-8741-b76c346c9ca7&quot;,536889399]],[&quot;^17&quot;,[4099,&quot;^R&quot;,&quot;也是签到题，但我打表居然错了。后改用正确方法对了&quot;,536889433]],[&quot;^17&quot;,[4099,&quot;^P&quot;,&quot;^19&quot;,536889409]],[&quot;^17&quot;,[4099,&quot;^@&quot;,false,536889409]],[&quot;^17&quot;,[4099,&quot;^F&quot;,4098,536889409]],[&quot;^17&quot;,[4099,&quot;^Z&quot;,4087,536889409]],[&quot;^17&quot;,[4099,&quot;^W&quot;,4098,536889412]],[&quot;^17&quot;,[4099,&quot;^V&quot;,4087,536889433]],[&quot;^17&quot;,[4099,&quot;^?&quot;,[&quot;^ &quot;],536889433]],[&quot;^17&quot;,[4099,&quot;^1@&quot;,true,536889409]],[&quot;^17&quot;,[4099,&quot;^;&quot;,&quot;~u62e8810f-3e95-468d-9f29-557d5b1cb88e&quot;,536889409]],[&quot;^17&quot;,[4101,&quot;^R&quot;,&quot;## [Problem - D - Codeforces](https://codeforces.com/contest/1714/problem/D)&quot;,536889443]],[&quot;^17&quot;,[4101,&quot;^P&quot;,&quot;^19&quot;,536889434]],[&quot;^17&quot;,[4101,&quot;^X&quot;,2,536889443]],[&quot;^17&quot;,[4101,&quot;^@&quot;,false,536889434]],[&quot;^17&quot;,[4101,&quot;^F&quot;,4098,536889435]],[&quot;^17&quot;,[4101,&quot;^Z&quot;,4087,536889434]],[&quot;^17&quot;,[4101,&quot;^W&quot;,4087,536889435]],[&quot;^17&quot;,[4101,&quot;^V&quot;,4087,536889443]],[&quot;^17&quot;,[4101,&quot;^?&quot;,[&quot;^ &quot;],536889443]],[&quot;^17&quot;,[4101,&quot;^1&gt;&quot;,2,536889443]],[&quot;^17&quot;,[4101,&quot;^Y&quot;,&quot;^1?&quot;,536889443]],[&quot;^17&quot;,[4101,&quot;^1@&quot;,true,536889434]],[&quot;^17&quot;,[4101,&quot;^;&quot;,&quot;~u62e88126-4010-466e-a087-e6220b5be452&quot;,536889434]],[&quot;^17&quot;,[4102,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n题意：You are given a string called $t$ and a set of $n$ strings $s_1,s_2,....,s_n$. In one step, you can choose any string $s_i$ in the text $t$ then paint to red. Determine the minimum number of steps needed to color all letters $t$ in the red and how to do it. If it is impossible to color all letters of $t$ in red, output -1. \\n#+END_QUOTE&quot;,536889803]],[&quot;^17&quot;,[4102,&quot;^P&quot;,&quot;^19&quot;,536889439]],[&quot;^17&quot;,[4102,&quot;^@&quot;,false,536889439]],[&quot;^17&quot;,[4102,&quot;^F&quot;,4101,536889439]],[&quot;^17&quot;,[4102,&quot;^Z&quot;,4087,536889439]],[&quot;^17&quot;,[4102,&quot;^W&quot;,4101,536889440]],[&quot;^17&quot;,[4102,&quot;^V&quot;,4087,536889803]],[&quot;^17&quot;,[4102,&quot;^?&quot;,[&quot;^ &quot;],536889803]],[&quot;^17&quot;,[4102,&quot;^1@&quot;,true,536889439]],[&quot;^17&quot;,[4102,&quot;^;&quot;,&quot;~u62e8813b-9f11-4665-be31-21fbae44e893&quot;,536889439]],[&quot;^17&quot;,[4103,&quot;^R&quot;,&quot;主要关注个位:&quot;,536890191]],[&quot;^17&quot;,[4103,&quot;^P&quot;,&quot;^19&quot;,536889570]],[&quot;^17&quot;,[4103,&quot;^@&quot;,false,536889570]],[&quot;^17&quot;,[4103,&quot;^F&quot;,4106,536889830]],[&quot;^17&quot;,[4103,&quot;^Z&quot;,4087,536889570]],[&quot;^17&quot;,[4103,&quot;^W&quot;,4105,536889823]],[&quot;^17&quot;,[4103,&quot;^V&quot;,4087,536890191]],[&quot;^17&quot;,[4103,&quot;^?&quot;,[&quot;^ &quot;],536890191]],[&quot;^17&quot;,[4103,&quot;^1@&quot;,true,536889570]],[&quot;^17&quot;,[4103,&quot;^;&quot;,&quot;~u62e8818f-b4b6-455d-beb0-ff5f39140c35&quot;,536889570]],[&quot;^17&quot;,[4104,&quot;^R&quot;,&quot;使用dp，如果数据范围大要用ac自动机(不会)&quot;,536889817]],[&quot;^17&quot;,[4104,&quot;^P&quot;,&quot;^19&quot;,536889804]],[&quot;^17&quot;,[4104,&quot;^@&quot;,false,536889804]],[&quot;^17&quot;,[4104,&quot;^F&quot;,4102,536889804]],[&quot;^17&quot;,[4104,&quot;^Z&quot;,4087,536889804]],[&quot;^17&quot;,[4104,&quot;^W&quot;,4101,536889804]],[&quot;^17&quot;,[4104,&quot;^V&quot;,4087,536889817]],[&quot;^17&quot;,[4104,&quot;^?&quot;,[&quot;^ &quot;],536889817]],[&quot;^17&quot;,[4104,&quot;^1@&quot;,true,536889804]],[&quot;^17&quot;,[4104,&quot;^;&quot;,&quot;~u62e8828b-abce-43c2-a7a9-0d5ace18aeeb&quot;,536889804]],[&quot;^17&quot;,[4105,&quot;^R&quot;,&quot;## [Problem - E - Codeforces](https://codeforces.com/contest/1714/problem/E)&quot;,536889827]],[&quot;^17&quot;,[4105,&quot;^P&quot;,&quot;^19&quot;,536889820]],[&quot;^17&quot;,[4105,&quot;^X&quot;,2,536889827]],[&quot;^17&quot;,[4105,&quot;^@&quot;,false,536889820]],[&quot;^17&quot;,[4105,&quot;^F&quot;,4101,536889823]],[&quot;^17&quot;,[4105,&quot;^Z&quot;,4087,536889820]],[&quot;^17&quot;,[4105,&quot;^W&quot;,4087,536889823]],[&quot;^17&quot;,[4105,&quot;^V&quot;,4087,536889827]],[&quot;^17&quot;,[4105,&quot;^?&quot;,[&quot;^ &quot;],536889827]],[&quot;^17&quot;,[4105,&quot;^1&gt;&quot;,2,536889826]],[&quot;^17&quot;,[4105,&quot;^Y&quot;,&quot;^1?&quot;,536889827]],[&quot;^17&quot;,[4105,&quot;^1@&quot;,true,536889820]],[&quot;^17&quot;,[4105,&quot;^;&quot;,&quot;~u62e8866d-1cf4-4b29-a22d-58f789e04f9a&quot;,536889820]],[&quot;^17&quot;,[4106,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\nYou are given an array of $n$ integers $a_1,a_2,...,a_n$. You can apply the following operation an arbitrary number of times:\\n--- select a number $a_i$ and replace the value of the element with the value $a_i + (a_i \\\\bmod10)$\\nCheck if it is possible to make **all** arrary elements equal by applying multiple (possibly zero)\\n#+END_QUOTE&quot;,536890182]],[&quot;^17&quot;,[4106,&quot;^P&quot;,&quot;^19&quot;,536889830]],[&quot;^17&quot;,[4106,&quot;^@&quot;,false,536889830]],[&quot;^17&quot;,[4106,&quot;^F&quot;,4105,536889830]],[&quot;^17&quot;,[4106,&quot;^Z&quot;,4087,536889830]],[&quot;^17&quot;,[4106,&quot;^W&quot;,4105,536889830]],[&quot;^17&quot;,[4106,&quot;^V&quot;,4087,536890182]],[&quot;^17&quot;,[4106,&quot;^?&quot;,[&quot;^ &quot;],536890182]],[&quot;^17&quot;,[4106,&quot;^1@&quot;,true,536889830]],[&quot;^17&quot;,[4106,&quot;^;&quot;,&quot;~u62e88801-8533-4714-882e-35001e669248&quot;,536889830]],[&quot;^17&quot;,[4107,&quot;^R&quot;,&quot;个位为0: 不变&quot;,536890208]],[&quot;^17&quot;,[4107,&quot;^P&quot;,&quot;^19&quot;,536890192]],[&quot;^17&quot;,[4107,&quot;^@&quot;,false,536890192]],[&quot;^17&quot;,[4107,&quot;^F&quot;,4103,536890192]],[&quot;^17&quot;,[4107,&quot;^Z&quot;,4087,536890192]],[&quot;^17&quot;,[4107,&quot;^W&quot;,4103,536890193]],[&quot;^17&quot;,[4107,&quot;^V&quot;,4087,536890208]],[&quot;^17&quot;,[4107,&quot;^?&quot;,[&quot;^ &quot;],536890208]],[&quot;^17&quot;,[4107,&quot;^1@&quot;,true,536890192]],[&quot;^17&quot;,[4107,&quot;^;&quot;,&quot;~u62e8896b-fc66-4f36-b95e-01cafb7713c1&quot;,536890192]],[&quot;^17&quot;,[4108,&quot;^R&quot;,&quot;个位为奇数-&gt;乘二变成偶数&quot;,536890236]],[&quot;^17&quot;,[4108,&quot;^P&quot;,&quot;^19&quot;,536890209]],[&quot;^17&quot;,[4108,&quot;^@&quot;,false,536890209]],[&quot;^17&quot;,[4108,&quot;^F&quot;,4107,536890209]],[&quot;^17&quot;,[4108,&quot;^Z&quot;,4087,536890209]],[&quot;^17&quot;,[4108,&quot;^W&quot;,4103,536890209]],[&quot;^17&quot;,[4108,&quot;^V&quot;,4087,536890236]],[&quot;^17&quot;,[4108,&quot;^?&quot;,[&quot;^ &quot;],536890236]],[&quot;^17&quot;,[4108,&quot;^1@&quot;,true,536890209]],[&quot;^17&quot;,[4108,&quot;^;&quot;,&quot;~u62e8897c-e830-4e9c-bd80-5eaa715bd1db&quot;,536890209]],[&quot;^17&quot;,[4109,&quot;^R&quot;,&quot;个位为: 2 4 6 8: -&gt; 4 8 12 16 -&gt; 可以发现个位都是(2,4,8)且十位相同或差二的倍数的数等价；而个位为6能转化到(2,4,8)情况&quot;,536890349]],[&quot;^17&quot;,[4109,&quot;^P&quot;,&quot;^19&quot;,536890237]],[&quot;^17&quot;,[4109,&quot;^@&quot;,false,536890237]],[&quot;^17&quot;,[4109,&quot;^F&quot;,4108,536890237]],[&quot;^17&quot;,[4109,&quot;^Z&quot;,4087,536890237]],[&quot;^17&quot;,[4109,&quot;^W&quot;,4103,536890237]],[&quot;^17&quot;,[4109,&quot;^V&quot;,4087,536890349]],[&quot;^17&quot;,[4109,&quot;^?&quot;,[&quot;^ &quot;],536890349]],[&quot;^17&quot;,[4109,&quot;^1@&quot;,true,536890237]],[&quot;^17&quot;,[4109,&quot;^;&quot;,&quot;~u62e88999-e2fc-443b-9c68-779b9e61c94b&quot;,536890237]],[&quot;^17&quot;,[4110,&quot;^R&quot;,&quot;根据此将所有数分为三类，最后检查一下是否都是同类&quot;,536890365]],[&quot;^17&quot;,[4110,&quot;^P&quot;,&quot;^19&quot;,536890350]],[&quot;^17&quot;,[4110,&quot;^@&quot;,false,536890350]],[&quot;^17&quot;,[4110,&quot;^F&quot;,4103,536890353]],[&quot;^17&quot;,[4110,&quot;^Z&quot;,4087,536890350]],[&quot;^17&quot;,[4110,&quot;^W&quot;,4105,536890353]],[&quot;^17&quot;,[4110,&quot;^V&quot;,4087,536890365]],[&quot;^17&quot;,[4110,&quot;^?&quot;,[&quot;^ &quot;],536890365]],[&quot;^17&quot;,[4110,&quot;^1@&quot;,true,536890350]],[&quot;^17&quot;,[4110,&quot;^;&quot;,&quot;~u62e88dde-c74c-48c1-97ea-529541004add&quot;,536890350]],[&quot;^17&quot;,[4111,&quot;^R&quot;,&quot;&quot;,536890366]],[&quot;^17&quot;,[4111,&quot;^P&quot;,&quot;^19&quot;,536890366]],[&quot;^17&quot;,[4111,&quot;^@&quot;,false,536890366]],[&quot;^17&quot;,[4111,&quot;^F&quot;,4105,536890369]],[&quot;^17&quot;,[4111,&quot;^Z&quot;,4087,536890366]],[&quot;^17&quot;,[4111,&quot;^W&quot;,4087,536890369]],[&quot;^17&quot;,[4111,&quot;^V&quot;,4087,536890366]],[&quot;^17&quot;,[4111,&quot;^?&quot;,[&quot;^ &quot;],536890366]],[&quot;^17&quot;,[4111,&quot;^1@&quot;,true,536890366]],[&quot;^17&quot;,[4111,&quot;^;&quot;,&quot;~u62e88e08-97eb-4477-98d8-be154aba4674&quot;,536890366]],[&quot;^17&quot;,[4112,&quot;^14&quot;,1,536890375]],[&quot;^17&quot;,[4117,&quot;^14&quot;,1,536890408]],[&quot;^17&quot;,[4122,&quot;^14&quot;,1,536890422]],[&quot;^17&quot;,[4127,&quot;^L&quot;,1659789985132,536890434]],[&quot;^17&quot;,[4127,&quot;^P&quot;,&quot;^19&quot;,536890443]],[&quot;^17&quot;,[4127,&quot;^@&quot;,false,536890434]],[&quot;^17&quot;,[4127,&quot;^[&quot;,&quot;beginner contest 263&quot;,536890434]],[&quot;^17&quot;,[4127,&quot;^13&quot;,&quot;beginner contest 263&quot;,536890434]],[&quot;^17&quot;,[4127,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896138]],[&quot;^17&quot;,[4127,&quot;^B&quot;,1659794003229,536890859]],[&quot;^17&quot;,[4127,&quot;^;&quot;,&quot;~u62ee62a1-3139-4c35-80e2-e14359cd84a6&quot;,536890434]],[&quot;^17&quot;,[4129,&quot;^R&quot;,&quot;&quot;,536890440]],[&quot;^17&quot;,[4129,&quot;^P&quot;,&quot;^19&quot;,536890440]],[&quot;^17&quot;,[4129,&quot;^@&quot;,false,536890440]],[&quot;^17&quot;,[4129,&quot;^F&quot;,4045,536890440]],[&quot;^17&quot;,[4129,&quot;^Z&quot;,3541,536890440]],[&quot;^17&quot;,[4129,&quot;^W&quot;,3541,536890440]],[&quot;^17&quot;,[4129,&quot;^V&quot;,3541,536890440]],[&quot;^17&quot;,[4129,&quot;^?&quot;,[&quot;^ &quot;],536890440]],[&quot;^17&quot;,[4129,&quot;^1@&quot;,true,536890440]],[&quot;^17&quot;,[4129,&quot;^;&quot;,&quot;~u62ee62ad-8f43-47c0-ae9a-c19c7a47424b&quot;,536890440]],[&quot;^17&quot;,[4130,&quot;^R&quot;,&quot;## [A - Full House](https://atcoder.jp/contests/abc263/tasks/abc263_a)&quot;,536890450]],[&quot;^17&quot;,[4130,&quot;^P&quot;,&quot;^19&quot;,536890444]],[&quot;^17&quot;,[4130,&quot;^X&quot;,2,536890450]],[&quot;^17&quot;,[4130,&quot;^@&quot;,false,536890444]],[&quot;^17&quot;,[4130,&quot;^F&quot;,4438,536896138]],[&quot;^17&quot;,[4130,&quot;^Z&quot;,4127,536890444]],[&quot;^17&quot;,[4130,&quot;^W&quot;,4127,536890444]],[&quot;^17&quot;,[4130,&quot;^V&quot;,4127,536890450]],[&quot;^17&quot;,[4130,&quot;^?&quot;,[&quot;^ &quot;],536890450]],[&quot;^17&quot;,[4130,&quot;^1&gt;&quot;,2,536890446]],[&quot;^17&quot;,[4130,&quot;^Y&quot;,&quot;^1?&quot;,536890450]],[&quot;^17&quot;,[4130,&quot;^1@&quot;,true,536890444]],[&quot;^17&quot;,[4130,&quot;^;&quot;,&quot;~u62ee62ae-b808-4a82-80f7-e80a35367acf&quot;,536890444]],[&quot;^17&quot;,[4132,&quot;^R&quot;,&quot;非常简单，但代码不知道怎么最简&quot;,536890460]],[&quot;^17&quot;,[4132,&quot;^P&quot;,&quot;^19&quot;,536890451]],[&quot;^17&quot;,[4132,&quot;^@&quot;,false,536890451]],[&quot;^17&quot;,[4132,&quot;^F&quot;,4130,536890451]],[&quot;^17&quot;,[4132,&quot;^Z&quot;,4127,536890451]],[&quot;^17&quot;,[4132,&quot;^W&quot;,4130,536890454]],[&quot;^17&quot;,[4132,&quot;^V&quot;,4127,536890460]],[&quot;^17&quot;,[4132,&quot;^?&quot;,[&quot;^ &quot;],536890460]],[&quot;^17&quot;,[4132,&quot;^1@&quot;,true,536890451]],[&quot;^17&quot;,[4132,&quot;^;&quot;,&quot;~u62ee62e3-ec51-4179-9312-e1e5358a8a22&quot;,536890451]],[&quot;^17&quot;,[4133,&quot;^R&quot;,&quot;## [B - Ancestor](https://atcoder.jp/contests/abc263/tasks/abc263_b)&quot;,536890470]],[&quot;^17&quot;,[4133,&quot;^P&quot;,&quot;^19&quot;,536890461]],[&quot;^17&quot;,[4133,&quot;^X&quot;,2,536890470]],[&quot;^17&quot;,[4133,&quot;^@&quot;,false,536890461]],[&quot;^17&quot;,[4133,&quot;^F&quot;,4130,536890462]],[&quot;^17&quot;,[4133,&quot;^Z&quot;,4127,536890461]],[&quot;^17&quot;,[4133,&quot;^W&quot;,4127,536890462]],[&quot;^17&quot;,[4133,&quot;^V&quot;,4127,536890470]],[&quot;^17&quot;,[4133,&quot;^?&quot;,[&quot;^ &quot;],536890470]],[&quot;^17&quot;,[4133,&quot;^1&gt;&quot;,2,536890467]],[&quot;^17&quot;,[4133,&quot;^Y&quot;,&quot;^1?&quot;,536890470]],[&quot;^17&quot;,[4133,&quot;^1@&quot;,true,536890461]],[&quot;^17&quot;,[4133,&quot;^;&quot;,&quot;~u62ee62f4-2faa-4704-bae4-182d20b1a1c2&quot;,536890461]],[&quot;^17&quot;,[4134,&quot;^R&quot;,&quot;使用并查集&quot;,536890477]],[&quot;^17&quot;,[4134,&quot;^P&quot;,&quot;^19&quot;,536890471]],[&quot;^17&quot;,[4134,&quot;^@&quot;,false,536890471]],[&quot;^17&quot;,[4134,&quot;^F&quot;,4133,536890471]],[&quot;^17&quot;,[4134,&quot;^Z&quot;,4127,536890471]],[&quot;^17&quot;,[4134,&quot;^W&quot;,4133,536890474]],[&quot;^17&quot;,[4134,&quot;^V&quot;,4127,536890477]],[&quot;^17&quot;,[4134,&quot;^?&quot;,[&quot;^ &quot;],536890477]],[&quot;^17&quot;,[4134,&quot;^1@&quot;,true,536890471]],[&quot;^17&quot;,[4134,&quot;^;&quot;,&quot;~u62ee62fd-fe52-467c-9356-b7ebc409d514&quot;,536890471]],[&quot;^17&quot;,[4135,&quot;^R&quot;,&quot;## [C - Monotonically Increasing](https://atcoder.jp/contests/abc263/tasks/abc263_c)&quot;,536890489]],[&quot;^17&quot;,[4135,&quot;^P&quot;,&quot;^19&quot;,536890480]],[&quot;^17&quot;,[4135,&quot;^X&quot;,2,536890489]],[&quot;^17&quot;,[4135,&quot;^@&quot;,false,536890480]],[&quot;^17&quot;,[4135,&quot;^F&quot;,4133,536890483]],[&quot;^17&quot;,[4135,&quot;^Z&quot;,4127,536890480]],[&quot;^17&quot;,[4135,&quot;^W&quot;,4127,536890483]],[&quot;^17&quot;,[4135,&quot;^V&quot;,4127,536890489]],[&quot;^17&quot;,[4135,&quot;^?&quot;,[&quot;^ &quot;],536890489]],[&quot;^17&quot;,[4135,&quot;^1&gt;&quot;,2,536890486]],[&quot;^17&quot;,[4135,&quot;^Y&quot;,&quot;^1?&quot;,536890489]],[&quot;^17&quot;,[4135,&quot;^1@&quot;,true,536890480]],[&quot;^17&quot;,[4135,&quot;^;&quot;,&quot;~u62ee6576-bdad-489d-a6a3-304cb7db3456&quot;,536890480]],[&quot;^17&quot;,[4136,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n给定 $N,M$，输出1到$M$之间的严格单调递增的$N$个数\\n#+END_QUOTE&quot;,536890542]],[&quot;^17&quot;,[4136,&quot;^P&quot;,&quot;^19&quot;,536890490]],[&quot;^17&quot;,[4136,&quot;^@&quot;,false,536890490]],[&quot;^17&quot;,[4136,&quot;^F&quot;,4135,536890490]],[&quot;^17&quot;,[4136,&quot;^Z&quot;,4127,536890490]],[&quot;^17&quot;,[4136,&quot;^W&quot;,4135,536890493]],[&quot;^17&quot;,[4136,&quot;^V&quot;,4127,536890542]],[&quot;^17&quot;,[4136,&quot;^?&quot;,[&quot;^ &quot;],536890542]],[&quot;^17&quot;,[4136,&quot;^1@&quot;,true,536890490]],[&quot;^17&quot;,[4136,&quot;^;&quot;,&quot;~u62ee657a-5877-422b-b65e-31b74ab2f933&quot;,536890490]],[&quot;^17&quot;,[4137,&quot;^R&quot;,&quot;典中典dfs板子题&quot;,536890554]],[&quot;^17&quot;,[4137,&quot;^P&quot;,&quot;^19&quot;,536890545]],[&quot;^17&quot;,[4137,&quot;^@&quot;,false,536890545]],[&quot;^17&quot;,[4137,&quot;^F&quot;,4136,536890545]],[&quot;^17&quot;,[4137,&quot;^Z&quot;,4127,536890545]],[&quot;^17&quot;,[4137,&quot;^W&quot;,4135,536890545]],[&quot;^17&quot;,[4137,&quot;^V&quot;,4127,536890554]],[&quot;^17&quot;,[4137,&quot;^?&quot;,[&quot;^ &quot;],536890554]],[&quot;^17&quot;,[4137,&quot;^1@&quot;,true,536890545]],[&quot;^17&quot;,[4137,&quot;^;&quot;,&quot;~u62ee66fa-cd54-4a91-9891-34ec5db1d954&quot;,536890545]],[&quot;^17&quot;,[4138,&quot;^R&quot;,&quot;## [D - Left Right Operation](https://atcoder.jp/contests/abc263/tasks/abc263_d)&quot;,536890572]],[&quot;^17&quot;,[4138,&quot;^P&quot;,&quot;^19&quot;,536890557]],[&quot;^17&quot;,[4138,&quot;^X&quot;,2,536890572]],[&quot;^17&quot;,[4138,&quot;^@&quot;,false,536890557]],[&quot;^17&quot;,[4138,&quot;^F&quot;,4135,536890566]],[&quot;^17&quot;,[4138,&quot;^Z&quot;,4127,536890557]],[&quot;^17&quot;,[4138,&quot;^W&quot;,4127,536890566]],[&quot;^17&quot;,[4138,&quot;^V&quot;,4127,536890572]],[&quot;^17&quot;,[4138,&quot;^?&quot;,[&quot;^ &quot;],536890572]],[&quot;^17&quot;,[4138,&quot;^1&gt;&quot;,2,536890569]],[&quot;^17&quot;,[4138,&quot;^Y&quot;,&quot;^1?&quot;,536890572]],[&quot;^17&quot;,[4138,&quot;^1@&quot;,true,536890557]],[&quot;^17&quot;,[4138,&quot;^;&quot;,&quot;~u62ee690b-cdb4-4d9c-9d0b-2b1769f98572&quot;,536890557]],[&quot;^17&quot;,[4140,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n给定$N$ 个数 $A_1,A_2....A_n$, 可以将前i个数，后j个数替换为$L,R$，求替换后的最小值\\n#+END_QUOTE&quot;,536890682]],[&quot;^17&quot;,[4140,&quot;^P&quot;,&quot;^19&quot;,536890583]],[&quot;^17&quot;,[4140,&quot;^@&quot;,false,536890583]],[&quot;^17&quot;,[4140,&quot;^F&quot;,4138,536890583]],[&quot;^17&quot;,[4140,&quot;^Z&quot;,4127,536890583]],[&quot;^17&quot;,[4140,&quot;^W&quot;,4138,536890586]],[&quot;^17&quot;,[4140,&quot;^V&quot;,4127,536890682]],[&quot;^17&quot;,[4140,&quot;^?&quot;,[&quot;^ &quot;],536890682]],[&quot;^17&quot;,[4140,&quot;^1@&quot;,true,536890583]],[&quot;^17&quot;,[4140,&quot;^;&quot;,&quot;~u62ee711b-4533-4103-9bc2-6bf8362f4334&quot;,536890583]],[&quot;^17&quot;,[4141,&quot;^R&quot;,&quot;可以分开讨论&quot;,536890700]],[&quot;^17&quot;,[4141,&quot;^P&quot;,&quot;^19&quot;,536890685]],[&quot;^17&quot;,[4141,&quot;^@&quot;,false,536890685]],[&quot;^17&quot;,[4141,&quot;^F&quot;,4140,536890685]],[&quot;^17&quot;,[4141,&quot;^Z&quot;,4127,536890685]],[&quot;^17&quot;,[4141,&quot;^W&quot;,4138,536890685]],[&quot;^17&quot;,[4141,&quot;^V&quot;,4127,536890700]],[&quot;^17&quot;,[4141,&quot;^?&quot;,[&quot;^ &quot;],536890700]],[&quot;^17&quot;,[4141,&quot;^1@&quot;,true,536890685]],[&quot;^17&quot;,[4141,&quot;^;&quot;,&quot;~u62ee7187-cbd2-4a56-a91e-3240d2518c24&quot;,536890685]],[&quot;^17&quot;,[4142,&quot;^R&quot;,&quot;$f(k) A&apos; = (A_1,...,A_n)$ 为L操作可能的最小值&quot;,536890827]],[&quot;^17&quot;,[4142,&quot;^P&quot;,&quot;^19&quot;,536890701]],[&quot;^17&quot;,[4142,&quot;^@&quot;,false,536890701]],[&quot;^17&quot;,[4142,&quot;^F&quot;,4141,536890701]],[&quot;^17&quot;,[4142,&quot;^Z&quot;,4127,536890701]],[&quot;^17&quot;,[4142,&quot;^W&quot;,4141,536890702]],[&quot;^17&quot;,[4142,&quot;^V&quot;,4127,536890827]],[&quot;^17&quot;,[4142,&quot;^?&quot;,[&quot;^ &quot;],536890827]],[&quot;^17&quot;,[4142,&quot;^1@&quot;,true,536890701]],[&quot;^17&quot;,[4142,&quot;^;&quot;,&quot;~u62ee71a3-1d9f-44a8-a687-08a1ea27376c&quot;,536890701]],[&quot;^17&quot;,[4143,&quot;^R&quot;,&quot;$g(k) A&apos;&apos; = (A_{N-k+1}, ....,A_N)$为R操作最小值&quot;,536890816]],[&quot;^17&quot;,[4143,&quot;^P&quot;,&quot;^19&quot;,536890749]],[&quot;^17&quot;,[4143,&quot;^@&quot;,false,536890749]],[&quot;^17&quot;,[4143,&quot;^F&quot;,4142,536890749]],[&quot;^17&quot;,[4143,&quot;^Z&quot;,4127,536890749]],[&quot;^17&quot;,[4143,&quot;^W&quot;,4141,536890749]],[&quot;^17&quot;,[4143,&quot;^V&quot;,4127,536890816]],[&quot;^17&quot;,[4143,&quot;^?&quot;,[&quot;^ &quot;],536890816]],[&quot;^17&quot;,[4143,&quot;^1@&quot;,true,536890749]],[&quot;^17&quot;,[4143,&quot;^;&quot;,&quot;~u62ee71c7-a8cc-42da-9944-d55037ba1834&quot;,536890749]],[&quot;^17&quot;,[4144,&quot;^R&quot;,&quot;最好结果就是 $min f(i) + g(N-i)$&quot;,536890859]],[&quot;^17&quot;,[4144,&quot;^P&quot;,&quot;^19&quot;,536890817]],[&quot;^17&quot;,[4144,&quot;^@&quot;,false,536890817]],[&quot;^17&quot;,[4144,&quot;^F&quot;,4141,536890830]],[&quot;^17&quot;,[4144,&quot;^Z&quot;,4127,536890817]],[&quot;^17&quot;,[4144,&quot;^W&quot;,4138,536890830]],[&quot;^17&quot;,[4144,&quot;^V&quot;,4127,536890859]],[&quot;^17&quot;,[4144,&quot;^?&quot;,[&quot;^ &quot;],536890859]],[&quot;^17&quot;,[4144,&quot;^1@&quot;,true,536890817]],[&quot;^17&quot;,[4144,&quot;^;&quot;,&quot;~u62ee71fd-a82b-48bd-a39b-2610eaa507cb&quot;,536890817]],[&quot;^17&quot;,[4145,&quot;^R&quot;,&quot;&quot;,536890862]],[&quot;^17&quot;,[4145,&quot;^P&quot;,&quot;^19&quot;,536890862]],[&quot;^17&quot;,[4145,&quot;^@&quot;,false,536890862]],[&quot;^17&quot;,[4145,&quot;^F&quot;,4144,536890862]],[&quot;^17&quot;,[4145,&quot;^Z&quot;,4127,536890862]],[&quot;^17&quot;,[4145,&quot;^W&quot;,4138,536890862]],[&quot;^17&quot;,[4145,&quot;^V&quot;,4127,536890862]],[&quot;^17&quot;,[4145,&quot;^?&quot;,[&quot;^ &quot;],536890862]],[&quot;^17&quot;,[4145,&quot;^1@&quot;,true,536890862]],[&quot;^17&quot;,[4145,&quot;^;&quot;,&quot;~u62ee7254-80a8-44fa-83fc-c9cf0add14ae&quot;,536890862]],[&quot;^17&quot;,[4148,&quot;^14&quot;,1,536890870]],[&quot;^17&quot;,[4153,&quot;^14&quot;,1,536890882]],[&quot;^17&quot;,[4170,&quot;^14&quot;,1,536891469]],[&quot;^17&quot;,[4199,&quot;^14&quot;,1,536891516]],[&quot;^17&quot;,[4214,&quot;^14&quot;,1,536891797]],[&quot;^17&quot;,[4284,&quot;^14&quot;,1,536893621]],[&quot;^17&quot;,[4330,&quot;^14&quot;,1,536894776]],[&quot;^17&quot;,[4335,&quot;^14&quot;,1,536894787]],[&quot;^17&quot;,[4338,&quot;^14&quot;,1,536894795]],[&quot;^17&quot;,[4343,&quot;^14&quot;,1,536894806]],[&quot;^17&quot;,[4344,&quot;^14&quot;,1,536894815]],[&quot;^17&quot;,[4347,&quot;^L&quot;,1660792946242,536894820]],[&quot;^17&quot;,[4347,&quot;^P&quot;,&quot;^19&quot;,536894824]],[&quot;^17&quot;,[4347,&quot;^@&quot;,false,536894820]],[&quot;^17&quot;,[4347,&quot;^[&quot;,&quot;概率论题&quot;,536894820]],[&quot;^17&quot;,[4347,&quot;^13&quot;,&quot;概率论题&quot;,536894820]],[&quot;^17&quot;,[4347,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536895850]],[&quot;^17&quot;,[4347,&quot;^B&quot;,1660794497128,536895828]],[&quot;^17&quot;,[4347,&quot;^;&quot;,&quot;~u62fdb072-5e6e-4b59-9da4-5a447238ed0a&quot;,536894820]],[&quot;^17&quot;,[4348,&quot;^R&quot;,&quot;## ricky出题&quot;,536894833]],[&quot;^17&quot;,[4348,&quot;^P&quot;,&quot;^19&quot;,536894825]],[&quot;^17&quot;,[4348,&quot;^X&quot;,2,536894833]],[&quot;^17&quot;,[4348,&quot;^@&quot;,false,536894825]],[&quot;^17&quot;,[4348,&quot;^F&quot;,4370,536895850]],[&quot;^17&quot;,[4348,&quot;^T&quot;,[&quot;^16&quot;,[]],536894825]],[&quot;^17&quot;,[4348,&quot;^Z&quot;,4347,536894825]],[&quot;^17&quot;,[4348,&quot;^W&quot;,4347,536894825]],[&quot;^17&quot;,[4348,&quot;^V&quot;,4347,536894834]],[&quot;^17&quot;,[4348,&quot;^?&quot;,[&quot;^ &quot;],536894833]],[&quot;^17&quot;,[4348,&quot;^1&gt;&quot;,2,536894828]],[&quot;^17&quot;,[4348,&quot;^Y&quot;,&quot;^1?&quot;,536894833]],[&quot;^17&quot;,[4348,&quot;^1@&quot;,true,536894825]],[&quot;^17&quot;,[4348,&quot;^;&quot;,&quot;~u62fdb07a-386b-4d77-a513-c05d866a1029&quot;,536894825]],[&quot;^17&quot;,[4350,&quot;^R&quot;,&quot;补充： [[几何分布]]\\n$得到每个点数的概率都服从几何分布。\\\\\\\\第一点得到任意面都符合，E=\\\\frac{6}{6}=1。\\\\\\\\ 第二点要与第一个面不同，p=\\\\frac{5}{6}, \\\\\\\\第n次得到与第一个面不同概率，p(n)=(1-\\\\frac{5}{6})^{n-1}\\\\frac{5}{6}, 期望为 \\\\frac{6}{5}\\\\\\\\ 同理第三点第四点都是如此，EN = 1 + \\\\frac{6}{5} + ... + \\\\frac{6}{1} = 14.7$&quot;,536895828]],[&quot;^17&quot;,[4350,&quot;^P&quot;,&quot;^19&quot;,536894833]],[&quot;^17&quot;,[4350,&quot;^@&quot;,false,536894833]],[&quot;^17&quot;,[4350,&quot;^F&quot;,4365,536895804]],[&quot;^17&quot;,[4350,&quot;^T&quot;,[&quot;^16&quot;,[]],536894833]],[&quot;^17&quot;,[4350,&quot;^Z&quot;,4347,536894833]],[&quot;^17&quot;,[4350,&quot;^W&quot;,4365,536895827]],[&quot;^17&quot;,[4350,&quot;^V&quot;,4347,536895829]],[&quot;^17&quot;,[4350,&quot;^V&quot;,4353,536895829]],[&quot;^17&quot;,[4350,&quot;^?&quot;,[&quot;^ &quot;],536895828]],[&quot;^17&quot;,[4350,&quot;^H&quot;,4353,536895828]],[&quot;^17&quot;,[4350,&quot;^1@&quot;,true,536894833]],[&quot;^17&quot;,[4350,&quot;^;&quot;,&quot;~u62fdb088-8222-4a17-a54c-608f3f8f2f43&quot;,536894833]],[&quot;^17&quot;,[4353,&quot;^L&quot;,1660793443205,536894914]],[&quot;^17&quot;,[4353,&quot;^P&quot;,&quot;^19&quot;,536894923]],[&quot;^17&quot;,[4353,&quot;^@&quot;,false,536894914]],[&quot;^17&quot;,[4353,&quot;^[&quot;,&quot;几何分布&quot;,536894914]],[&quot;^17&quot;,[4353,&quot;^13&quot;,&quot;几何分布&quot;,536894914]],[&quot;^17&quot;,[4353,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897268]],[&quot;^17&quot;,[4353,&quot;^B&quot;,1660793823645,536895322]],[&quot;^17&quot;,[4353,&quot;^;&quot;,&quot;~u62fdb263-dd1f-47a6-852d-d06818ea428b&quot;,536894914]],[&quot;^17&quot;,[4355,&quot;^R&quot;,&quot;几何分布（Geometric distribution）是离散型概率分布。其中一种定义为：在n次[伯努利试验](https://baike.baidu.com/item/%E4%BC%AF%E5%8A%AA%E5%88%A9%E8%AF%95%E9%AA%8C/238488)中，试验k次才得到第一次成功的机率。详细地说，是：前k-1次皆失败，第k次成功的概率。几何分布是[帕斯卡分布](https://baike.baidu.com/item/%E5%B8%95%E6%96%AF%E5%8D%A1%E5%88%86%E5%B8%83/1188907)当r=1时的特例。&quot;,536894927]],[&quot;^17&quot;,[4355,&quot;^P&quot;,&quot;^19&quot;,536894924]],[&quot;^17&quot;,[4355,&quot;^@&quot;,false,536894924]],[&quot;^17&quot;,[4355,&quot;^F&quot;,4532,536897268]],[&quot;^17&quot;,[4355,&quot;^T&quot;,[&quot;^16&quot;,[]],536894924]],[&quot;^17&quot;,[4355,&quot;^Z&quot;,4353,536894924]],[&quot;^17&quot;,[4355,&quot;^W&quot;,4353,536894924]],[&quot;^17&quot;,[4355,&quot;^V&quot;,4353,536894928]],[&quot;^17&quot;,[4355,&quot;^?&quot;,[&quot;^ &quot;],536894927]],[&quot;^17&quot;,[4355,&quot;^1@&quot;,true,536894924]],[&quot;^17&quot;,[4355,&quot;^;&quot;,&quot;~u62fdb265-a63f-4b8a-836d-c5ac5a93bb83&quot;,536894924]],[&quot;^17&quot;,[4356,&quot;^R&quot;,&quot;$P(X=k) = (1-p)^{k-1}p, k = 1, 2, ...$记作 $X{\\\\sim}GE(p)$ 称为服从参数 $p$ 的几何分布&quot;,536895194]],[&quot;^17&quot;,[4356,&quot;^P&quot;,&quot;^19&quot;,536894929]],[&quot;^17&quot;,[4356,&quot;^@&quot;,false,536894929]],[&quot;^17&quot;,[4356,&quot;^F&quot;,4355,536894929]],[&quot;^17&quot;,[4356,&quot;^T&quot;,[&quot;^16&quot;,[]],536894929]],[&quot;^17&quot;,[4356,&quot;^Z&quot;,4353,536894929]],[&quot;^17&quot;,[4356,&quot;^W&quot;,4353,536894929]],[&quot;^17&quot;,[4356,&quot;^V&quot;,4353,536895195]],[&quot;^17&quot;,[4356,&quot;^?&quot;,[&quot;^ &quot;],536895194]],[&quot;^17&quot;,[4356,&quot;^1@&quot;,true,536894929]],[&quot;^17&quot;,[4356,&quot;^;&quot;,&quot;~u62fdb268-0098-45e9-8ac4-7b16cd8b04a2&quot;,536894929]],[&quot;^17&quot;,[4359,&quot;^R&quot;,&quot;期望 $E(X)=\\\\frac{1}{p}$ 方差 $DX = \\\\frac{1-p}{p^2}$&quot;,536895322]],[&quot;^17&quot;,[4359,&quot;^P&quot;,&quot;^19&quot;,536895061]],[&quot;^17&quot;,[4359,&quot;^@&quot;,false,536895061]],[&quot;^17&quot;,[4359,&quot;^F&quot;,4356,536895079]],[&quot;^17&quot;,[4359,&quot;^T&quot;,[&quot;^16&quot;,[]],536895061]],[&quot;^17&quot;,[4359,&quot;^Z&quot;,4353,536895061]],[&quot;^17&quot;,[4359,&quot;^W&quot;,4353,536895061]],[&quot;^17&quot;,[4359,&quot;^V&quot;,4353,536895323]],[&quot;^17&quot;,[4359,&quot;^?&quot;,[&quot;^ &quot;],536895322]],[&quot;^17&quot;,[4359,&quot;^1@&quot;,true,536895061]],[&quot;^17&quot;,[4359,&quot;^;&quot;,&quot;~u62fdb2cf-f5d1-4ded-b59b-561c597deb48&quot;,536895061]],[&quot;^17&quot;,[4361,&quot;^R&quot;,&quot;&quot;,536895326]],[&quot;^17&quot;,[4361,&quot;^P&quot;,&quot;^19&quot;,536895326]],[&quot;^17&quot;,[4361,&quot;^@&quot;,false,536895326]],[&quot;^17&quot;,[4361,&quot;^F&quot;,4359,536895326]],[&quot;^17&quot;,[4361,&quot;^T&quot;,[&quot;^16&quot;,[]],536895326]],[&quot;^17&quot;,[4361,&quot;^Z&quot;,4353,536895326]],[&quot;^17&quot;,[4361,&quot;^W&quot;,4353,536895326]],[&quot;^17&quot;,[4361,&quot;^V&quot;,4353,536895327]],[&quot;^17&quot;,[4361,&quot;^?&quot;,[&quot;^ &quot;],536895326]],[&quot;^17&quot;,[4361,&quot;^1@&quot;,true,536895326]],[&quot;^17&quot;,[4361,&quot;^;&quot;,&quot;~u62fdb3e3-74be-4427-a5a7-9eed95d6a8bf&quot;,536895326]],[&quot;^17&quot;,[4362,&quot;^R&quot;,&quot;&quot;,536895409]],[&quot;^17&quot;,[4362,&quot;^P&quot;,&quot;^19&quot;,536895409]],[&quot;^17&quot;,[4362,&quot;^@&quot;,false,536895409]],[&quot;^17&quot;,[4362,&quot;^F&quot;,4363,536895578]],[&quot;^17&quot;,[4362,&quot;^T&quot;,[&quot;^16&quot;,[]],536895409]],[&quot;^17&quot;,[4362,&quot;^Z&quot;,4347,536895409]],[&quot;^17&quot;,[4362,&quot;^W&quot;,4348,536895409]],[&quot;^17&quot;,[4362,&quot;^V&quot;,4347,536895410]],[&quot;^17&quot;,[4362,&quot;^?&quot;,[&quot;^ &quot;],536895409]],[&quot;^17&quot;,[4362,&quot;^1@&quot;,true,536895409]],[&quot;^17&quot;,[4362,&quot;^;&quot;,&quot;~u62fdb43a-f723-431c-a820-c98e24b9cea3&quot;,536895409]],[&quot;^17&quot;,[4363,&quot;^R&quot;,&quot;&quot;,536895578]],[&quot;^17&quot;,[4363,&quot;^P&quot;,&quot;^19&quot;,536895578]],[&quot;^17&quot;,[4363,&quot;^@&quot;,false,536895578]],[&quot;^17&quot;,[4363,&quot;^F&quot;,4364,536895716]],[&quot;^17&quot;,[4363,&quot;^T&quot;,[&quot;^16&quot;,[]],536895578]],[&quot;^17&quot;,[4363,&quot;^Z&quot;,4347,536895578]],[&quot;^17&quot;,[4363,&quot;^W&quot;,4348,536895578]],[&quot;^17&quot;,[4363,&quot;^V&quot;,4347,536895579]],[&quot;^17&quot;,[4363,&quot;^?&quot;,[&quot;^ &quot;],536895578]],[&quot;^17&quot;,[4363,&quot;^1@&quot;,true,536895578]],[&quot;^17&quot;,[4363,&quot;^;&quot;,&quot;~u62fdb4f1-d6b3-4ea7-8d70-793db92aa76d&quot;,536895578]],[&quot;^17&quot;,[4364,&quot;^R&quot;,&quot;&quot;,536895716]],[&quot;^17&quot;,[4364,&quot;^P&quot;,&quot;^19&quot;,536895716]],[&quot;^17&quot;,[4364,&quot;^@&quot;,false,536895716]],[&quot;^17&quot;,[4364,&quot;^F&quot;,4365,536895827]],[&quot;^17&quot;,[4364,&quot;^T&quot;,[&quot;^16&quot;,[]],536895716]],[&quot;^17&quot;,[4364,&quot;^Z&quot;,4347,536895716]],[&quot;^17&quot;,[4364,&quot;^W&quot;,4348,536895716]],[&quot;^17&quot;,[4364,&quot;^V&quot;,4347,536895751]],[&quot;^17&quot;,[4364,&quot;^?&quot;,[&quot;^ &quot;],536895751]],[&quot;^17&quot;,[4364,&quot;^1@&quot;,true,536895716]],[&quot;^17&quot;,[4364,&quot;^;&quot;,&quot;~u62fdb548-f641-4f4f-9139-8bd585413c7c&quot;,536895716]],[&quot;^17&quot;,[4365,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n$1.掷骰子，设把六个不同面都投出来用了N次，求E(N)$\\n#+END_QUOTE&quot;,536895819]],[&quot;^17&quot;,[4365,&quot;^P&quot;,&quot;^19&quot;,536895758]],[&quot;^17&quot;,[4365,&quot;^@&quot;,false,536895758]],[&quot;^17&quot;,[4365,&quot;^F&quot;,4348,536895758]],[&quot;^17&quot;,[4365,&quot;^T&quot;,[&quot;^16&quot;,[]],536895758]],[&quot;^17&quot;,[4365,&quot;^Z&quot;,4347,536895758]],[&quot;^17&quot;,[4365,&quot;^W&quot;,4348,536895758]],[&quot;^17&quot;,[4365,&quot;^V&quot;,4347,536895820]],[&quot;^17&quot;,[4365,&quot;^?&quot;,[&quot;^ &quot;],536895819]],[&quot;^17&quot;,[4365,&quot;^1@&quot;,true,536895758]],[&quot;^17&quot;,[4365,&quot;^;&quot;,&quot;~u62fdb647-4779-448d-b1f1-7acbe88e3245&quot;,536895758]],[&quot;^17&quot;,[4367,&quot;^14&quot;,1,536895836]],[&quot;^17&quot;,[4370,&quot;^R&quot;,&quot;public:: true&quot;,536895850]],[&quot;^17&quot;,[4370,&quot;^P&quot;,&quot;^19&quot;,536895850]],[&quot;^17&quot;,[4370,&quot;^F&quot;,4347,536895850]],[&quot;^17&quot;,[4370,&quot;^Z&quot;,4347,536895850]],[&quot;^17&quot;,[4370,&quot;^W&quot;,4347,536895850]],[&quot;^17&quot;,[4370,&quot;^V&quot;,4347,536895851]],[&quot;^17&quot;,[4370,&quot;^:&quot;,true,536895850]],[&quot;^17&quot;,[4370,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536895850]],[&quot;^17&quot;,[4370,&quot;^;&quot;,&quot;~ue6a435a6-caeb-4978-9e0e-f2afea2c9c2d&quot;,536895850]],[&quot;^17&quot;,[4374,&quot;^L&quot;,1660807828917,536895873]],[&quot;^17&quot;,[4374,&quot;^P&quot;,&quot;^19&quot;,536895877]],[&quot;^17&quot;,[4374,&quot;^@&quot;,false,536895873]],[&quot;^17&quot;,[4374,&quot;^[&quot;,&quot;线性代数题&quot;,536895873]],[&quot;^17&quot;,[4374,&quot;^13&quot;,&quot;线性代数题&quot;,536895873]],[&quot;^17&quot;,[4374,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896050]],[&quot;^17&quot;,[4374,&quot;^B&quot;,1660815306332,536897947]],[&quot;^17&quot;,[4374,&quot;^;&quot;,&quot;~u62fdea94-97bc-40b8-8f9f-12bb2a1e31a3&quot;,536895873]],[&quot;^17&quot;,[4376,&quot;^R&quot;,&quot;## Ricky 出题&quot;,536896992]],[&quot;^17&quot;,[4376,&quot;^P&quot;,&quot;^19&quot;,536895878]],[&quot;^17&quot;,[4376,&quot;^X&quot;,2,536896992]],[&quot;^17&quot;,[4376,&quot;^@&quot;,false,536895878]],[&quot;^17&quot;,[4376,&quot;^F&quot;,4426,536896050]],[&quot;^17&quot;,[4376,&quot;^T&quot;,[&quot;^16&quot;,[]],536895878]],[&quot;^17&quot;,[4376,&quot;^Z&quot;,4374,536895878]],[&quot;^17&quot;,[4376,&quot;^W&quot;,4374,536895878]],[&quot;^17&quot;,[4376,&quot;^V&quot;,4374,536896993]],[&quot;^17&quot;,[4376,&quot;^?&quot;,[&quot;^ &quot;],536896992]],[&quot;^17&quot;,[4376,&quot;^1&gt;&quot;,2,536896992]],[&quot;^17&quot;,[4376,&quot;^Y&quot;,&quot;^1?&quot;,536896992]],[&quot;^17&quot;,[4376,&quot;^1@&quot;,true,536895878]],[&quot;^17&quot;,[4376,&quot;^;&quot;,&quot;~u62fdea96-da55-4c10-a55f-b76f1ab34482&quot;,536895878]],[&quot;^17&quot;,[4426,&quot;^R&quot;,&quot;public:: true&quot;,536896050]],[&quot;^17&quot;,[4426,&quot;^P&quot;,&quot;^19&quot;,536896050]],[&quot;^17&quot;,[4426,&quot;^F&quot;,4374,536896050]],[&quot;^17&quot;,[4426,&quot;^Z&quot;,4374,536896050]],[&quot;^17&quot;,[4426,&quot;^W&quot;,4374,536896050]],[&quot;^17&quot;,[4426,&quot;^V&quot;,4374,536896051]],[&quot;^17&quot;,[4426,&quot;^:&quot;,true,536896050]],[&quot;^17&quot;,[4426,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896050]],[&quot;^17&quot;,[4426,&quot;^;&quot;,&quot;~uf3875901-d599-4dcd-88df-87702f4ab660&quot;,536896050]],[&quot;^17&quot;,[4429,&quot;^R&quot;,&quot;[[codeforces]]&quot;,536896077]],[&quot;^17&quot;,[4429,&quot;^P&quot;,&quot;^19&quot;,536896074]],[&quot;^17&quot;,[4429,&quot;^@&quot;,false,536896074]],[&quot;^17&quot;,[4429,&quot;^F&quot;,3539,536896074]],[&quot;^17&quot;,[4429,&quot;^T&quot;,[&quot;^16&quot;,[]],536896074]],[&quot;^17&quot;,[4429,&quot;^Z&quot;,3538,536896074]],[&quot;^17&quot;,[4429,&quot;^W&quot;,3538,536896074]],[&quot;^17&quot;,[4429,&quot;^V&quot;,3538,536896078]],[&quot;^17&quot;,[4429,&quot;^V&quot;,3543,536896078]],[&quot;^17&quot;,[4429,&quot;^?&quot;,[&quot;^ &quot;],536896077]],[&quot;^17&quot;,[4429,&quot;^H&quot;,3543,536896077]],[&quot;^17&quot;,[4429,&quot;^1@&quot;,true,536896074]],[&quot;^17&quot;,[4429,&quot;^;&quot;,&quot;~u62fdf2cd-f314-48fa-af89-5a69c0087080&quot;,536896074]],[&quot;^17&quot;,[4430,&quot;^R&quot;,&quot;&quot;,536896079]],[&quot;^17&quot;,[4430,&quot;^P&quot;,&quot;^19&quot;,536896079]],[&quot;^17&quot;,[4430,&quot;^@&quot;,false,536896079]],[&quot;^17&quot;,[4430,&quot;^F&quot;,4429,536896079]],[&quot;^17&quot;,[4430,&quot;^T&quot;,[&quot;^16&quot;,[]],536896079]],[&quot;^17&quot;,[4430,&quot;^Z&quot;,3538,536896079]],[&quot;^17&quot;,[4430,&quot;^W&quot;,3538,536896079]],[&quot;^17&quot;,[4430,&quot;^?&quot;,[&quot;^ &quot;],536896079]],[&quot;^17&quot;,[4430,&quot;^1@&quot;,true,536896079]],[&quot;^17&quot;,[4430,&quot;^;&quot;,&quot;~u62fdf2d0-94b1-4b68-a7cc-29ec1967b3ca&quot;,536896079]],[&quot;^17&quot;,[4431,&quot;^R&quot;,&quot;public:: true&quot;,536896082]],[&quot;^17&quot;,[4431,&quot;^P&quot;,&quot;^19&quot;,536896082]],[&quot;^17&quot;,[4431,&quot;^F&quot;,3538,536896082]],[&quot;^17&quot;,[4431,&quot;^Z&quot;,3538,536896082]],[&quot;^17&quot;,[4431,&quot;^W&quot;,3538,536896082]],[&quot;^17&quot;,[4431,&quot;^V&quot;,3538,536896083]],[&quot;^17&quot;,[4431,&quot;^:&quot;,true,536896082]],[&quot;^17&quot;,[4431,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896082]],[&quot;^17&quot;,[4431,&quot;^;&quot;,&quot;~u1a38939d-5953-40f1-882d-332553d31634&quot;,536896082]],[&quot;^17&quot;,[4432,&quot;^R&quot;,&quot;public:: true&quot;,536896087]],[&quot;^17&quot;,[4432,&quot;^P&quot;,&quot;^19&quot;,536896087]],[&quot;^17&quot;,[4432,&quot;^F&quot;,3541,536896087]],[&quot;^17&quot;,[4432,&quot;^Z&quot;,3541,536896087]],[&quot;^17&quot;,[4432,&quot;^W&quot;,3541,536896087]],[&quot;^17&quot;,[4432,&quot;^V&quot;,3541,536896088]],[&quot;^17&quot;,[4432,&quot;^:&quot;,true,536896087]],[&quot;^17&quot;,[4432,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896087]],[&quot;^17&quot;,[4432,&quot;^;&quot;,&quot;~u5b2636af-6a10-4e5c-965c-de60b5cf2a55&quot;,536896087]],[&quot;^17&quot;,[4433,&quot;^R&quot;,&quot;public:: true&quot;,536896092]],[&quot;^17&quot;,[4433,&quot;^P&quot;,&quot;^19&quot;,536896092]],[&quot;^17&quot;,[4433,&quot;^F&quot;,3546,536896092]],[&quot;^17&quot;,[4433,&quot;^Z&quot;,3546,536896092]],[&quot;^17&quot;,[4433,&quot;^W&quot;,3546,536896092]],[&quot;^17&quot;,[4433,&quot;^V&quot;,3546,536896093]],[&quot;^17&quot;,[4433,&quot;^:&quot;,true,536896092]],[&quot;^17&quot;,[4433,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896092]],[&quot;^17&quot;,[4433,&quot;^;&quot;,&quot;~u258c5781-0144-436c-aef4-139e1ff1a289&quot;,536896092]],[&quot;^17&quot;,[4434,&quot;^R&quot;,&quot;public:: true&quot;,536896097]],[&quot;^17&quot;,[4434,&quot;^P&quot;,&quot;^19&quot;,536896097]],[&quot;^17&quot;,[4434,&quot;^F&quot;,3543,536896097]],[&quot;^17&quot;,[4434,&quot;^Z&quot;,3543,536896097]],[&quot;^17&quot;,[4434,&quot;^W&quot;,3543,536896097]],[&quot;^17&quot;,[4434,&quot;^V&quot;,3543,536896098]],[&quot;^17&quot;,[4434,&quot;^:&quot;,true,536896097]],[&quot;^17&quot;,[4434,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896097]],[&quot;^17&quot;,[4434,&quot;^;&quot;,&quot;~uccc533e3-cb9c-4c61-9a3e-f368525c4091&quot;,536896097]],[&quot;^17&quot;,[4435,&quot;^R&quot;,&quot;public:: true&quot;,536896114]],[&quot;^17&quot;,[4435,&quot;^P&quot;,&quot;^19&quot;,536896102]],[&quot;^17&quot;,[4435,&quot;^F&quot;,3656,536896102]],[&quot;^17&quot;,[4435,&quot;^T&quot;,[&quot;^16&quot;,[]],536896102]],[&quot;^17&quot;,[4435,&quot;^Z&quot;,3656,536896102]],[&quot;^17&quot;,[4435,&quot;^W&quot;,3656,536896102]],[&quot;^17&quot;,[4435,&quot;^V&quot;,3656,536896115]],[&quot;^17&quot;,[4435,&quot;^:&quot;,true,536896114]],[&quot;^17&quot;,[4435,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896114]],[&quot;^17&quot;,[4435,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^18&quot;]],536896114]],[&quot;^17&quot;,[4435,&quot;^1@&quot;,true,536896102]],[&quot;^17&quot;,[4435,&quot;^;&quot;,&quot;~u62fdf2f0-e883-4bb6-8654-7274f02ab55b&quot;,536896102]],[&quot;^17&quot;,[4436,&quot;^R&quot;,&quot;public:: true&quot;,536896122]],[&quot;^17&quot;,[4436,&quot;^P&quot;,&quot;^19&quot;,536896122]],[&quot;^17&quot;,[4436,&quot;^F&quot;,3943,536896122]],[&quot;^17&quot;,[4436,&quot;^Z&quot;,3943,536896122]],[&quot;^17&quot;,[4436,&quot;^W&quot;,3943,536896122]],[&quot;^17&quot;,[4436,&quot;^V&quot;,3943,536896123]],[&quot;^17&quot;,[4436,&quot;^:&quot;,true,536896122]],[&quot;^17&quot;,[4436,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896122]],[&quot;^17&quot;,[4436,&quot;^;&quot;,&quot;~uca2a38ba-4041-4ab3-b807-303f9df733c5&quot;,536896122]],[&quot;^17&quot;,[4437,&quot;^R&quot;,&quot;public:: true&quot;,536896129]],[&quot;^17&quot;,[4437,&quot;^P&quot;,&quot;^19&quot;,536896129]],[&quot;^17&quot;,[4437,&quot;^F&quot;,4087,536896129]],[&quot;^17&quot;,[4437,&quot;^Z&quot;,4087,536896129]],[&quot;^17&quot;,[4437,&quot;^W&quot;,4087,536896129]],[&quot;^17&quot;,[4437,&quot;^V&quot;,4087,536896130]],[&quot;^17&quot;,[4437,&quot;^:&quot;,true,536896129]],[&quot;^17&quot;,[4437,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896129]],[&quot;^17&quot;,[4437,&quot;^;&quot;,&quot;~u8dfc6c6c-f6b6-4824-83ca-f8757fbbc4f4&quot;,536896129]],[&quot;^17&quot;,[4438,&quot;^R&quot;,&quot;public:: true&quot;,536896138]],[&quot;^17&quot;,[4438,&quot;^P&quot;,&quot;^19&quot;,536896138]],[&quot;^17&quot;,[4438,&quot;^F&quot;,4127,536896138]],[&quot;^17&quot;,[4438,&quot;^Z&quot;,4127,536896138]],[&quot;^17&quot;,[4438,&quot;^W&quot;,4127,536896138]],[&quot;^17&quot;,[4438,&quot;^V&quot;,4127,536896139]],[&quot;^17&quot;,[4438,&quot;^:&quot;,true,536896138]],[&quot;^17&quot;,[4438,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896138]],[&quot;^17&quot;,[4438,&quot;^;&quot;,&quot;~ubd7d7fe8-2603-4835-8bbc-2d7bae09b360&quot;,536896138]],[&quot;^17&quot;,[4439,&quot;^R&quot;,&quot;public:: true&quot;,536896143]],[&quot;^17&quot;,[4439,&quot;^P&quot;,&quot;^19&quot;,536896143]],[&quot;^17&quot;,[4439,&quot;^F&quot;,4041,536896143]],[&quot;^17&quot;,[4439,&quot;^Z&quot;,4041,536896143]],[&quot;^17&quot;,[4439,&quot;^W&quot;,4041,536896143]],[&quot;^17&quot;,[4439,&quot;^V&quot;,4041,536896144]],[&quot;^17&quot;,[4439,&quot;^:&quot;,true,536896143]],[&quot;^17&quot;,[4439,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896143]],[&quot;^17&quot;,[4439,&quot;^;&quot;,&quot;~u5e9db3fe-2c36-492b-8671-b59284479994&quot;,536896143]],[&quot;^17&quot;,[4440,&quot;^L&quot;,1660811617192,536896156]],[&quot;^17&quot;,[4440,&quot;^P&quot;,&quot;^19&quot;,536896160]],[&quot;^17&quot;,[4440,&quot;^@&quot;,false,536896156]],[&quot;^17&quot;,[4440,&quot;^[&quot;,&quot;overview&quot;,536896156]],[&quot;^17&quot;,[4440,&quot;^13&quot;,&quot;overview&quot;,536896156]],[&quot;^17&quot;,[4440,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896317]],[&quot;^17&quot;,[4440,&quot;^B&quot;,1667486975072,536901671]],[&quot;^17&quot;,[4440,&quot;^;&quot;,&quot;~u62fdf961-dbdc-40bd-b2d7-e04f4c2c8470&quot;,536896156]],[&quot;^17&quot;,[4446,&quot;^R&quot;,&quot;## 本蒟蒻补题\\nbackground-color:: #787f97&quot;,536896307]],[&quot;^17&quot;,[4446,&quot;^P&quot;,&quot;^19&quot;,536896187]],[&quot;^17&quot;,[4446,&quot;^X&quot;,2,536901671]],[&quot;^17&quot;,[4446,&quot;^@&quot;,false,536896187]],[&quot;^17&quot;,[4446,&quot;^F&quot;,4450,536901671]],[&quot;^17&quot;,[4446,&quot;^T&quot;,[&quot;^16&quot;,[]],536896187]],[&quot;^17&quot;,[4446,&quot;^Z&quot;,4440,536896187]],[&quot;^17&quot;,[4446,&quot;^W&quot;,4440,536896191]],[&quot;^17&quot;,[4446,&quot;^V&quot;,4440,536901671]],[&quot;^17&quot;,[4446,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1A&quot;,&quot;#787f97&quot;],536901671]],[&quot;^17&quot;,[4446,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1A&quot;]],536896307]],[&quot;^17&quot;,[4446,&quot;^1&gt;&quot;,2,536896195]],[&quot;^17&quot;,[4446,&quot;^Y&quot;,&quot;^1?&quot;,536901671]],[&quot;^17&quot;,[4446,&quot;^1@&quot;,true,536896187]],[&quot;^17&quot;,[4446,&quot;^;&quot;,&quot;~u62fdf98b-eeca-4d82-90eb-ea2bc18631f2&quot;,536896187]],[&quot;^17&quot;,[4447,&quot;^R&quot;,&quot;[[Atcoder]]&quot;,536896226]],[&quot;^17&quot;,[4447,&quot;^P&quot;,&quot;^19&quot;,536896221]],[&quot;^17&quot;,[4447,&quot;^@&quot;,false,536896221]],[&quot;^17&quot;,[4447,&quot;^F&quot;,4446,536896221]],[&quot;^17&quot;,[4447,&quot;^T&quot;,[&quot;^16&quot;,[]],536896221]],[&quot;^17&quot;,[4447,&quot;^Z&quot;,4440,536896221]],[&quot;^17&quot;,[4447,&quot;^W&quot;,4446,536896222]],[&quot;^17&quot;,[4447,&quot;^V&quot;,4440,536896308]],[&quot;^17&quot;,[4447,&quot;^?&quot;,[&quot;^ &quot;],536896226]],[&quot;^17&quot;,[4447,&quot;^H&quot;,3541,536896226]],[&quot;^17&quot;,[4447,&quot;^1@&quot;,true,536896221]],[&quot;^17&quot;,[4447,&quot;^;&quot;,&quot;~u62fdf9f3-e603-42a8-8d82-ef2da5ed07f0&quot;,536896221]],[&quot;^17&quot;,[4448,&quot;^R&quot;,&quot;[[codeforces]]&quot;,536896230]],[&quot;^17&quot;,[4448,&quot;^P&quot;,&quot;^19&quot;,536896226]],[&quot;^17&quot;,[4448,&quot;^@&quot;,false,536896226]],[&quot;^17&quot;,[4448,&quot;^F&quot;,4447,536896226]],[&quot;^17&quot;,[4448,&quot;^T&quot;,[&quot;^16&quot;,[]],536896226]],[&quot;^17&quot;,[4448,&quot;^Z&quot;,4440,536896226]],[&quot;^17&quot;,[4448,&quot;^W&quot;,4446,536896226]],[&quot;^17&quot;,[4448,&quot;^V&quot;,4440,536896308]],[&quot;^17&quot;,[4448,&quot;^?&quot;,[&quot;^ &quot;],536896230]],[&quot;^17&quot;,[4448,&quot;^H&quot;,3543,536896230]],[&quot;^17&quot;,[4448,&quot;^1@&quot;,true,536896226]],[&quot;^17&quot;,[4448,&quot;^;&quot;,&quot;~u62fdf9f7-90d1-470a-b393-99ab96bb35c9&quot;,536896226]],[&quot;^17&quot;,[4449,&quot;^R&quot;,&quot;## 计算机公开课\\nbackground-color:: #793e3e&quot;,536896390]],[&quot;^17&quot;,[4449,&quot;^P&quot;,&quot;^19&quot;,536896230]],[&quot;^17&quot;,[4449,&quot;^X&quot;,2,536896360]],[&quot;^17&quot;,[4449,&quot;^@&quot;,false,536896230]],[&quot;^17&quot;,[4449,&quot;^F&quot;,4446,536896234]],[&quot;^17&quot;,[4449,&quot;^T&quot;,[&quot;^16&quot;,[]],536896230]],[&quot;^17&quot;,[4449,&quot;^Z&quot;,4440,536896230]],[&quot;^17&quot;,[4449,&quot;^W&quot;,4440,536896234]],[&quot;^17&quot;,[4449,&quot;^V&quot;,4440,536896361]],[&quot;^17&quot;,[4449,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1A&quot;,&quot;#793e3e&quot;],536896390]],[&quot;^17&quot;,[4449,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1A&quot;]],536896390]],[&quot;^17&quot;,[4449,&quot;^1&gt;&quot;,2,536896344]],[&quot;^17&quot;,[4449,&quot;^Y&quot;,&quot;^1?&quot;,536896360]],[&quot;^17&quot;,[4449,&quot;^1@&quot;,true,536896230]],[&quot;^17&quot;,[4449,&quot;^;&quot;,&quot;~u62fdf9fa-2159-4fee-bf76-0c448f401572&quot;,536896230]],[&quot;^17&quot;,[4450,&quot;^R&quot;,&quot;## 回到[ramezesdong.github.io](https://ramezesdong.github.io/)&quot;,536896311]],[&quot;^17&quot;,[4450,&quot;^P&quot;,&quot;^19&quot;,536896238]],[&quot;^17&quot;,[4450,&quot;^X&quot;,2,536896311]],[&quot;^17&quot;,[4450,&quot;^@&quot;,false,536896238]],[&quot;^17&quot;,[4450,&quot;^F&quot;,4456,536896317]],[&quot;^17&quot;,[4450,&quot;^T&quot;,[&quot;^16&quot;,[]],536896238]],[&quot;^17&quot;,[4450,&quot;^Z&quot;,4440,536896238]],[&quot;^17&quot;,[4450,&quot;^W&quot;,4440,536896238]],[&quot;^17&quot;,[4450,&quot;^V&quot;,4440,536896312]],[&quot;^17&quot;,[4450,&quot;^?&quot;,[&quot;^ &quot;],536896311]],[&quot;^17&quot;,[4450,&quot;^1&gt;&quot;,2,536896311]],[&quot;^17&quot;,[4450,&quot;^Y&quot;,&quot;^1?&quot;,536896311]],[&quot;^17&quot;,[4450,&quot;^1@&quot;,true,536896238]],[&quot;^17&quot;,[4450,&quot;^;&quot;,&quot;~u62fdf9fe-5197-4c8b-a79f-6d98c270a5eb&quot;,536896238]],[&quot;^17&quot;,[4456,&quot;^R&quot;,&quot;public:: true&quot;,536896317]],[&quot;^17&quot;,[4456,&quot;^P&quot;,&quot;^19&quot;,536896317]],[&quot;^17&quot;,[4456,&quot;^F&quot;,4440,536896317]],[&quot;^17&quot;,[4456,&quot;^Z&quot;,4440,536896317]],[&quot;^17&quot;,[4456,&quot;^W&quot;,4440,536896317]],[&quot;^17&quot;,[4456,&quot;^V&quot;,4440,536896318]],[&quot;^17&quot;,[4456,&quot;^:&quot;,true,536896317]],[&quot;^17&quot;,[4456,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896317]],[&quot;^17&quot;,[4456,&quot;^;&quot;,&quot;~ue59b8363-080f-4759-b6da-406ee9928931&quot;,536896317]],[&quot;^17&quot;,[4460,&quot;^R&quot;,&quot;### 我学过的(❌半途而废)&quot;,536896432]],[&quot;^17&quot;,[4460,&quot;^P&quot;,&quot;^19&quot;,536896360]],[&quot;^17&quot;,[4460,&quot;^X&quot;,3,536896432]],[&quot;^17&quot;,[4460,&quot;^@&quot;,false,536896360]],[&quot;^17&quot;,[4460,&quot;^F&quot;,4449,536896360]],[&quot;^17&quot;,[4460,&quot;^T&quot;,[&quot;^16&quot;,[]],536896360]],[&quot;^17&quot;,[4460,&quot;^Z&quot;,4440,536896360]],[&quot;^17&quot;,[4460,&quot;^W&quot;,4449,536896364]],[&quot;^17&quot;,[4460,&quot;^V&quot;,4440,536896433]],[&quot;^17&quot;,[4460,&quot;^?&quot;,[&quot;^ &quot;],536896432]],[&quot;^17&quot;,[4460,&quot;^1&gt;&quot;,3,536896368]],[&quot;^17&quot;,[4460,&quot;^Y&quot;,&quot;^1?&quot;,536896432]],[&quot;^17&quot;,[4460,&quot;^1@&quot;,true,536896360]],[&quot;^17&quot;,[4460,&quot;^;&quot;,&quot;~u62fdfc5b-de4a-4a0d-a148-6d475f68007e&quot;,536896360]],[&quot;^17&quot;,[4461,&quot;^R&quot;,&quot;### 我想学的/正在学的&quot;,536896462]],[&quot;^17&quot;,[4461,&quot;^P&quot;,&quot;^19&quot;,536896376]],[&quot;^17&quot;,[4461,&quot;^X&quot;,3,536896462]],[&quot;^17&quot;,[4461,&quot;^@&quot;,false,536896376]],[&quot;^17&quot;,[4461,&quot;^F&quot;,4460,536896396]],[&quot;^17&quot;,[4461,&quot;^T&quot;,[&quot;^16&quot;,[]],536896376]],[&quot;^17&quot;,[4461,&quot;^Z&quot;,4440,536896376]],[&quot;^17&quot;,[4461,&quot;^W&quot;,4449,536896376]],[&quot;^17&quot;,[4461,&quot;^V&quot;,4440,536896463]],[&quot;^17&quot;,[4461,&quot;^?&quot;,[&quot;^ &quot;],536896462]],[&quot;^17&quot;,[4461,&quot;^1&gt;&quot;,3,536896383]],[&quot;^17&quot;,[4461,&quot;^Y&quot;,&quot;^1?&quot;,536896462]],[&quot;^17&quot;,[4461,&quot;^1@&quot;,true,536896376]],[&quot;^17&quot;,[4461,&quot;^;&quot;,&quot;~u62fdfc66-e65e-4f89-ac8e-bb86dfc7ce07&quot;,536896376]],[&quot;^17&quot;,[4462,&quot;^R&quot;,&quot;### cmu15-445\\n[Extensible hash table](https://zhuanlan.zhihu.com/p/534398032)&quot;,536896639]],[&quot;^17&quot;,[4462,&quot;^P&quot;,&quot;^19&quot;,536896387]],[&quot;^17&quot;,[4462,&quot;^X&quot;,3,536896639]],[&quot;^17&quot;,[4462,&quot;^@&quot;,false,536896387]],[&quot;^17&quot;,[4462,&quot;^F&quot;,4476,536896532]],[&quot;^17&quot;,[4462,&quot;^T&quot;,[&quot;^16&quot;,[]],536896387]],[&quot;^17&quot;,[4462,&quot;^Z&quot;,4440,536896387]],[&quot;^17&quot;,[4462,&quot;^W&quot;,4473,536896484]],[&quot;^17&quot;,[4462,&quot;^V&quot;,4440,536896640]],[&quot;^17&quot;,[4462,&quot;^?&quot;,[&quot;^ &quot;],536896639]],[&quot;^17&quot;,[4462,&quot;^1&gt;&quot;,3,536896589]],[&quot;^17&quot;,[4462,&quot;^Y&quot;,&quot;^1?&quot;,536896639]],[&quot;^17&quot;,[4462,&quot;^1@&quot;,true,536896387]],[&quot;^17&quot;,[4462,&quot;^;&quot;,&quot;~u62fdfc6e-10bd-4571-bc0a-7fee3e09ea14&quot;,536896387]],[&quot;^17&quot;,[4463,&quot;^R&quot;,&quot;[[cs61a]]&quot;,536896399]],[&quot;^17&quot;,[4463,&quot;^P&quot;,&quot;^19&quot;,536896394]],[&quot;^17&quot;,[4463,&quot;^@&quot;,false,536896394]],[&quot;^17&quot;,[4463,&quot;^F&quot;,4460,536896394]],[&quot;^17&quot;,[4463,&quot;^T&quot;,[&quot;^16&quot;,[]],536896394]],[&quot;^17&quot;,[4463,&quot;^Z&quot;,4440,536896394]],[&quot;^17&quot;,[4463,&quot;^W&quot;,4460,536896396]],[&quot;^17&quot;,[4463,&quot;^V&quot;,4440,536896433]],[&quot;^17&quot;,[4463,&quot;^?&quot;,[&quot;^ &quot;],536896399]],[&quot;^17&quot;,[4463,&quot;^H&quot;,266,536896399]],[&quot;^17&quot;,[4463,&quot;^1@&quot;,true,536896394]],[&quot;^17&quot;,[4463,&quot;^;&quot;,&quot;~u62fdfc7c-41cc-4116-a034-9b82ae786509&quot;,536896394]],[&quot;^17&quot;,[4464,&quot;^R&quot;,&quot;[[cs61b]]&quot;,536896404]],[&quot;^17&quot;,[4464,&quot;^P&quot;,&quot;^19&quot;,536896401]],[&quot;^17&quot;,[4464,&quot;^@&quot;,false,536896401]],[&quot;^17&quot;,[4464,&quot;^F&quot;,4463,536896401]],[&quot;^17&quot;,[4464,&quot;^T&quot;,[&quot;^16&quot;,[]],536896401]],[&quot;^17&quot;,[4464,&quot;^Z&quot;,4440,536896401]],[&quot;^17&quot;,[4464,&quot;^W&quot;,4460,536896401]],[&quot;^17&quot;,[4464,&quot;^V&quot;,4440,536896433]],[&quot;^17&quot;,[4464,&quot;^?&quot;,[&quot;^ &quot;],536896404]],[&quot;^17&quot;,[4464,&quot;^H&quot;,278,536896404]],[&quot;^17&quot;,[4464,&quot;^1@&quot;,true,536896401]],[&quot;^17&quot;,[4464,&quot;^;&quot;,&quot;~u62fdfcba-4f70-4070-9db7-8083dce24dbc&quot;,536896401]],[&quot;^17&quot;,[4465,&quot;^R&quot;,&quot;❌[[cs61c]]&quot;,536896420]],[&quot;^17&quot;,[4465,&quot;^P&quot;,&quot;^19&quot;,536896404]],[&quot;^17&quot;,[4465,&quot;^@&quot;,false,536896404]],[&quot;^17&quot;,[4465,&quot;^F&quot;,4464,536896404]],[&quot;^17&quot;,[4465,&quot;^T&quot;,[&quot;^16&quot;,[]],536896404]],[&quot;^17&quot;,[4465,&quot;^Z&quot;,4440,536896404]],[&quot;^17&quot;,[4465,&quot;^W&quot;,4460,536896404]],[&quot;^17&quot;,[4465,&quot;^V&quot;,4440,536896433]],[&quot;^17&quot;,[4465,&quot;^?&quot;,[&quot;^ &quot;],536896420]],[&quot;^17&quot;,[4465,&quot;^H&quot;,256,536896420]],[&quot;^17&quot;,[4465,&quot;^1@&quot;,true,536896404]],[&quot;^17&quot;,[4465,&quot;^;&quot;,&quot;~u62fdfcbf-7e39-4831-beb8-369ae2def09f&quot;,536896404]],[&quot;^17&quot;,[4466,&quot;^R&quot;,&quot;[[cs186]]&quot;,536896439]],[&quot;^17&quot;,[4466,&quot;^P&quot;,&quot;^19&quot;,536896436]],[&quot;^17&quot;,[4466,&quot;^@&quot;,false,536896436]],[&quot;^17&quot;,[4466,&quot;^F&quot;,4465,536896436]],[&quot;^17&quot;,[4466,&quot;^T&quot;,[&quot;^16&quot;,[]],536896436]],[&quot;^17&quot;,[4466,&quot;^Z&quot;,4440,536896436]],[&quot;^17&quot;,[4466,&quot;^W&quot;,4460,536896436]],[&quot;^17&quot;,[4466,&quot;^V&quot;,171,536896440]],[&quot;^17&quot;,[4466,&quot;^V&quot;,4440,536896440]],[&quot;^17&quot;,[4466,&quot;^?&quot;,[&quot;^ &quot;],536896439]],[&quot;^17&quot;,[4466,&quot;^H&quot;,171,536896439]],[&quot;^17&quot;,[4466,&quot;^1@&quot;,true,536896436]],[&quot;^17&quot;,[4466,&quot;^;&quot;,&quot;~u62fdfd20-dde8-4716-8f5b-46d97f7c7994&quot;,536896436]],[&quot;^17&quot;,[4467,&quot;^R&quot;,&quot;[[cmu15-445]]&quot;,536896444]],[&quot;^17&quot;,[4467,&quot;^P&quot;,&quot;^19&quot;,536896441]],[&quot;^17&quot;,[4467,&quot;^@&quot;,false,536896441]],[&quot;^17&quot;,[4467,&quot;^F&quot;,4466,536896441]],[&quot;^17&quot;,[4467,&quot;^T&quot;,[&quot;^16&quot;,[]],536896441]],[&quot;^17&quot;,[4467,&quot;^Z&quot;,4440,536896441]],[&quot;^17&quot;,[4467,&quot;^W&quot;,4460,536896441]],[&quot;^17&quot;,[4467,&quot;^V&quot;,293,536896445]],[&quot;^17&quot;,[4467,&quot;^V&quot;,4440,536896445]],[&quot;^17&quot;,[4467,&quot;^?&quot;,[&quot;^ &quot;],536896444]],[&quot;^17&quot;,[4467,&quot;^H&quot;,293,536896444]],[&quot;^17&quot;,[4467,&quot;^1@&quot;,true,536896441]],[&quot;^17&quot;,[4467,&quot;^;&quot;,&quot;~u62fdfd25-19fd-4e9f-9f31-fff4e2ad34f9&quot;,536896441]],[&quot;^17&quot;,[4468,&quot;^R&quot;,&quot;public:: true&quot;,536896449]],[&quot;^17&quot;,[4468,&quot;^P&quot;,&quot;^19&quot;,536896449]],[&quot;^17&quot;,[4468,&quot;^F&quot;,171,536896449]],[&quot;^17&quot;,[4468,&quot;^Z&quot;,171,536896449]],[&quot;^17&quot;,[4468,&quot;^W&quot;,171,536896449]],[&quot;^17&quot;,[4468,&quot;^V&quot;,171,536896450]],[&quot;^17&quot;,[4468,&quot;^:&quot;,true,536896449]],[&quot;^17&quot;,[4468,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896449]],[&quot;^17&quot;,[4468,&quot;^;&quot;,&quot;~u375d015b-ff60-4ebe-a61a-5f1493af8f9e&quot;,536896449]],[&quot;^17&quot;,[4469,&quot;^R&quot;,&quot;[[6.S081]]&quot;,536896466]],[&quot;^17&quot;,[4469,&quot;^P&quot;,&quot;^19&quot;,536896453]],[&quot;^17&quot;,[4469,&quot;^@&quot;,false,536896453]],[&quot;^17&quot;,[4469,&quot;^F&quot;,4461,536896453]],[&quot;^17&quot;,[4469,&quot;^T&quot;,[&quot;^16&quot;,[]],536896453]],[&quot;^17&quot;,[4469,&quot;^Z&quot;,4440,536896453]],[&quot;^17&quot;,[4469,&quot;^W&quot;,4461,536896455]],[&quot;^17&quot;,[4469,&quot;^V&quot;,265,536896467]],[&quot;^17&quot;,[4469,&quot;^V&quot;,4440,536896467]],[&quot;^17&quot;,[4469,&quot;^?&quot;,[&quot;^ &quot;],536896466]],[&quot;^17&quot;,[4469,&quot;^H&quot;,265,536896466]],[&quot;^17&quot;,[4469,&quot;^1@&quot;,true,536896453]],[&quot;^17&quot;,[4469,&quot;^;&quot;,&quot;~u62fdfd3a-c769-4d01-8747-332dea4d7da1&quot;,536896453]],[&quot;^17&quot;,[4470,&quot;^R&quot;,&quot;[[6.824]]&quot;,536896471]],[&quot;^17&quot;,[4470,&quot;^P&quot;,&quot;^19&quot;,536896468]],[&quot;^17&quot;,[4470,&quot;^@&quot;,false,536896468]],[&quot;^17&quot;,[4470,&quot;^F&quot;,4469,536896468]],[&quot;^17&quot;,[4470,&quot;^T&quot;,[&quot;^16&quot;,[]],536896468]],[&quot;^17&quot;,[4470,&quot;^Z&quot;,4440,536896468]],[&quot;^17&quot;,[4470,&quot;^W&quot;,4461,536896468]],[&quot;^17&quot;,[4470,&quot;^V&quot;,274,536896472]],[&quot;^17&quot;,[4470,&quot;^V&quot;,4440,536896472]],[&quot;^17&quot;,[4470,&quot;^?&quot;,[&quot;^ &quot;],536896471]],[&quot;^17&quot;,[4470,&quot;^H&quot;,274,536896471]],[&quot;^17&quot;,[4470,&quot;^1@&quot;,true,536896468]],[&quot;^17&quot;,[4470,&quot;^;&quot;,&quot;~u62fdfd4c-7e29-4d87-ba6c-00990b526685&quot;,536896468]],[&quot;^17&quot;,[4471,&quot;^R&quot;,&quot;[[cs168]]&quot;,536896476]],[&quot;^17&quot;,[4471,&quot;^P&quot;,&quot;^19&quot;,536896473]],[&quot;^17&quot;,[4471,&quot;^@&quot;,false,536896473]],[&quot;^17&quot;,[4471,&quot;^F&quot;,4470,536896473]],[&quot;^17&quot;,[4471,&quot;^T&quot;,[&quot;^16&quot;,[]],536896473]],[&quot;^17&quot;,[4471,&quot;^Z&quot;,4440,536896473]],[&quot;^17&quot;,[4471,&quot;^W&quot;,4461,536896473]],[&quot;^17&quot;,[4471,&quot;^V&quot;,4440,536896477]],[&quot;^17&quot;,[4471,&quot;^V&quot;,4472,536896477]],[&quot;^17&quot;,[4471,&quot;^?&quot;,[&quot;^ &quot;],536896476]],[&quot;^17&quot;,[4471,&quot;^H&quot;,4472,536896476]],[&quot;^17&quot;,[4471,&quot;^1@&quot;,true,536896473]],[&quot;^17&quot;,[4471,&quot;^;&quot;,&quot;~u62fdfd50-2b2d-40b2-923c-27fec7f98714&quot;,536896473]],[&quot;^17&quot;,[4473,&quot;^R&quot;,&quot;## 课程项目\\nbackground-color:: #264c9b&quot;,536896505]],[&quot;^17&quot;,[4473,&quot;^P&quot;,&quot;^19&quot;,536896476]],[&quot;^17&quot;,[4473,&quot;^X&quot;,2,536896496]],[&quot;^17&quot;,[4473,&quot;^@&quot;,false,536896476]],[&quot;^17&quot;,[4473,&quot;^F&quot;,4449,536896484]],[&quot;^17&quot;,[4473,&quot;^T&quot;,[&quot;^16&quot;,[]],536896476]],[&quot;^17&quot;,[4473,&quot;^Z&quot;,4440,536896476]],[&quot;^17&quot;,[4473,&quot;^W&quot;,4440,536896484]],[&quot;^17&quot;,[4473,&quot;^V&quot;,4440,536896497]],[&quot;^17&quot;,[4473,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1A&quot;,&quot;#264c9b&quot;],536896505]],[&quot;^17&quot;,[4473,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1A&quot;]],536896505]],[&quot;^17&quot;,[4473,&quot;^1&gt;&quot;,2,536896488]],[&quot;^17&quot;,[4473,&quot;^Y&quot;,&quot;^1?&quot;,536896496]],[&quot;^17&quot;,[4473,&quot;^1@&quot;,true,536896476]],[&quot;^17&quot;,[4473,&quot;^;&quot;,&quot;~u62fdfd56-d2a2-45a6-ba57-1424cf78d36c&quot;,536896476]],[&quot;^17&quot;,[4474,&quot;^R&quot;,&quot;### cs186\\n[[proj4concurrency]]\\n[[proj5-Recovery]]&quot;,536896530]],[&quot;^17&quot;,[4474,&quot;^P&quot;,&quot;^19&quot;,536896500]],[&quot;^17&quot;,[4474,&quot;^X&quot;,3,536896530]],[&quot;^17&quot;,[4474,&quot;^@&quot;,false,536896500]],[&quot;^17&quot;,[4474,&quot;^F&quot;,4473,536896500]],[&quot;^17&quot;,[4474,&quot;^T&quot;,[&quot;^16&quot;,[]],536896500]],[&quot;^17&quot;,[4474,&quot;^Z&quot;,4440,536896500]],[&quot;^17&quot;,[4474,&quot;^W&quot;,4473,536896500]],[&quot;^17&quot;,[4474,&quot;^V&quot;,20,536896531]],[&quot;^17&quot;,[4474,&quot;^V&quot;,160,536896531]],[&quot;^17&quot;,[4474,&quot;^V&quot;,4440,536896531]],[&quot;^17&quot;,[4474,&quot;^?&quot;,[&quot;^ &quot;],536896530]],[&quot;^17&quot;,[4474,&quot;^H&quot;,20,536896530]],[&quot;^17&quot;,[4474,&quot;^H&quot;,160,536896530]],[&quot;^17&quot;,[4474,&quot;^1&gt;&quot;,3,536896509]],[&quot;^17&quot;,[4474,&quot;^Y&quot;,&quot;^1?&quot;,536896530]],[&quot;^17&quot;,[4474,&quot;^1@&quot;,true,536896500]],[&quot;^17&quot;,[4474,&quot;^;&quot;,&quot;~u62fdfd79-cfa2-4ffd-a53a-69c6b92ef0e8&quot;,536896500]],[&quot;^17&quot;,[4476,&quot;^R&quot;,&quot;### cs61b\\n[gitlet](https://zhuanlan.zhihu.com/p/463386533)&quot;,536896585]],[&quot;^17&quot;,[4476,&quot;^P&quot;,&quot;^19&quot;,536896532]],[&quot;^17&quot;,[4476,&quot;^X&quot;,3,536896585]],[&quot;^17&quot;,[4476,&quot;^@&quot;,false,536896532]],[&quot;^17&quot;,[4476,&quot;^F&quot;,4474,536896532]],[&quot;^17&quot;,[4476,&quot;^T&quot;,[&quot;^16&quot;,[]],536896532]],[&quot;^17&quot;,[4476,&quot;^Z&quot;,4440,536896532]],[&quot;^17&quot;,[4476,&quot;^W&quot;,4473,536896532]],[&quot;^17&quot;,[4476,&quot;^V&quot;,4440,536896586]],[&quot;^17&quot;,[4476,&quot;^?&quot;,[&quot;^ &quot;],536896585]],[&quot;^17&quot;,[4476,&quot;^1&gt;&quot;,3,536896544]],[&quot;^17&quot;,[4476,&quot;^Y&quot;,&quot;^1?&quot;,536896585]],[&quot;^17&quot;,[4476,&quot;^1@&quot;,true,536896532]],[&quot;^17&quot;,[4476,&quot;^;&quot;,&quot;~u62fdfdae-8fea-496e-be5e-1a7028edec67&quot;,536896532]],[&quot;^17&quot;,[4477,&quot;^R&quot;,&quot;## 课程笔记\\nbackground-color:: #533e7d&quot;,536896691]],[&quot;^17&quot;,[4477,&quot;^P&quot;,&quot;^19&quot;,536896643]],[&quot;^17&quot;,[4477,&quot;^X&quot;,2,536896682]],[&quot;^17&quot;,[4477,&quot;^@&quot;,false,536896643]],[&quot;^17&quot;,[4477,&quot;^F&quot;,4473,536896658]],[&quot;^17&quot;,[4477,&quot;^T&quot;,[&quot;^16&quot;,[]],536896643]],[&quot;^17&quot;,[4477,&quot;^Z&quot;,4440,536896643]],[&quot;^17&quot;,[4477,&quot;^W&quot;,4440,536896658]],[&quot;^17&quot;,[4477,&quot;^V&quot;,4440,536896683]],[&quot;^17&quot;,[4477,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1A&quot;,&quot;#533e7d&quot;],536896691]],[&quot;^17&quot;,[4477,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1A&quot;]],536896691]],[&quot;^17&quot;,[4477,&quot;^1&gt;&quot;,2,536896662]],[&quot;^17&quot;,[4477,&quot;^Y&quot;,&quot;^1?&quot;,536896682]],[&quot;^17&quot;,[4477,&quot;^1@&quot;,true,536896643]],[&quot;^17&quot;,[4477,&quot;^;&quot;,&quot;~u62fdfe3c-6045-4a61-9099-d0b9ae6f9cf0&quot;,536896643]],[&quot;^17&quot;,[4478,&quot;^R&quot;,&quot;public:: true&quot;,536896647]],[&quot;^17&quot;,[4478,&quot;^P&quot;,&quot;^19&quot;,536896647]],[&quot;^17&quot;,[4478,&quot;^F&quot;,160,536896647]],[&quot;^17&quot;,[4478,&quot;^Z&quot;,160,536896647]],[&quot;^17&quot;,[4478,&quot;^W&quot;,160,536896647]],[&quot;^17&quot;,[4478,&quot;^V&quot;,160,536896648]],[&quot;^17&quot;,[4478,&quot;^:&quot;,true,536896647]],[&quot;^17&quot;,[4478,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896647]],[&quot;^17&quot;,[4478,&quot;^;&quot;,&quot;~u39e8f429-3f94-49ed-bba5-7e46f8c903e7&quot;,536896647]],[&quot;^17&quot;,[4479,&quot;^R&quot;,&quot;public:: true&quot;,536896652]],[&quot;^17&quot;,[4479,&quot;^P&quot;,&quot;^19&quot;,536896652]],[&quot;^17&quot;,[4479,&quot;^F&quot;,20,536896652]],[&quot;^17&quot;,[4479,&quot;^Z&quot;,20,536896652]],[&quot;^17&quot;,[4479,&quot;^W&quot;,20,536896652]],[&quot;^17&quot;,[4479,&quot;^V&quot;,20,536896653]],[&quot;^17&quot;,[4479,&quot;^:&quot;,true,536896652]],[&quot;^17&quot;,[4479,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896652]],[&quot;^17&quot;,[4479,&quot;^;&quot;,&quot;~u1e9d52cf-fb6f-4e57-976a-e421eca1377f&quot;,536896652]],[&quot;^17&quot;,[4480,&quot;^R&quot;,&quot;[[数据库]]&quot;,536896695]],[&quot;^17&quot;,[4480,&quot;^P&quot;,&quot;^19&quot;,536896684]],[&quot;^17&quot;,[4480,&quot;^@&quot;,false,536896684]],[&quot;^17&quot;,[4480,&quot;^F&quot;,4477,536896684]],[&quot;^17&quot;,[4480,&quot;^T&quot;,[&quot;^16&quot;,[]],536896684]],[&quot;^17&quot;,[4480,&quot;^Z&quot;,4440,536896684]],[&quot;^17&quot;,[4480,&quot;^W&quot;,4477,536896687]],[&quot;^17&quot;,[4480,&quot;^V&quot;,32,536896696]],[&quot;^17&quot;,[4480,&quot;^V&quot;,4440,536896696]],[&quot;^17&quot;,[4480,&quot;^?&quot;,[&quot;^ &quot;],536896695]],[&quot;^17&quot;,[4480,&quot;^H&quot;,32,536896695]],[&quot;^17&quot;,[4480,&quot;^1@&quot;,true,536896684]],[&quot;^17&quot;,[4480,&quot;^;&quot;,&quot;~u62fdfecf-89af-438c-aa11-ab3c34f510b0&quot;,536896684]],[&quot;^17&quot;,[4481,&quot;^R&quot;,&quot;[[k8s]]&quot;,536901067]],[&quot;^17&quot;,[4481,&quot;^P&quot;,&quot;^19&quot;,536896695]],[&quot;^17&quot;,[4481,&quot;^@&quot;,false,536896695]],[&quot;^17&quot;,[4481,&quot;^F&quot;,4480,536896695]],[&quot;^17&quot;,[4481,&quot;^T&quot;,[&quot;^16&quot;,[]],536896695]],[&quot;^17&quot;,[4481,&quot;^Z&quot;,4440,536896695]],[&quot;^17&quot;,[4481,&quot;^W&quot;,4477,536896695]],[&quot;^17&quot;,[4481,&quot;^V&quot;,4440,536901068]],[&quot;^17&quot;,[4481,&quot;^V&quot;,4773,536901068]],[&quot;^17&quot;,[4481,&quot;^?&quot;,[&quot;^ &quot;],536901067]],[&quot;^17&quot;,[4481,&quot;^H&quot;,4773,536901067]],[&quot;^17&quot;,[4481,&quot;^1@&quot;,true,536896695]],[&quot;^17&quot;,[4481,&quot;^;&quot;,&quot;~u62fdfee2-e879-4580-a45e-5acce28c6f3e&quot;,536896695]],[&quot;^17&quot;,[4482,&quot;^R&quot;,&quot;public:: true&quot;,536896700]],[&quot;^17&quot;,[4482,&quot;^P&quot;,&quot;^19&quot;,536896700]],[&quot;^17&quot;,[4482,&quot;^F&quot;,32,536896700]],[&quot;^17&quot;,[4482,&quot;^Z&quot;,32,536896700]],[&quot;^17&quot;,[4482,&quot;^W&quot;,32,536896700]],[&quot;^17&quot;,[4482,&quot;^V&quot;,32,536896701]],[&quot;^17&quot;,[4482,&quot;^:&quot;,true,536896700]],[&quot;^17&quot;,[4482,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896700]],[&quot;^17&quot;,[4482,&quot;^;&quot;,&quot;~uf3107305-a3bd-474c-84c4-6ece73e38199&quot;,536896700]],[&quot;^17&quot;,[4483,&quot;^R&quot;,&quot;public:: true&quot;,536896705]],[&quot;^17&quot;,[4483,&quot;^P&quot;,&quot;^19&quot;,536896705]],[&quot;^17&quot;,[4483,&quot;^F&quot;,2844,536896705]],[&quot;^17&quot;,[4483,&quot;^Z&quot;,2844,536896705]],[&quot;^17&quot;,[4483,&quot;^W&quot;,2844,536896705]],[&quot;^17&quot;,[4483,&quot;^V&quot;,2844,536896706]],[&quot;^17&quot;,[4483,&quot;^:&quot;,true,536896705]],[&quot;^17&quot;,[4483,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896705]],[&quot;^17&quot;,[4483,&quot;^;&quot;,&quot;~u63bb9c6d-1fbb-4231-b982-2c9742d33e21&quot;,536896705]],[&quot;^17&quot;,[4484,&quot;^R&quot;,&quot;public:: true&quot;,536896710]],[&quot;^17&quot;,[4484,&quot;^P&quot;,&quot;^19&quot;,536896710]],[&quot;^17&quot;,[4484,&quot;^F&quot;,622,536896710]],[&quot;^17&quot;,[4484,&quot;^Z&quot;,622,536896710]],[&quot;^17&quot;,[4484,&quot;^W&quot;,622,536896710]],[&quot;^17&quot;,[4484,&quot;^V&quot;,622,536896711]],[&quot;^17&quot;,[4484,&quot;^:&quot;,true,536896710]],[&quot;^17&quot;,[4484,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896710]],[&quot;^17&quot;,[4484,&quot;^;&quot;,&quot;~uf31d6c1a-ab6e-4917-8635-8e08b205f731&quot;,536896710]],[&quot;^17&quot;,[4485,&quot;^R&quot;,&quot;public:: true&quot;,536896716]],[&quot;^17&quot;,[4485,&quot;^P&quot;,&quot;^19&quot;,536896716]],[&quot;^17&quot;,[4485,&quot;^F&quot;,109,536896716]],[&quot;^17&quot;,[4485,&quot;^Z&quot;,109,536896716]],[&quot;^17&quot;,[4485,&quot;^W&quot;,109,536896716]],[&quot;^17&quot;,[4485,&quot;^V&quot;,109,536896717]],[&quot;^17&quot;,[4485,&quot;^:&quot;,true,536896716]],[&quot;^17&quot;,[4485,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896716]],[&quot;^17&quot;,[4485,&quot;^;&quot;,&quot;~udac04f48-8bd8-40e1-8a5e-d3d9543cdd99&quot;,536896716]],[&quot;^17&quot;,[4486,&quot;^R&quot;,&quot;public:: true&quot;,536896721]],[&quot;^17&quot;,[4486,&quot;^P&quot;,&quot;^19&quot;,536896721]],[&quot;^17&quot;,[4486,&quot;^F&quot;,262,536896721]],[&quot;^17&quot;,[4486,&quot;^Z&quot;,262,536896721]],[&quot;^17&quot;,[4486,&quot;^W&quot;,262,536896721]],[&quot;^17&quot;,[4486,&quot;^V&quot;,262,536896722]],[&quot;^17&quot;,[4486,&quot;^:&quot;,true,536896721]],[&quot;^17&quot;,[4486,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896721]],[&quot;^17&quot;,[4486,&quot;^;&quot;,&quot;~u4411bf24-d021-4de6-9087-f3e56013fd59&quot;,536896721]],[&quot;^17&quot;,[4487,&quot;^R&quot;,&quot;public:: true&quot;,536896726]],[&quot;^17&quot;,[4487,&quot;^P&quot;,&quot;^19&quot;,536896726]],[&quot;^17&quot;,[4487,&quot;^F&quot;,747,536896726]],[&quot;^17&quot;,[4487,&quot;^Z&quot;,747,536896726]],[&quot;^17&quot;,[4487,&quot;^W&quot;,747,536896726]],[&quot;^17&quot;,[4487,&quot;^V&quot;,747,536896727]],[&quot;^17&quot;,[4487,&quot;^:&quot;,true,536896726]],[&quot;^17&quot;,[4487,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896726]],[&quot;^17&quot;,[4487,&quot;^;&quot;,&quot;~u31b80310-48f8-492a-8b53-e390053c6b3c&quot;,536896726]],[&quot;^17&quot;,[4488,&quot;^R&quot;,&quot;public:: true&quot;,536896738]],[&quot;^17&quot;,[4488,&quot;^P&quot;,&quot;^19&quot;,536896738]],[&quot;^17&quot;,[4488,&quot;^F&quot;,748,536896738]],[&quot;^17&quot;,[4488,&quot;^Z&quot;,748,536896738]],[&quot;^17&quot;,[4488,&quot;^W&quot;,748,536896738]],[&quot;^17&quot;,[4488,&quot;^V&quot;,748,536896739]],[&quot;^17&quot;,[4488,&quot;^:&quot;,true,536896738]],[&quot;^17&quot;,[4488,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896738]],[&quot;^17&quot;,[4488,&quot;^;&quot;,&quot;~ub1beb979-3843-408d-ace9-b068df9c57a4&quot;,536896738]],[&quot;^17&quot;,[4489,&quot;^R&quot;,&quot;public:: true&quot;,536896743]],[&quot;^17&quot;,[4489,&quot;^P&quot;,&quot;^19&quot;,536896743]],[&quot;^17&quot;,[4489,&quot;^F&quot;,746,536896743]],[&quot;^17&quot;,[4489,&quot;^Z&quot;,746,536896743]],[&quot;^17&quot;,[4489,&quot;^W&quot;,746,536896743]],[&quot;^17&quot;,[4489,&quot;^V&quot;,746,536896744]],[&quot;^17&quot;,[4489,&quot;^:&quot;,true,536896743]],[&quot;^17&quot;,[4489,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896743]],[&quot;^17&quot;,[4489,&quot;^;&quot;,&quot;~u7215b008-1915-4083-aaed-50351fa9da56&quot;,536896743]],[&quot;^17&quot;,[4490,&quot;^R&quot;,&quot;public:: true&quot;,536896748]],[&quot;^17&quot;,[4490,&quot;^P&quot;,&quot;^19&quot;,536896748]],[&quot;^17&quot;,[4490,&quot;^F&quot;,653,536896748]],[&quot;^17&quot;,[4490,&quot;^Z&quot;,653,536896748]],[&quot;^17&quot;,[4490,&quot;^W&quot;,653,536896748]],[&quot;^17&quot;,[4490,&quot;^V&quot;,653,536896749]],[&quot;^17&quot;,[4490,&quot;^:&quot;,true,536896748]],[&quot;^17&quot;,[4490,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896748]],[&quot;^17&quot;,[4490,&quot;^;&quot;,&quot;~uc457f03b-113e-4e09-8e7f-e718c669395f&quot;,536896748]],[&quot;^17&quot;,[4491,&quot;^R&quot;,&quot;public:: true&quot;,536896753]],[&quot;^17&quot;,[4491,&quot;^P&quot;,&quot;^19&quot;,536896753]],[&quot;^17&quot;,[4491,&quot;^F&quot;,749,536896753]],[&quot;^17&quot;,[4491,&quot;^Z&quot;,749,536896753]],[&quot;^17&quot;,[4491,&quot;^W&quot;,749,536896753]],[&quot;^17&quot;,[4491,&quot;^V&quot;,749,536896754]],[&quot;^17&quot;,[4491,&quot;^:&quot;,true,536896753]],[&quot;^17&quot;,[4491,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896753]],[&quot;^17&quot;,[4491,&quot;^;&quot;,&quot;~ub5698d94-1afb-4158-b3f9-e2267191ba08&quot;,536896753]],[&quot;^17&quot;,[4492,&quot;^R&quot;,&quot;public:: true&quot;,536896758]],[&quot;^17&quot;,[4492,&quot;^P&quot;,&quot;^19&quot;,536896758]],[&quot;^17&quot;,[4492,&quot;^F&quot;,751,536896758]],[&quot;^17&quot;,[4492,&quot;^Z&quot;,751,536896758]],[&quot;^17&quot;,[4492,&quot;^W&quot;,751,536896758]],[&quot;^17&quot;,[4492,&quot;^V&quot;,751,536896759]],[&quot;^17&quot;,[4492,&quot;^:&quot;,true,536896758]],[&quot;^17&quot;,[4492,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896758]],[&quot;^17&quot;,[4492,&quot;^;&quot;,&quot;~u79cead9f-5561-4943-8438-847c2615adbb&quot;,536896758]],[&quot;^17&quot;,[4494,&quot;^R&quot;,&quot;public:: true&quot;,536896766]],[&quot;^17&quot;,[4494,&quot;^P&quot;,&quot;^19&quot;,536896766]],[&quot;^17&quot;,[4494,&quot;^F&quot;,499,536896766]],[&quot;^17&quot;,[4494,&quot;^Z&quot;,499,536896766]],[&quot;^17&quot;,[4494,&quot;^W&quot;,499,536896766]],[&quot;^17&quot;,[4494,&quot;^V&quot;,499,536896767]],[&quot;^17&quot;,[4494,&quot;^:&quot;,true,536896766]],[&quot;^17&quot;,[4494,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896766]],[&quot;^17&quot;,[4494,&quot;^;&quot;,&quot;~u5e061dba-0206-45ab-a909-8c8cae608160&quot;,536896766]],[&quot;^17&quot;,[4495,&quot;^R&quot;,&quot;&quot;,536896771]],[&quot;^17&quot;,[4495,&quot;^P&quot;,&quot;^19&quot;,536896771]],[&quot;^17&quot;,[4495,&quot;^@&quot;,false,536896771]],[&quot;^17&quot;,[4495,&quot;^F&quot;,4496,536896773]],[&quot;^17&quot;,[4495,&quot;^T&quot;,[&quot;^16&quot;,[]],536896771]],[&quot;^17&quot;,[4495,&quot;^Z&quot;,2845,536896771]],[&quot;^17&quot;,[4495,&quot;^W&quot;,2845,536896771]],[&quot;^17&quot;,[4495,&quot;^?&quot;,[&quot;^ &quot;],536896771]],[&quot;^17&quot;,[4495,&quot;^1@&quot;,true,536896771]],[&quot;^17&quot;,[4495,&quot;^;&quot;,&quot;~u62fdff76-8f25-4fa6-bad1-1c27caf2e220&quot;,536896771]],[&quot;^17&quot;,[4496,&quot;^R&quot;,&quot;public:: true&quot;,536896773]],[&quot;^17&quot;,[4496,&quot;^P&quot;,&quot;^19&quot;,536896773]],[&quot;^17&quot;,[4496,&quot;^F&quot;,2845,536896773]],[&quot;^17&quot;,[4496,&quot;^Z&quot;,2845,536896773]],[&quot;^17&quot;,[4496,&quot;^W&quot;,2845,536896773]],[&quot;^17&quot;,[4496,&quot;^V&quot;,2845,536896774]],[&quot;^17&quot;,[4496,&quot;^:&quot;,true,536896773]],[&quot;^17&quot;,[4496,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896773]],[&quot;^17&quot;,[4496,&quot;^;&quot;,&quot;~u4e0b6d04-4141-415f-8145-544b8d9af12d&quot;,536896773]],[&quot;^17&quot;,[4498,&quot;^R&quot;,&quot;public:: true&quot;,536896784]],[&quot;^17&quot;,[4498,&quot;^P&quot;,&quot;^19&quot;,536896784]],[&quot;^17&quot;,[4498,&quot;^F&quot;,104,536896784]],[&quot;^17&quot;,[4498,&quot;^Z&quot;,104,536896784]],[&quot;^17&quot;,[4498,&quot;^W&quot;,104,536896784]],[&quot;^17&quot;,[4498,&quot;^V&quot;,104,536896785]],[&quot;^17&quot;,[4498,&quot;^:&quot;,true,536896784]],[&quot;^17&quot;,[4498,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896784]],[&quot;^17&quot;,[4498,&quot;^;&quot;,&quot;~u8406b3d9-ac3c-406c-ad73-22a91dc127ab&quot;,536896784]],[&quot;^17&quot;,[4499,&quot;^R&quot;,&quot;public:: true&quot;,536896789]],[&quot;^17&quot;,[4499,&quot;^P&quot;,&quot;^19&quot;,536896789]],[&quot;^17&quot;,[4499,&quot;^F&quot;,100,536896789]],[&quot;^17&quot;,[4499,&quot;^Z&quot;,100,536896789]],[&quot;^17&quot;,[4499,&quot;^W&quot;,100,536896789]],[&quot;^17&quot;,[4499,&quot;^V&quot;,100,536896790]],[&quot;^17&quot;,[4499,&quot;^:&quot;,true,536896789]],[&quot;^17&quot;,[4499,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896789]],[&quot;^17&quot;,[4499,&quot;^;&quot;,&quot;~u91f998e2-c70b-420e-8ef6-cbf49cc21977&quot;,536896789]],[&quot;^17&quot;,[4500,&quot;^R&quot;,&quot;public:: true&quot;,536896801]],[&quot;^17&quot;,[4500,&quot;^P&quot;,&quot;^19&quot;,536896801]],[&quot;^17&quot;,[4500,&quot;^F&quot;,2550,536896801]],[&quot;^17&quot;,[4500,&quot;^Z&quot;,2550,536896801]],[&quot;^17&quot;,[4500,&quot;^W&quot;,2550,536896801]],[&quot;^17&quot;,[4500,&quot;^V&quot;,2550,536896802]],[&quot;^17&quot;,[4500,&quot;^:&quot;,true,536896801]],[&quot;^17&quot;,[4500,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896801]],[&quot;^17&quot;,[4500,&quot;^;&quot;,&quot;~u12c3b398-d3ec-46a0-87c0-387ac62d8e97&quot;,536896801]],[&quot;^17&quot;,[4501,&quot;^R&quot;,&quot;public:: true&quot;,536896806]],[&quot;^17&quot;,[4501,&quot;^P&quot;,&quot;^19&quot;,536896806]],[&quot;^17&quot;,[4501,&quot;^F&quot;,267,536896806]],[&quot;^17&quot;,[4501,&quot;^Z&quot;,267,536896806]],[&quot;^17&quot;,[4501,&quot;^W&quot;,267,536896806]],[&quot;^17&quot;,[4501,&quot;^V&quot;,267,536896807]],[&quot;^17&quot;,[4501,&quot;^:&quot;,true,536896806]],[&quot;^17&quot;,[4501,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896806]],[&quot;^17&quot;,[4501,&quot;^;&quot;,&quot;~u6a853556-2559-46ea-8fd3-b66920b7e450&quot;,536896806]],[&quot;^17&quot;,[4502,&quot;^R&quot;,&quot;public:: true&quot;,536896811]],[&quot;^17&quot;,[4502,&quot;^P&quot;,&quot;^19&quot;,536896811]],[&quot;^17&quot;,[4502,&quot;^F&quot;,1685,536896811]],[&quot;^17&quot;,[4502,&quot;^Z&quot;,1685,536896811]],[&quot;^17&quot;,[4502,&quot;^W&quot;,1685,536896811]],[&quot;^17&quot;,[4502,&quot;^V&quot;,1685,536896812]],[&quot;^17&quot;,[4502,&quot;^:&quot;,true,536896811]],[&quot;^17&quot;,[4502,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896811]],[&quot;^17&quot;,[4502,&quot;^;&quot;,&quot;~u2842243b-dbb6-4aa5-97b4-507790e3731c&quot;,536896811]],[&quot;^17&quot;,[4503,&quot;^R&quot;,&quot;public:: true&quot;,536896816]],[&quot;^17&quot;,[4503,&quot;^P&quot;,&quot;^19&quot;,536896816]],[&quot;^17&quot;,[4503,&quot;^F&quot;,297,536896816]],[&quot;^17&quot;,[4503,&quot;^Z&quot;,297,536896816]],[&quot;^17&quot;,[4503,&quot;^W&quot;,297,536896816]],[&quot;^17&quot;,[4503,&quot;^V&quot;,297,536896817]],[&quot;^17&quot;,[4503,&quot;^:&quot;,true,536896816]],[&quot;^17&quot;,[4503,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896816]],[&quot;^17&quot;,[4503,&quot;^;&quot;,&quot;~uf6b1c067-bfb2-49ed-b9b8-57c2f1d77a42&quot;,536896816]],[&quot;^17&quot;,[4504,&quot;^R&quot;,&quot;public:: true&quot;,536896821]],[&quot;^17&quot;,[4504,&quot;^P&quot;,&quot;^19&quot;,536896821]],[&quot;^17&quot;,[4504,&quot;^F&quot;,294,536896821]],[&quot;^17&quot;,[4504,&quot;^Z&quot;,294,536896821]],[&quot;^17&quot;,[4504,&quot;^W&quot;,294,536896821]],[&quot;^17&quot;,[4504,&quot;^V&quot;,294,536896822]],[&quot;^17&quot;,[4504,&quot;^:&quot;,true,536896821]],[&quot;^17&quot;,[4504,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896821]],[&quot;^17&quot;,[4504,&quot;^;&quot;,&quot;~ud19dfbe4-146c-422d-bdad-ffc875465d4a&quot;,536896821]],[&quot;^17&quot;,[4505,&quot;^R&quot;,&quot;public:: true&quot;,536896826]],[&quot;^17&quot;,[4505,&quot;^P&quot;,&quot;^19&quot;,536896826]],[&quot;^17&quot;,[4505,&quot;^F&quot;,79,536896826]],[&quot;^17&quot;,[4505,&quot;^Z&quot;,79,536896826]],[&quot;^17&quot;,[4505,&quot;^W&quot;,79,536896826]],[&quot;^17&quot;,[4505,&quot;^V&quot;,79,536896827]],[&quot;^17&quot;,[4505,&quot;^:&quot;,true,536896826]],[&quot;^17&quot;,[4505,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896826]],[&quot;^17&quot;,[4505,&quot;^;&quot;,&quot;~u5a1a2a63-7ca9-41fc-a857-a0b81a280331&quot;,536896826]],[&quot;^17&quot;,[4506,&quot;^R&quot;,&quot;public:: true&quot;,536896831]],[&quot;^17&quot;,[4506,&quot;^P&quot;,&quot;^19&quot;,536896831]],[&quot;^17&quot;,[4506,&quot;^F&quot;,2843,536896831]],[&quot;^17&quot;,[4506,&quot;^Z&quot;,2843,536896831]],[&quot;^17&quot;,[4506,&quot;^W&quot;,2843,536896831]],[&quot;^17&quot;,[4506,&quot;^V&quot;,2843,536896832]],[&quot;^17&quot;,[4506,&quot;^:&quot;,true,536896831]],[&quot;^17&quot;,[4506,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896831]],[&quot;^17&quot;,[4506,&quot;^;&quot;,&quot;~ud30d74f5-2f58-4b4b-9f4a-b17f65ab6a0c&quot;,536896831]],[&quot;^17&quot;,[4507,&quot;^R&quot;,&quot;public:: true&quot;,536896836]],[&quot;^17&quot;,[4507,&quot;^P&quot;,&quot;^19&quot;,536896836]],[&quot;^17&quot;,[4507,&quot;^F&quot;,635,536896836]],[&quot;^17&quot;,[4507,&quot;^Z&quot;,635,536896836]],[&quot;^17&quot;,[4507,&quot;^W&quot;,635,536896836]],[&quot;^17&quot;,[4507,&quot;^V&quot;,635,536896837]],[&quot;^17&quot;,[4507,&quot;^:&quot;,true,536896836]],[&quot;^17&quot;,[4507,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896836]],[&quot;^17&quot;,[4507,&quot;^;&quot;,&quot;~uc5d0db56-09dd-48be-9a02-d300aff5474e&quot;,536896836]],[&quot;^17&quot;,[4508,&quot;^R&quot;,&quot;public:: true&quot;,536896841]],[&quot;^17&quot;,[4508,&quot;^P&quot;,&quot;^19&quot;,536896841]],[&quot;^17&quot;,[4508,&quot;^F&quot;,445,536896841]],[&quot;^17&quot;,[4508,&quot;^Z&quot;,445,536896841]],[&quot;^17&quot;,[4508,&quot;^W&quot;,445,536896841]],[&quot;^17&quot;,[4508,&quot;^V&quot;,445,536896842]],[&quot;^17&quot;,[4508,&quot;^:&quot;,true,536896841]],[&quot;^17&quot;,[4508,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896841]],[&quot;^17&quot;,[4508,&quot;^;&quot;,&quot;~u012a24f1-1587-453f-a936-d2800ce18bcb&quot;,536896841]],[&quot;^17&quot;,[4509,&quot;^R&quot;,&quot;public:: true&quot;,536896846]],[&quot;^17&quot;,[4509,&quot;^P&quot;,&quot;^19&quot;,536896846]],[&quot;^17&quot;,[4509,&quot;^F&quot;,67,536896846]],[&quot;^17&quot;,[4509,&quot;^Z&quot;,67,536896846]],[&quot;^17&quot;,[4509,&quot;^W&quot;,67,536896846]],[&quot;^17&quot;,[4509,&quot;^V&quot;,67,536896847]],[&quot;^17&quot;,[4509,&quot;^:&quot;,true,536896846]],[&quot;^17&quot;,[4509,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896846]],[&quot;^17&quot;,[4509,&quot;^;&quot;,&quot;~uc69966f7-e203-40f9-9a66-eddb4bfb6e93&quot;,536896846]],[&quot;^17&quot;,[4510,&quot;^R&quot;,&quot;public:: true&quot;,536896856]],[&quot;^17&quot;,[4510,&quot;^P&quot;,&quot;^19&quot;,536896856]],[&quot;^17&quot;,[4510,&quot;^F&quot;,779,536896856]],[&quot;^17&quot;,[4510,&quot;^Z&quot;,779,536896856]],[&quot;^17&quot;,[4510,&quot;^W&quot;,779,536896856]],[&quot;^17&quot;,[4510,&quot;^V&quot;,779,536896857]],[&quot;^17&quot;,[4510,&quot;^:&quot;,true,536896856]],[&quot;^17&quot;,[4510,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896856]],[&quot;^17&quot;,[4510,&quot;^;&quot;,&quot;~ucb2be131-a0af-45ac-bc05-ff32bab5ec8d&quot;,536896856]],[&quot;^17&quot;,[4511,&quot;^R&quot;,&quot;public:: true&quot;,536896862]],[&quot;^17&quot;,[4511,&quot;^P&quot;,&quot;^19&quot;,536896862]],[&quot;^17&quot;,[4511,&quot;^F&quot;,269,536896862]],[&quot;^17&quot;,[4511,&quot;^Z&quot;,269,536896862]],[&quot;^17&quot;,[4511,&quot;^W&quot;,269,536896862]],[&quot;^17&quot;,[4511,&quot;^V&quot;,269,536896863]],[&quot;^17&quot;,[4511,&quot;^:&quot;,true,536896862]],[&quot;^17&quot;,[4511,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896862]],[&quot;^17&quot;,[4511,&quot;^;&quot;,&quot;~u6c1e435a-c4c9-4ae3-8410-77de5842846c&quot;,536896862]],[&quot;^17&quot;,[4512,&quot;^R&quot;,&quot;public:: true&quot;,536896872]],[&quot;^17&quot;,[4512,&quot;^P&quot;,&quot;^19&quot;,536896872]],[&quot;^17&quot;,[4512,&quot;^F&quot;,1097,536896872]],[&quot;^17&quot;,[4512,&quot;^Z&quot;,1097,536896872]],[&quot;^17&quot;,[4512,&quot;^W&quot;,1097,536896872]],[&quot;^17&quot;,[4512,&quot;^V&quot;,1097,536896873]],[&quot;^17&quot;,[4512,&quot;^:&quot;,true,536896872]],[&quot;^17&quot;,[4512,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896872]],[&quot;^17&quot;,[4512,&quot;^;&quot;,&quot;~ua33b1764-8fc7-42ee-ac23-33f98eb9b4de&quot;,536896872]],[&quot;^17&quot;,[4513,&quot;^R&quot;,&quot;public:: true&quot;,536896877]],[&quot;^17&quot;,[4513,&quot;^P&quot;,&quot;^19&quot;,536896877]],[&quot;^17&quot;,[4513,&quot;^F&quot;,2637,536896877]],[&quot;^17&quot;,[4513,&quot;^Z&quot;,2637,536896877]],[&quot;^17&quot;,[4513,&quot;^W&quot;,2637,536896877]],[&quot;^17&quot;,[4513,&quot;^V&quot;,2637,536896878]],[&quot;^17&quot;,[4513,&quot;^:&quot;,true,536896877]],[&quot;^17&quot;,[4513,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896877]],[&quot;^17&quot;,[4513,&quot;^;&quot;,&quot;~uc688a289-e436-4e38-b2fe-803ff901aa21&quot;,536896877]],[&quot;^17&quot;,[4515,&quot;^R&quot;,&quot;public:: true&quot;,536896885]],[&quot;^17&quot;,[4515,&quot;^P&quot;,&quot;^19&quot;,536896885]],[&quot;^17&quot;,[4515,&quot;^F&quot;,1754,536896885]],[&quot;^17&quot;,[4515,&quot;^Z&quot;,1754,536896885]],[&quot;^17&quot;,[4515,&quot;^W&quot;,1754,536896885]],[&quot;^17&quot;,[4515,&quot;^V&quot;,1754,536896886]],[&quot;^17&quot;,[4515,&quot;^:&quot;,true,536896885]],[&quot;^17&quot;,[4515,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896885]],[&quot;^17&quot;,[4515,&quot;^;&quot;,&quot;~u9838b15a-32cf-4a6c-ac92-c0507ea2f202&quot;,536896885]],[&quot;^17&quot;,[4516,&quot;^R&quot;,&quot;public:: true&quot;,536896894]],[&quot;^17&quot;,[4516,&quot;^P&quot;,&quot;^19&quot;,536896894]],[&quot;^17&quot;,[4516,&quot;^F&quot;,279,536896894]],[&quot;^17&quot;,[4516,&quot;^Z&quot;,279,536896894]],[&quot;^17&quot;,[4516,&quot;^W&quot;,279,536896894]],[&quot;^17&quot;,[4516,&quot;^V&quot;,279,536896895]],[&quot;^17&quot;,[4516,&quot;^:&quot;,true,536896894]],[&quot;^17&quot;,[4516,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896894]],[&quot;^17&quot;,[4516,&quot;^;&quot;,&quot;~uce4ad464-a273-4e41-9373-6fb7370fd89b&quot;,536896894]],[&quot;^17&quot;,[4517,&quot;^R&quot;,&quot;public:: true&quot;,536896899]],[&quot;^17&quot;,[4517,&quot;^P&quot;,&quot;^19&quot;,536896899]],[&quot;^17&quot;,[4517,&quot;^F&quot;,1379,536896899]],[&quot;^17&quot;,[4517,&quot;^Z&quot;,1379,536896899]],[&quot;^17&quot;,[4517,&quot;^W&quot;,1379,536896899]],[&quot;^17&quot;,[4517,&quot;^V&quot;,1379,536896900]],[&quot;^17&quot;,[4517,&quot;^:&quot;,true,536896899]],[&quot;^17&quot;,[4517,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896899]],[&quot;^17&quot;,[4517,&quot;^;&quot;,&quot;~u8445518a-14da-4788-8705-fb5826e4bd22&quot;,536896899]],[&quot;^17&quot;,[4518,&quot;^R&quot;,&quot;public:: true&quot;,536896904]],[&quot;^17&quot;,[4518,&quot;^P&quot;,&quot;^19&quot;,536896904]],[&quot;^17&quot;,[4518,&quot;^F&quot;,31,536896904]],[&quot;^17&quot;,[4518,&quot;^Z&quot;,31,536896904]],[&quot;^17&quot;,[4518,&quot;^W&quot;,31,536896904]],[&quot;^17&quot;,[4518,&quot;^V&quot;,31,536896905]],[&quot;^17&quot;,[4518,&quot;^:&quot;,true,536896904]],[&quot;^17&quot;,[4518,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896904]],[&quot;^17&quot;,[4518,&quot;^;&quot;,&quot;~u4bd7e230-ea9b-4055-952b-859e2e6120de&quot;,536896904]],[&quot;^17&quot;,[4519,&quot;^R&quot;,&quot;public:: true&quot;,536896909]],[&quot;^17&quot;,[4519,&quot;^P&quot;,&quot;^19&quot;,536896909]],[&quot;^17&quot;,[4519,&quot;^F&quot;,2466,536896909]],[&quot;^17&quot;,[4519,&quot;^Z&quot;,2466,536896909]],[&quot;^17&quot;,[4519,&quot;^W&quot;,2466,536896909]],[&quot;^17&quot;,[4519,&quot;^V&quot;,2466,536896910]],[&quot;^17&quot;,[4519,&quot;^:&quot;,true,536896909]],[&quot;^17&quot;,[4519,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896909]],[&quot;^17&quot;,[4519,&quot;^;&quot;,&quot;~u5064a9aa-cae1-4825-9c81-adaf765d389f&quot;,536896909]],[&quot;^17&quot;,[4520,&quot;^R&quot;,&quot;public:: true&quot;,536896914]],[&quot;^17&quot;,[4520,&quot;^P&quot;,&quot;^19&quot;,536896914]],[&quot;^17&quot;,[4520,&quot;^F&quot;,2543,536896914]],[&quot;^17&quot;,[4520,&quot;^Z&quot;,2543,536896914]],[&quot;^17&quot;,[4520,&quot;^W&quot;,2543,536896914]],[&quot;^17&quot;,[4520,&quot;^V&quot;,2543,536896915]],[&quot;^17&quot;,[4520,&quot;^:&quot;,true,536896914]],[&quot;^17&quot;,[4520,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896914]],[&quot;^17&quot;,[4520,&quot;^;&quot;,&quot;~uc39d68af-e35f-40c7-9395-1e7cc4331474&quot;,536896914]],[&quot;^17&quot;,[4521,&quot;^R&quot;,&quot;public:: true&quot;,536896919]],[&quot;^17&quot;,[4521,&quot;^P&quot;,&quot;^19&quot;,536896919]],[&quot;^17&quot;,[4521,&quot;^F&quot;,2058,536896919]],[&quot;^17&quot;,[4521,&quot;^Z&quot;,2058,536896919]],[&quot;^17&quot;,[4521,&quot;^W&quot;,2058,536896919]],[&quot;^17&quot;,[4521,&quot;^V&quot;,2058,536896920]],[&quot;^17&quot;,[4521,&quot;^:&quot;,true,536896919]],[&quot;^17&quot;,[4521,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896919]],[&quot;^17&quot;,[4521,&quot;^;&quot;,&quot;~u02a1dea8-c554-4ff5-895b-5c4cf5934e00&quot;,536896919]],[&quot;^17&quot;,[4522,&quot;^R&quot;,&quot;public:: true&quot;,536896924]],[&quot;^17&quot;,[4522,&quot;^P&quot;,&quot;^19&quot;,536896924]],[&quot;^17&quot;,[4522,&quot;^F&quot;,2573,536896924]],[&quot;^17&quot;,[4522,&quot;^Z&quot;,2573,536896924]],[&quot;^17&quot;,[4522,&quot;^W&quot;,2573,536896924]],[&quot;^17&quot;,[4522,&quot;^V&quot;,2573,536896925]],[&quot;^17&quot;,[4522,&quot;^:&quot;,true,536896924]],[&quot;^17&quot;,[4522,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896924]],[&quot;^17&quot;,[4522,&quot;^;&quot;,&quot;~uffb280dd-b1a7-4f11-8a08-766147ca9617&quot;,536896924]],[&quot;^17&quot;,[4523,&quot;^R&quot;,&quot;public:: true&quot;,536896929]],[&quot;^17&quot;,[4523,&quot;^P&quot;,&quot;^19&quot;,536896929]],[&quot;^17&quot;,[4523,&quot;^F&quot;,2040,536896929]],[&quot;^17&quot;,[4523,&quot;^Z&quot;,2040,536896929]],[&quot;^17&quot;,[4523,&quot;^W&quot;,2040,536896929]],[&quot;^17&quot;,[4523,&quot;^V&quot;,2040,536896930]],[&quot;^17&quot;,[4523,&quot;^:&quot;,true,536896929]],[&quot;^17&quot;,[4523,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896929]],[&quot;^17&quot;,[4523,&quot;^;&quot;,&quot;~u4492ec82-4667-4001-a7bb-2f11a3d03fd4&quot;,536896929]],[&quot;^17&quot;,[4524,&quot;^R&quot;,&quot;public:: true&quot;,536896934]],[&quot;^17&quot;,[4524,&quot;^P&quot;,&quot;^19&quot;,536896934]],[&quot;^17&quot;,[4524,&quot;^F&quot;,61,536896934]],[&quot;^17&quot;,[4524,&quot;^Z&quot;,61,536896934]],[&quot;^17&quot;,[4524,&quot;^W&quot;,61,536896934]],[&quot;^17&quot;,[4524,&quot;^V&quot;,61,536896935]],[&quot;^17&quot;,[4524,&quot;^:&quot;,true,536896934]],[&quot;^17&quot;,[4524,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896934]],[&quot;^17&quot;,[4524,&quot;^;&quot;,&quot;~u9f8b5787-e7e2-4342-97ba-30c519ec7ec9&quot;,536896934]],[&quot;^17&quot;,[4525,&quot;^R&quot;,&quot;public:: true&quot;,536896939]],[&quot;^17&quot;,[4525,&quot;^P&quot;,&quot;^19&quot;,536896939]],[&quot;^17&quot;,[4525,&quot;^F&quot;,284,536896939]],[&quot;^17&quot;,[4525,&quot;^Z&quot;,284,536896939]],[&quot;^17&quot;,[4525,&quot;^W&quot;,284,536896939]],[&quot;^17&quot;,[4525,&quot;^V&quot;,284,536896940]],[&quot;^17&quot;,[4525,&quot;^:&quot;,true,536896939]],[&quot;^17&quot;,[4525,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896939]],[&quot;^17&quot;,[4525,&quot;^;&quot;,&quot;~uacc1f077-f232-42d6-a1b3-dccdf469b624&quot;,536896939]],[&quot;^17&quot;,[4526,&quot;^R&quot;,&quot;public:: true&quot;,536896944]],[&quot;^17&quot;,[4526,&quot;^P&quot;,&quot;^19&quot;,536896944]],[&quot;^17&quot;,[4526,&quot;^F&quot;,797,536896944]],[&quot;^17&quot;,[4526,&quot;^Z&quot;,797,536896944]],[&quot;^17&quot;,[4526,&quot;^W&quot;,797,536896944]],[&quot;^17&quot;,[4526,&quot;^V&quot;,797,536896945]],[&quot;^17&quot;,[4526,&quot;^:&quot;,true,536896944]],[&quot;^17&quot;,[4526,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896944]],[&quot;^17&quot;,[4526,&quot;^;&quot;,&quot;~u61128885-8c82-4130-ba76-63b269e09745&quot;,536896944]],[&quot;^17&quot;,[4527,&quot;^R&quot;,&quot;public:: true&quot;,536896949]],[&quot;^17&quot;,[4527,&quot;^P&quot;,&quot;^19&quot;,536896949]],[&quot;^17&quot;,[4527,&quot;^F&quot;,401,536896949]],[&quot;^17&quot;,[4527,&quot;^Z&quot;,401,536896949]],[&quot;^17&quot;,[4527,&quot;^W&quot;,401,536896949]],[&quot;^17&quot;,[4527,&quot;^V&quot;,401,536896950]],[&quot;^17&quot;,[4527,&quot;^:&quot;,true,536896949]],[&quot;^17&quot;,[4527,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536896949]],[&quot;^17&quot;,[4527,&quot;^;&quot;,&quot;~ub1783e30-a015-4047-9d5d-9b2c84f58ed4&quot;,536896949]],[&quot;^17&quot;,[4530,&quot;^R&quot;,&quot;#+BEGIN_QUOTE\\n$1.设x^4+3x^2+2x+1的四个根为x_1,x_2,x_3,x_4,则$\\n$$\\\\begin{vmatrix} x_1 &amp; x_2 &amp; x_3 &amp; x_4 \\\\\\\\ x_2 &amp; x_3 &amp; x_4 &amp; x_1 \\\\\\\\ x_3 &amp; x_4 &amp; x_1 &amp; x_2 \\\\\\\\ x_4 &amp; x_1 &amp; x_2 &amp; x_3 \\\\end{vmatrix} = ?$$\\n#+END_QUOTE&quot;,536897929]],[&quot;^17&quot;,[4530,&quot;^P&quot;,&quot;^19&quot;,536896984]],[&quot;^17&quot;,[4530,&quot;^@&quot;,false,536896984]],[&quot;^17&quot;,[4530,&quot;^F&quot;,4376,536896984]],[&quot;^17&quot;,[4530,&quot;^T&quot;,[&quot;^16&quot;,[]],536896984]],[&quot;^17&quot;,[4530,&quot;^Z&quot;,4374,536896984]],[&quot;^17&quot;,[4530,&quot;^W&quot;,4376,536896988]],[&quot;^17&quot;,[4530,&quot;^V&quot;,4374,536897930]],[&quot;^17&quot;,[4530,&quot;^?&quot;,[&quot;^ &quot;],536897929]],[&quot;^17&quot;,[4530,&quot;^1@&quot;,true,536896984]],[&quot;^17&quot;,[4530,&quot;^;&quot;,&quot;~u62fe03d9-3e6f-467d-8085-7d7ac98fd97f&quot;,536896984]],[&quot;^17&quot;,[4531,&quot;^R&quot;,&quot;补充：[[韦达定理]]&quot;,536897289]],[&quot;^17&quot;,[4531,&quot;^P&quot;,&quot;^19&quot;,536897255]],[&quot;^17&quot;,[4531,&quot;^@&quot;,false,536897255]],[&quot;^17&quot;,[4531,&quot;^F&quot;,4530,536897255]],[&quot;^17&quot;,[4531,&quot;^T&quot;,[&quot;^16&quot;,[]],536897255]],[&quot;^17&quot;,[4531,&quot;^Z&quot;,4374,536897255]],[&quot;^17&quot;,[4531,&quot;^W&quot;,4530,536897951]],[&quot;^17&quot;,[4531,&quot;^V&quot;,4374,536897290]],[&quot;^17&quot;,[4531,&quot;^V&quot;,4533,536897290]],[&quot;^17&quot;,[4531,&quot;^?&quot;,[&quot;^ &quot;],536897289]],[&quot;^17&quot;,[4531,&quot;^H&quot;,4533,536897289]],[&quot;^17&quot;,[4531,&quot;^1@&quot;,true,536897255]],[&quot;^17&quot;,[4531,&quot;^;&quot;,&quot;~u62fe049e-a562-4331-82cf-093b91782e50&quot;,536897255]],[&quot;^17&quot;,[4532,&quot;^R&quot;,&quot;public:: true&quot;,536897268]],[&quot;^17&quot;,[4532,&quot;^P&quot;,&quot;^19&quot;,536897268]],[&quot;^17&quot;,[4532,&quot;^F&quot;,4353,536897268]],[&quot;^17&quot;,[4532,&quot;^Z&quot;,4353,536897268]],[&quot;^17&quot;,[4532,&quot;^W&quot;,4353,536897268]],[&quot;^17&quot;,[4532,&quot;^V&quot;,4353,536897269]],[&quot;^17&quot;,[4532,&quot;^:&quot;,true,536897268]],[&quot;^17&quot;,[4532,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897268]],[&quot;^17&quot;,[4532,&quot;^;&quot;,&quot;~u6610ae91-8683-4e2d-ad60-227293e0bf81&quot;,536897268]],[&quot;^17&quot;,[4533,&quot;^L&quot;,1660814620926,536897289]],[&quot;^17&quot;,[4533,&quot;^P&quot;,&quot;^19&quot;,536897293]],[&quot;^17&quot;,[4533,&quot;^@&quot;,false,536897289]],[&quot;^17&quot;,[4533,&quot;^[&quot;,&quot;韦达定理&quot;,536897289]],[&quot;^17&quot;,[4533,&quot;^13&quot;,&quot;韦达定理&quot;,536897289]],[&quot;^17&quot;,[4533,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897296]],[&quot;^17&quot;,[4533,&quot;^B&quot;,1660815016984,536897750]],[&quot;^17&quot;,[4533,&quot;^;&quot;,&quot;~u62fe051c-509d-4cd5-a0e1-e307d46aa2f5&quot;,536897289]],[&quot;^17&quot;,[4534,&quot;^R&quot;,&quot;$根据韦达定理，有x_1+x_2+x_3+x_4 = 0则$\\n$$\\\\begin{pmatrix} x_1 &amp; x_2 &amp; x_3 &amp; x_4 \\\\\\\\ x_2 &amp; x_3 &amp; x_4 &amp; x_1 \\\\\\\\ x_3 &amp; x_4 &amp; x_1 &amp; x_2 \\\\\\\\ x_4 &amp; x_1 &amp; x_2 &amp; x_3 \\\\end{pmatrix} \\\\begin{pmatrix} 1 \\\\\\\\ 1 \\\\\\\\1 \\\\\\\\ 1 \\\\end{pmatrix} = 0$$\\n$因此答案为0$&quot;,536897947]],[&quot;^17&quot;,[4534,&quot;^P&quot;,&quot;^19&quot;,536897289]],[&quot;^17&quot;,[4534,&quot;^@&quot;,false,536897289]],[&quot;^17&quot;,[4534,&quot;^F&quot;,4531,536897954]],[&quot;^17&quot;,[4534,&quot;^T&quot;,[&quot;^16&quot;,[]],536897289]],[&quot;^17&quot;,[4534,&quot;^Z&quot;,4374,536897289]],[&quot;^17&quot;,[4534,&quot;^W&quot;,4530,536897954]],[&quot;^17&quot;,[4534,&quot;^V&quot;,4374,536897948]],[&quot;^17&quot;,[4534,&quot;^?&quot;,[&quot;^ &quot;],536897947]],[&quot;^17&quot;,[4534,&quot;^1@&quot;,true,536897289]],[&quot;^17&quot;,[4534,&quot;^;&quot;,&quot;~u62fe051c-9c22-4164-b4f3-3f6b07592912&quot;,536897289]],[&quot;^17&quot;,[4535,&quot;^R&quot;,&quot;## 推广&quot;,536897333]],[&quot;^17&quot;,[4535,&quot;^P&quot;,&quot;^19&quot;,536897294]],[&quot;^17&quot;,[4535,&quot;^X&quot;,2,536897333]],[&quot;^17&quot;,[4535,&quot;^@&quot;,false,536897294]],[&quot;^17&quot;,[4535,&quot;^F&quot;,4536,536897296]],[&quot;^17&quot;,[4535,&quot;^T&quot;,[&quot;^16&quot;,[]],536897294]],[&quot;^17&quot;,[4535,&quot;^Z&quot;,4533,536897294]],[&quot;^17&quot;,[4535,&quot;^W&quot;,4533,536897294]],[&quot;^17&quot;,[4535,&quot;^V&quot;,4533,536897334]],[&quot;^17&quot;,[4535,&quot;^?&quot;,[&quot;^ &quot;],536897333]],[&quot;^17&quot;,[4535,&quot;^1&gt;&quot;,2,536897333]],[&quot;^17&quot;,[4535,&quot;^Y&quot;,&quot;^1?&quot;,536897333]],[&quot;^17&quot;,[4535,&quot;^1@&quot;,true,536897294]],[&quot;^17&quot;,[4535,&quot;^;&quot;,&quot;~u62fe051d-edb6-4257-821d-6d1f1775fafe&quot;,536897294]],[&quot;^17&quot;,[4536,&quot;^R&quot;,&quot;public:: true&quot;,536897296]],[&quot;^17&quot;,[4536,&quot;^P&quot;,&quot;^19&quot;,536897296]],[&quot;^17&quot;,[4536,&quot;^F&quot;,4533,536897296]],[&quot;^17&quot;,[4536,&quot;^Z&quot;,4533,536897296]],[&quot;^17&quot;,[4536,&quot;^W&quot;,4533,536897296]],[&quot;^17&quot;,[4536,&quot;^V&quot;,4533,536897297]],[&quot;^17&quot;,[4536,&quot;^:&quot;,true,536897296]],[&quot;^17&quot;,[4536,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897296]],[&quot;^17&quot;,[4536,&quot;^;&quot;,&quot;~u339c5cdd-13db-43eb-8625-3eaf521c9267&quot;,536897296]],[&quot;^17&quot;,[4538,&quot;^R&quot;,&quot;&quot;,536897301]],[&quot;^17&quot;,[4538,&quot;^P&quot;,&quot;^19&quot;,536897301]],[&quot;^17&quot;,[4538,&quot;^@&quot;,false,536897301]],[&quot;^17&quot;,[4538,&quot;^F&quot;,4535,536897339]],[&quot;^17&quot;,[4538,&quot;^T&quot;,[&quot;^16&quot;,[]],536897301]],[&quot;^17&quot;,[4538,&quot;^Z&quot;,4533,536897301]],[&quot;^17&quot;,[4538,&quot;^W&quot;,4533,536897301]],[&quot;^17&quot;,[4538,&quot;^V&quot;,4533,536897319]],[&quot;^17&quot;,[4538,&quot;^?&quot;,[&quot;^ &quot;],536897301]],[&quot;^17&quot;,[4538,&quot;^1@&quot;,true,536897301]],[&quot;^17&quot;,[4538,&quot;^;&quot;,&quot;~u62fe0523-7283-461a-b13b-821b8ba510f6&quot;,536897301]],[&quot;^17&quot;,[4540,&quot;^R&quot;,&quot;$设一元n次方程 a_nx^n+a_{n-1}x^{n-1}+...+a_0=0，根为 x_1,x_2,....x_n，则$\\n$$x_1+x_2+...+x_n=\\\\sum_{i=1}^{n}x_i=-\\\\frac{a_{n-1}}{a_n}$$\\n$$x_1x_2x_3...x_n=\\\\prod_{i=1}^{n}x_i=(-1)^n\\\\frac{a_0}{a_n}$$&quot;,536897750]],[&quot;^17&quot;,[4540,&quot;^P&quot;,&quot;^19&quot;,536897335]],[&quot;^17&quot;,[4540,&quot;^@&quot;,false,536897335]],[&quot;^17&quot;,[4540,&quot;^F&quot;,4535,536897335]],[&quot;^17&quot;,[4540,&quot;^T&quot;,[&quot;^16&quot;,[]],536897335]],[&quot;^17&quot;,[4540,&quot;^Z&quot;,4533,536897335]],[&quot;^17&quot;,[4540,&quot;^W&quot;,4535,536897339]],[&quot;^17&quot;,[4540,&quot;^V&quot;,4533,536897751]],[&quot;^17&quot;,[4540,&quot;^?&quot;,[&quot;^ &quot;],536897750]],[&quot;^17&quot;,[4540,&quot;^1@&quot;,true,536897335]],[&quot;^17&quot;,[4540,&quot;^;&quot;,&quot;~u62fe053d-1734-4102-9c03-78278e3beed0&quot;,536897335]],[&quot;^17&quot;,[4541,&quot;^R&quot;,&quot;&quot;,536897430]],[&quot;^17&quot;,[4541,&quot;^P&quot;,&quot;^19&quot;,536897430]],[&quot;^17&quot;,[4541,&quot;^@&quot;,false,536897430]],[&quot;^17&quot;,[4541,&quot;^F&quot;,4543,536897754]],[&quot;^17&quot;,[4541,&quot;^T&quot;,[&quot;^16&quot;,[]],536897430]],[&quot;^17&quot;,[4541,&quot;^Z&quot;,4533,536897430]],[&quot;^17&quot;,[4541,&quot;^W&quot;,4535,536897430]],[&quot;^17&quot;,[4541,&quot;^?&quot;,[&quot;^ &quot;],536897503]],[&quot;^17&quot;,[4541,&quot;^1@&quot;,true,536897430]],[&quot;^17&quot;,[4541,&quot;^;&quot;,&quot;~u62fe0572-5305-4de4-9aad-b6ec3f86d68e&quot;,536897430]],[&quot;^17&quot;,[4543,&quot;^R&quot;,&quot;&quot;,536897754]],[&quot;^17&quot;,[4543,&quot;^P&quot;,&quot;^19&quot;,536897754]],[&quot;^17&quot;,[4543,&quot;^@&quot;,false,536897754]],[&quot;^17&quot;,[4543,&quot;^F&quot;,4540,536897754]],[&quot;^17&quot;,[4543,&quot;^T&quot;,[&quot;^16&quot;,[]],536897754]],[&quot;^17&quot;,[4543,&quot;^Z&quot;,4533,536897754]],[&quot;^17&quot;,[4543,&quot;^W&quot;,4535,536897754]],[&quot;^17&quot;,[4543,&quot;^V&quot;,4533,536897755]],[&quot;^17&quot;,[4543,&quot;^?&quot;,[&quot;^ &quot;],536897754]],[&quot;^17&quot;,[4543,&quot;^1@&quot;,true,536897754]],[&quot;^17&quot;,[4543,&quot;^;&quot;,&quot;~u62fe06a9-d9ef-4515-9882-b79d2f41a65c&quot;,536897754]],[&quot;^17&quot;,[4544,&quot;^R&quot;,&quot;&quot;,536897866]],[&quot;^17&quot;,[4544,&quot;^P&quot;,&quot;^19&quot;,536897866]],[&quot;^17&quot;,[4544,&quot;^@&quot;,false,536897866]],[&quot;^17&quot;,[4544,&quot;^F&quot;,4545,536897939]],[&quot;^17&quot;,[4544,&quot;^T&quot;,[&quot;^16&quot;,[]],536897866]],[&quot;^17&quot;,[4544,&quot;^Z&quot;,4374,536897866]],[&quot;^17&quot;,[4544,&quot;^W&quot;,4376,536897866]],[&quot;^17&quot;,[4544,&quot;^?&quot;,[&quot;^ &quot;],536897866]],[&quot;^17&quot;,[4544,&quot;^1@&quot;,true,536897866]],[&quot;^17&quot;,[4544,&quot;^;&quot;,&quot;~u62fe0767-37f2-4abf-8330-6b53fd862caa&quot;,536897866]],[&quot;^17&quot;,[4545,&quot;^R&quot;,&quot;&quot;,536897939]],[&quot;^17&quot;,[4545,&quot;^P&quot;,&quot;^19&quot;,536897939]],[&quot;^17&quot;,[4545,&quot;^@&quot;,false,536897939]],[&quot;^17&quot;,[4545,&quot;^F&quot;,4530,536897954]],[&quot;^17&quot;,[4545,&quot;^T&quot;,[&quot;^16&quot;,[]],536897939]],[&quot;^17&quot;,[4545,&quot;^Z&quot;,4374,536897939]],[&quot;^17&quot;,[4545,&quot;^W&quot;,4376,536897939]],[&quot;^17&quot;,[4545,&quot;^V&quot;,4374,536897940]],[&quot;^17&quot;,[4545,&quot;^?&quot;,[&quot;^ &quot;],536897939]],[&quot;^17&quot;,[4545,&quot;^1@&quot;,true,536897939]],[&quot;^17&quot;,[4545,&quot;^;&quot;,&quot;~u62fe07c4-9f64-41ab-8df1-8b328d31e9ca&quot;,536897939]],[&quot;^17&quot;,[4546,&quot;^14&quot;,1,536897960]],[&quot;^17&quot;,[4549,&quot;^14&quot;,1,536897970]],[&quot;^17&quot;,[4552,&quot;^R&quot;,&quot;public:: true&quot;,536897976]],[&quot;^17&quot;,[4552,&quot;^P&quot;,&quot;^19&quot;,536897976]],[&quot;^17&quot;,[4552,&quot;^F&quot;,3651,536897976]],[&quot;^17&quot;,[4552,&quot;^Z&quot;,3651,536897976]],[&quot;^17&quot;,[4552,&quot;^W&quot;,3651,536897976]],[&quot;^17&quot;,[4552,&quot;^V&quot;,3651,536897977]],[&quot;^17&quot;,[4552,&quot;^:&quot;,true,536897976]],[&quot;^17&quot;,[4552,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536897976]],[&quot;^17&quot;,[4552,&quot;^;&quot;,&quot;~u7900a3be-368f-45c4-a47f-2ae489975edd&quot;,536897976]],[&quot;^17&quot;,[4553,&quot;^R&quot;,&quot;## 1.new, delete, malloc, free 关系&quot;,536898012]],[&quot;^17&quot;,[4553,&quot;^P&quot;,&quot;^19&quot;,536897980]],[&quot;^17&quot;,[4553,&quot;^X&quot;,2,536898012]],[&quot;^17&quot;,[4553,&quot;^@&quot;,false,536897980]],[&quot;^17&quot;,[4553,&quot;^F&quot;,3653,536897983]],[&quot;^17&quot;,[4553,&quot;^T&quot;,[&quot;^16&quot;,[]],536897980]],[&quot;^17&quot;,[4553,&quot;^Z&quot;,3651,536897980]],[&quot;^17&quot;,[4553,&quot;^W&quot;,3651,536897980]],[&quot;^17&quot;,[4553,&quot;^V&quot;,3651,536898013]],[&quot;^17&quot;,[4553,&quot;^?&quot;,[&quot;^ &quot;],536898012]],[&quot;^17&quot;,[4553,&quot;^1&gt;&quot;,2,536897986]],[&quot;^17&quot;,[4553,&quot;^Y&quot;,&quot;^1?&quot;,536898012]],[&quot;^17&quot;,[4553,&quot;^1@&quot;,true,536897980]],[&quot;^17&quot;,[4553,&quot;^;&quot;,&quot;~u6302e97a-0893-4e91-abf7-2c16cc7852cd&quot;,536897980]],[&quot;^17&quot;,[4554,&quot;^R&quot;,&quot;delete会调用对象的析构函数,和new对应free只会释放内存，new调用构造函数。malloc与free是C++/C语言的标准库函数，new/delete是C++的运算符。它们都可用于申请动态内存和释放内存。对于非内部数据类型的对象而言，光用maloc/free无法满足动态对象的要求。对象在创建的同时要自动执行构造函数，对象在消亡之前要自动执行析构函数。由于malloc/free是库函数而不是运算符，不在编译器控制权限之内，不能够把执行构造函数和析构函数的任务强加于malloc/free。因此C++语言需要一个能完成动态内存分配和初始化工作的运算符new，以及一个能完成清理与释放内存工作的运算符delete。注意new/delete不是库函数。&quot;,536898018]],[&quot;^17&quot;,[4554,&quot;^P&quot;,&quot;^19&quot;,536898012]],[&quot;^17&quot;,[4554,&quot;^@&quot;,false,536898012]],[&quot;^17&quot;,[4554,&quot;^F&quot;,4553,536898012]],[&quot;^17&quot;,[4554,&quot;^T&quot;,[&quot;^16&quot;,[]],536898012]],[&quot;^17&quot;,[4554,&quot;^Z&quot;,3651,536898012]],[&quot;^17&quot;,[4554,&quot;^W&quot;,4553,536898014]],[&quot;^17&quot;,[4554,&quot;^V&quot;,3651,536898019]],[&quot;^17&quot;,[4554,&quot;^?&quot;,[&quot;^ &quot;],536898018]],[&quot;^17&quot;,[4554,&quot;^1@&quot;,true,536898012]],[&quot;^17&quot;,[4554,&quot;^;&quot;,&quot;~u6302e99a-8330-456c-aab3-6931d466e298&quot;,536898012]],[&quot;^17&quot;,[4555,&quot;^R&quot;,&quot;## 2.delete与delete[]区别&quot;,536898049]],[&quot;^17&quot;,[4555,&quot;^P&quot;,&quot;^19&quot;,536898022]],[&quot;^17&quot;,[4555,&quot;^X&quot;,2,536898049]],[&quot;^17&quot;,[4555,&quot;^@&quot;,false,536898022]],[&quot;^17&quot;,[4555,&quot;^F&quot;,4553,536898023]],[&quot;^17&quot;,[4555,&quot;^T&quot;,[&quot;^16&quot;,[]],536898022]],[&quot;^17&quot;,[4555,&quot;^Z&quot;,3651,536898022]],[&quot;^17&quot;,[4555,&quot;^W&quot;,3651,536898023]],[&quot;^17&quot;,[4555,&quot;^V&quot;,3651,536898050]],[&quot;^17&quot;,[4555,&quot;^?&quot;,[&quot;^ &quot;],536898049]],[&quot;^17&quot;,[4555,&quot;^1&gt;&quot;,2,536898027]],[&quot;^17&quot;,[4555,&quot;^Y&quot;,&quot;^1?&quot;,536898049]],[&quot;^17&quot;,[4555,&quot;^1@&quot;,true,536898022]],[&quot;^17&quot;,[4555,&quot;^;&quot;,&quot;~u6302e9dd-ea16-444d-9a1c-1dac650d5299&quot;,536898022]],[&quot;^17&quot;,[4556,&quot;^R&quot;,&quot;delete只会调用一次析构函数，而delete[]会调用每一个成员的析构函数。在More Effective C++中有更为详细的解释：“当delete操作符用于数组时，它为每个数组元素调用析构函数，然后调用operator delete来释放内存。”delete与new配套，delete []与new []配套&quot;,536898055]],[&quot;^17&quot;,[4556,&quot;^P&quot;,&quot;^19&quot;,536898049]],[&quot;^17&quot;,[4556,&quot;^@&quot;,false,536898049]],[&quot;^17&quot;,[4556,&quot;^F&quot;,4555,536898049]],[&quot;^17&quot;,[4556,&quot;^T&quot;,[&quot;^16&quot;,[]],536898049]],[&quot;^17&quot;,[4556,&quot;^Z&quot;,3651,536898049]],[&quot;^17&quot;,[4556,&quot;^W&quot;,4555,536898051]],[&quot;^17&quot;,[4556,&quot;^V&quot;,3651,536898056]],[&quot;^17&quot;,[4556,&quot;^?&quot;,[&quot;^ &quot;],536898055]],[&quot;^17&quot;,[4556,&quot;^1@&quot;,true,536898049]],[&quot;^17&quot;,[4556,&quot;^;&quot;,&quot;~u6302e9ec-9b68-4ced-829c-6454151efe28&quot;,536898049]],[&quot;^17&quot;,[4557,&quot;^R&quot;,&quot;## 3. 子函数析构时要调用父亲的析构函数吗？&quot;,536898106]],[&quot;^17&quot;,[4557,&quot;^P&quot;,&quot;^19&quot;,536898059]],[&quot;^17&quot;,[4557,&quot;^X&quot;,2,536898106]],[&quot;^17&quot;,[4557,&quot;^@&quot;,false,536898059]],[&quot;^17&quot;,[4557,&quot;^F&quot;,4555,536898062]],[&quot;^17&quot;,[4557,&quot;^T&quot;,[&quot;^16&quot;,[]],536898059]],[&quot;^17&quot;,[4557,&quot;^Z&quot;,3651,536898059]],[&quot;^17&quot;,[4557,&quot;^W&quot;,3651,536898062]],[&quot;^17&quot;,[4557,&quot;^V&quot;,3651,536898107]],[&quot;^17&quot;,[4557,&quot;^?&quot;,[&quot;^ &quot;],536898106]],[&quot;^17&quot;,[4557,&quot;^1&gt;&quot;,2,536898074]],[&quot;^17&quot;,[4557,&quot;^Y&quot;,&quot;^1?&quot;,536898106]],[&quot;^17&quot;,[4557,&quot;^1@&quot;,true,536898059]],[&quot;^17&quot;,[4557,&quot;^;&quot;,&quot;~u6302ea32-f974-4b6c-a584-6c2191b5ef0f&quot;,536898059]],[&quot;^17&quot;,[4558,&quot;^R&quot;,&quot;析构函数调用的次序是先派生类的析构后基类的析构，也就是说在基类的的析构调用的时候,派生类的信息已经全部销毁了。定义一个对象时先调用基类的构造函数、然后调用派生类的构造函数；析构的时候恰好相反：先调用派生类的析构函数、然后调用基类的析构函数。&quot;,536898112]],[&quot;^17&quot;,[4558,&quot;^P&quot;,&quot;^19&quot;,536898106]],[&quot;^17&quot;,[4558,&quot;^@&quot;,false,536898106]],[&quot;^17&quot;,[4558,&quot;^F&quot;,4557,536898106]],[&quot;^17&quot;,[4558,&quot;^T&quot;,[&quot;^16&quot;,[]],536898106]],[&quot;^17&quot;,[4558,&quot;^Z&quot;,3651,536898106]],[&quot;^17&quot;,[4558,&quot;^W&quot;,4557,536898108]],[&quot;^17&quot;,[4558,&quot;^V&quot;,3651,536898113]],[&quot;^17&quot;,[4558,&quot;^?&quot;,[&quot;^ &quot;],536898112]],[&quot;^17&quot;,[4558,&quot;^1@&quot;,true,536898106]],[&quot;^17&quot;,[4558,&quot;^;&quot;,&quot;~u6302ea65-bc6c-4299-9313-011b8bcb7fed&quot;,536898106]],[&quot;^17&quot;,[4559,&quot;^R&quot;,&quot;## 4. 多态，虚函数，纯虚函数&quot;,536898142]],[&quot;^17&quot;,[4559,&quot;^P&quot;,&quot;^19&quot;,536898112]],[&quot;^17&quot;,[4559,&quot;^X&quot;,2,536898142]],[&quot;^17&quot;,[4559,&quot;^@&quot;,false,536898112]],[&quot;^17&quot;,[4559,&quot;^F&quot;,4557,536898116]],[&quot;^17&quot;,[4559,&quot;^T&quot;,[&quot;^16&quot;,[]],536898112]],[&quot;^17&quot;,[4559,&quot;^Z&quot;,3651,536898112]],[&quot;^17&quot;,[4559,&quot;^W&quot;,3651,536898116]],[&quot;^17&quot;,[4559,&quot;^V&quot;,3651,536898143]],[&quot;^17&quot;,[4559,&quot;^?&quot;,[&quot;^ &quot;],536898142]],[&quot;^17&quot;,[4559,&quot;^1&gt;&quot;,2,536898126]],[&quot;^17&quot;,[4559,&quot;^Y&quot;,&quot;^1?&quot;,536898142]],[&quot;^17&quot;,[4559,&quot;^1@&quot;,true,536898112]],[&quot;^17&quot;,[4559,&quot;^;&quot;,&quot;~u6302ea82-8f5b-4392-9549-ce67bab0f8ca&quot;,536898112]],[&quot;^17&quot;,[4560,&quot;^R&quot;,&quot;多态：是对于不同对象接收相同消息时产生不同的动作。C++的多态性具体体现在运行和编译两个方面：在程序运行时的多态性通过继承和虚函数来体现；&quot;,536898148]],[&quot;^17&quot;,[4560,&quot;^P&quot;,&quot;^19&quot;,536898142]],[&quot;^17&quot;,[4560,&quot;^@&quot;,false,536898142]],[&quot;^17&quot;,[4560,&quot;^F&quot;,4559,536898142]],[&quot;^17&quot;,[4560,&quot;^T&quot;,[&quot;^16&quot;,[]],536898142]],[&quot;^17&quot;,[4560,&quot;^Z&quot;,3651,536898142]],[&quot;^17&quot;,[4560,&quot;^W&quot;,4559,536898144]],[&quot;^17&quot;,[4560,&quot;^V&quot;,3651,536898149]],[&quot;^17&quot;,[4560,&quot;^?&quot;,[&quot;^ &quot;],536898148]],[&quot;^17&quot;,[4560,&quot;^1@&quot;,true,536898142]],[&quot;^17&quot;,[4560,&quot;^;&quot;,&quot;~u6302ea94-74d0-4893-8899-7e77b404b1ab&quot;,536898142]],[&quot;^17&quot;,[4561,&quot;^R&quot;,&quot;在程序编译时多态性体现在函数和运算符的重载上；&quot;,536898155]],[&quot;^17&quot;,[4561,&quot;^P&quot;,&quot;^19&quot;,536898152]],[&quot;^17&quot;,[4561,&quot;^@&quot;,false,536898152]],[&quot;^17&quot;,[4561,&quot;^F&quot;,4560,536898152]],[&quot;^17&quot;,[4561,&quot;^T&quot;,[&quot;^16&quot;,[]],536898152]],[&quot;^17&quot;,[4561,&quot;^Z&quot;,3651,536898152]],[&quot;^17&quot;,[4561,&quot;^W&quot;,4559,536898152]],[&quot;^17&quot;,[4561,&quot;^?&quot;,[&quot;^ &quot;],536898152]],[&quot;^17&quot;,[4561,&quot;^1@&quot;,true,536898152]],[&quot;^17&quot;,[4561,&quot;^;&quot;,&quot;~u6302eabc-262d-462f-8cfb-41fd7dcb3124&quot;,536898152]],[&quot;^17&quot;,[4562,&quot;^R&quot;,&quot;[[虚函数]]：在基类中冠以关键字 virtual 的成员函数。 它提供了一种接口界面。允许在派生类中对基类的虚函数重新定义。&quot;,536898159]],[&quot;^17&quot;,[4562,&quot;^P&quot;,&quot;^19&quot;,536898155]],[&quot;^17&quot;,[4562,&quot;^F&quot;,4561,536898155]],[&quot;^17&quot;,[4562,&quot;^T&quot;,[&quot;^16&quot;,[]],536898155]],[&quot;^17&quot;,[4562,&quot;^Z&quot;,3651,536898155]],[&quot;^17&quot;,[4562,&quot;^W&quot;,4559,536898155]],[&quot;^17&quot;,[4562,&quot;^V&quot;,2966,536898160]],[&quot;^17&quot;,[4562,&quot;^V&quot;,3651,536898160]],[&quot;^17&quot;,[4562,&quot;^?&quot;,[&quot;^ &quot;],536898159]],[&quot;^17&quot;,[4562,&quot;^H&quot;,2966,536898159]],[&quot;^17&quot;,[4562,&quot;^1@&quot;,true,536898155]],[&quot;^17&quot;,[4562,&quot;^;&quot;,&quot;~u59674628-9cbf-431e-9e1c-ebad188bc5b4&quot;,536898155]],[&quot;^17&quot;,[4563,&quot;^R&quot;,&quot;纯虚函数的作用：在基类中为其派生类保留一个函数的名字，以便派生类根据需要对它进行定义。作为接口而存在 纯虚函数不具备函数的功能，一般不能直接被调用。&quot;,536898155]],[&quot;^17&quot;,[4563,&quot;^P&quot;,&quot;^19&quot;,536898155]],[&quot;^17&quot;,[4563,&quot;^F&quot;,4562,536898155]],[&quot;^17&quot;,[4563,&quot;^T&quot;,[&quot;^16&quot;,[]],536898155]],[&quot;^17&quot;,[4563,&quot;^Z&quot;,3651,536898155]],[&quot;^17&quot;,[4563,&quot;^W&quot;,4559,536898155]],[&quot;^17&quot;,[4563,&quot;^V&quot;,3651,536898156]],[&quot;^17&quot;,[4563,&quot;^1@&quot;,true,536898155]],[&quot;^17&quot;,[4563,&quot;^;&quot;,&quot;~u6861ddd9-d74f-449a-bbc7-c73bbacd0b05&quot;,536898155]],[&quot;^17&quot;,[4564,&quot;^R&quot;,&quot;从基类继承来的纯虚函数，在派生类中仍是虚函数。如果一个类中至少有一个纯虚函数，那么这个类被称为抽象类（abstract class）。&quot;,536898155]],[&quot;^17&quot;,[4564,&quot;^P&quot;,&quot;^19&quot;,536898155]],[&quot;^17&quot;,[4564,&quot;^F&quot;,4563,536898155]],[&quot;^17&quot;,[4564,&quot;^T&quot;,[&quot;^16&quot;,[]],536898155]],[&quot;^17&quot;,[4564,&quot;^Z&quot;,3651,536898155]],[&quot;^17&quot;,[4564,&quot;^W&quot;,4559,536898155]],[&quot;^17&quot;,[4564,&quot;^V&quot;,3651,536898156]],[&quot;^17&quot;,[4564,&quot;^1@&quot;,true,536898155]],[&quot;^17&quot;,[4564,&quot;^;&quot;,&quot;~u0fe645ec-1e2c-48e3-8ebf-3f312c37f09c&quot;,536898155]],[&quot;^17&quot;,[4565,&quot;^R&quot;,&quot;抽象类中不仅包括纯虚函数，也可包括虚函数。抽象类必须用作派生其他类的基类，而不能用于直接创建对象实例。但仍可使用指向抽象类的指针支持运行时多态性。&quot;,536898155]],[&quot;^17&quot;,[4565,&quot;^P&quot;,&quot;^19&quot;,536898155]],[&quot;^17&quot;,[4565,&quot;^F&quot;,4564,536898155]],[&quot;^17&quot;,[4565,&quot;^T&quot;,[&quot;^16&quot;,[]],536898155]],[&quot;^17&quot;,[4565,&quot;^Z&quot;,3651,536898155]],[&quot;^17&quot;,[4565,&quot;^W&quot;,4559,536898155]],[&quot;^17&quot;,[4565,&quot;^V&quot;,3651,536898156]],[&quot;^17&quot;,[4565,&quot;^1@&quot;,true,536898155]],[&quot;^17&quot;,[4565,&quot;^;&quot;,&quot;~u111a36a7-7ee9-45ff-b191-7afa24a5907d&quot;,536898155]],[&quot;^17&quot;,[4575,&quot;^R&quot;,&quot;## 5. c++性质&quot;,536898310]],[&quot;^17&quot;,[4575,&quot;^P&quot;,&quot;^19&quot;,536898290]],[&quot;^17&quot;,[4575,&quot;^X&quot;,2,536898310]],[&quot;^17&quot;,[4575,&quot;^F&quot;,4559,536898291]],[&quot;^17&quot;,[4575,&quot;^T&quot;,[&quot;^16&quot;,[]],536898290]],[&quot;^17&quot;,[4575,&quot;^Z&quot;,3651,536898290]],[&quot;^17&quot;,[4575,&quot;^W&quot;,3651,536898291]],[&quot;^17&quot;,[4575,&quot;^V&quot;,3651,536898311]],[&quot;^17&quot;,[4575,&quot;^?&quot;,[&quot;^ &quot;],536898310]],[&quot;^17&quot;,[4575,&quot;^1&gt;&quot;,2,536898299]],[&quot;^17&quot;,[4575,&quot;^Y&quot;,&quot;^1?&quot;,536898310]],[&quot;^17&quot;,[4575,&quot;^1@&quot;,true,536898290]],[&quot;^17&quot;,[4575,&quot;^;&quot;,&quot;~u6302ed7a-837e-4ab0-b73a-64e8feaa36d3&quot;,536898290]],[&quot;^17&quot;,[4577,&quot;^R&quot;,&quot;[[多态]]，封装，继承&quot;,536898331]],[&quot;^17&quot;,[4577,&quot;^P&quot;,&quot;^19&quot;,536898314]],[&quot;^17&quot;,[4577,&quot;^F&quot;,4575,536898314]],[&quot;^17&quot;,[4577,&quot;^T&quot;,[&quot;^16&quot;,[]],536898314]],[&quot;^17&quot;,[4577,&quot;^Z&quot;,3651,536898314]],[&quot;^17&quot;,[4577,&quot;^W&quot;,4575,536898315]],[&quot;^17&quot;,[4577,&quot;^V&quot;,3651,536898332]],[&quot;^17&quot;,[4577,&quot;^V&quot;,4578,536898332]],[&quot;^17&quot;,[4577,&quot;^?&quot;,[&quot;^ &quot;],536898331]],[&quot;^17&quot;,[4577,&quot;^H&quot;,4578,536898331]],[&quot;^17&quot;,[4577,&quot;^1@&quot;,true,536898314]],[&quot;^17&quot;,[4577,&quot;^;&quot;,&quot;~u6302ed86-5c64-4a44-96e1-a921ce4329f1&quot;,536898314]],[&quot;^17&quot;,[4587,&quot;^R&quot;,&quot;## 6. 重写vs重载&quot;,536898489]],[&quot;^17&quot;,[4587,&quot;^P&quot;,&quot;^19&quot;,536898466]],[&quot;^17&quot;,[4587,&quot;^X&quot;,2,536898489]],[&quot;^17&quot;,[4587,&quot;^F&quot;,4575,536898469]],[&quot;^17&quot;,[4587,&quot;^T&quot;,[&quot;^16&quot;,[]],536898466]],[&quot;^17&quot;,[4587,&quot;^Z&quot;,3651,536898466]],[&quot;^17&quot;,[4587,&quot;^W&quot;,3651,536898469]],[&quot;^17&quot;,[4587,&quot;^V&quot;,3651,536898490]],[&quot;^17&quot;,[4587,&quot;^?&quot;,[&quot;^ &quot;],536898489]],[&quot;^17&quot;,[4587,&quot;^1&gt;&quot;,2,536898473]],[&quot;^17&quot;,[4587,&quot;^Y&quot;,&quot;^1?&quot;,536898489]],[&quot;^17&quot;,[4587,&quot;^1@&quot;,true,536898466]],[&quot;^17&quot;,[4587,&quot;^;&quot;,&quot;~u6302ee8b-2e14-4538-bbce-4a8bf0c311ea&quot;,536898466]],[&quot;^17&quot;,[4588,&quot;^R&quot;,&quot;重写可以有两种，直接重写成员函数和重写虚函数，只有重写了虚函数的才能算作是体现了C++多态性。而重载则是允许有多个同名的函数，而这些函数的参数列表不同，允许参数个数不同，参数类型不同，或者两者都不同。**编译器会根据这些函数的不同列表，将同名的函数的名称做修饰，从而生成一些不同名称的预处理函数，来实现同名函数调用时的重载问题**。但这并没有体现多态性。&quot;,536898499]],[&quot;^17&quot;,[4588,&quot;^P&quot;,&quot;^19&quot;,536898489]],[&quot;^17&quot;,[4588,&quot;^F&quot;,4587,536898489]],[&quot;^17&quot;,[4588,&quot;^T&quot;,[&quot;^16&quot;,[]],536898489]],[&quot;^17&quot;,[4588,&quot;^Z&quot;,3651,536898489]],[&quot;^17&quot;,[4588,&quot;^W&quot;,4587,536898491]],[&quot;^17&quot;,[4588,&quot;^V&quot;,3651,536898500]],[&quot;^17&quot;,[4588,&quot;^?&quot;,[&quot;^ &quot;],536898499]],[&quot;^17&quot;,[4588,&quot;^1@&quot;,true,536898489]],[&quot;^17&quot;,[4588,&quot;^;&quot;,&quot;~u6302ee97-03a3-4707-9381-01dbf5704f0a&quot;,536898489]],[&quot;^17&quot;,[4589,&quot;^R&quot;,&quot;## 6.5 隐藏&quot;,536898520]],[&quot;^17&quot;,[4589,&quot;^P&quot;,&quot;^19&quot;,536898501]],[&quot;^17&quot;,[4589,&quot;^X&quot;,2,536898520]],[&quot;^17&quot;,[4589,&quot;^F&quot;,4587,536898504]],[&quot;^17&quot;,[4589,&quot;^T&quot;,[&quot;^16&quot;,[]],536898501]],[&quot;^17&quot;,[4589,&quot;^Z&quot;,3651,536898501]],[&quot;^17&quot;,[4589,&quot;^W&quot;,3651,536898504]],[&quot;^17&quot;,[4589,&quot;^V&quot;,3651,536898521]],[&quot;^17&quot;,[4589,&quot;^?&quot;,[&quot;^ &quot;],536898520]],[&quot;^17&quot;,[4589,&quot;^1&gt;&quot;,2,536898508]],[&quot;^17&quot;,[4589,&quot;^Y&quot;,&quot;^1?&quot;,536898520]],[&quot;^17&quot;,[4589,&quot;^1@&quot;,true,536898501]],[&quot;^17&quot;,[4589,&quot;^;&quot;,&quot;~u6302eec6-b396-4b7d-8e55-60af380af665&quot;,536898501]],[&quot;^17&quot;,[4590,&quot;^R&quot;,&quot;除了重载与覆盖（重写），C++还有隐藏。隐藏是指派生类的函数屏蔽了与其同名的基类函数。隐藏规则如下：&quot;,536898529]],[&quot;^17&quot;,[4590,&quot;^P&quot;,&quot;^19&quot;,536898524]],[&quot;^17&quot;,[4590,&quot;^F&quot;,4589,536898524]],[&quot;^17&quot;,[4590,&quot;^T&quot;,[&quot;^16&quot;,[]],536898524]],[&quot;^17&quot;,[4590,&quot;^Z&quot;,3651,536898524]],[&quot;^17&quot;,[4590,&quot;^W&quot;,4589,536898525]],[&quot;^17&quot;,[4590,&quot;^V&quot;,3651,536898526]],[&quot;^17&quot;,[4590,&quot;^?&quot;,[&quot;^ &quot;],536898524]],[&quot;^17&quot;,[4590,&quot;^K&quot;,[&quot;^16&quot;,[]],536898529]],[&quot;^17&quot;,[4590,&quot;^1@&quot;,true,536898524]],[&quot;^17&quot;,[4590,&quot;^;&quot;,&quot;~u6302eed9-bd15-4a4a-a5ef-3044056021c6&quot;,536898524]],[&quot;^17&quot;,[4591,&quot;^R&quot;,&quot;1.如果派生类的函数与基类的函数同名，但是参数不同。此时，不论有无virtual 关键字，基类的函数将被隐藏（注意别与重载混淆，重载是在同一个类中发生）。&quot;,536898533]],[&quot;^17&quot;,[4591,&quot;^P&quot;,&quot;^19&quot;,536898529]],[&quot;^17&quot;,[4591,&quot;^F&quot;,4590,536898529]],[&quot;^17&quot;,[4591,&quot;^T&quot;,[&quot;^16&quot;,[]],536898529]],[&quot;^17&quot;,[4591,&quot;^Z&quot;,3651,536898529]],[&quot;^17&quot;,[4591,&quot;^W&quot;,4590,536898535]],[&quot;^17&quot;,[4591,&quot;^V&quot;,3651,536898534]],[&quot;^17&quot;,[4591,&quot;^?&quot;,[&quot;^ &quot;],536898533]],[&quot;^17&quot;,[4591,&quot;^1@&quot;,true,536898529]],[&quot;^17&quot;,[4591,&quot;^;&quot;,&quot;~ua105143e-4f3e-4ea6-8f91-970ed69e5a4a&quot;,536898529]],[&quot;^17&quot;,[4592,&quot;^R&quot;,&quot;2.如果派生类的函数与基类的函数同名，并且参数也相同，但是基类函数没有virtual 关键字。此时，基类的函数被隐藏（注意别与覆盖混淆，覆盖有virtual关键字）&quot;,536898539]],[&quot;^17&quot;,[4592,&quot;^P&quot;,&quot;^19&quot;,536898529]],[&quot;^17&quot;,[4592,&quot;^F&quot;,4591,536898538]],[&quot;^17&quot;,[4592,&quot;^T&quot;,[&quot;^16&quot;,[]],536898529]],[&quot;^17&quot;,[4592,&quot;^Z&quot;,3651,536898529]],[&quot;^17&quot;,[4592,&quot;^W&quot;,4590,536898538]],[&quot;^17&quot;,[4592,&quot;^V&quot;,3651,536898540]],[&quot;^17&quot;,[4592,&quot;^?&quot;,[&quot;^ &quot;],536898539]],[&quot;^17&quot;,[4592,&quot;^1@&quot;,true,536898529]],[&quot;^17&quot;,[4592,&quot;^;&quot;,&quot;~u74a0a77f-6a20-4be7-ac41-89405a7fa903&quot;,536898529]],[&quot;^17&quot;,[4599,&quot;^R&quot;,&quot;## 7. 引用&quot;,536898617]],[&quot;^17&quot;,[4599,&quot;^P&quot;,&quot;^19&quot;,536898601]],[&quot;^17&quot;,[4599,&quot;^X&quot;,2,536898617]],[&quot;^17&quot;,[4599,&quot;^F&quot;,4589,536898606]],[&quot;^17&quot;,[4599,&quot;^T&quot;,[&quot;^16&quot;,[]],536898601]],[&quot;^17&quot;,[4599,&quot;^Z&quot;,3651,536898601]],[&quot;^17&quot;,[4599,&quot;^W&quot;,3651,536898606]],[&quot;^17&quot;,[4599,&quot;^V&quot;,3651,536898618]],[&quot;^17&quot;,[4599,&quot;^?&quot;,[&quot;^ &quot;],536898617]],[&quot;^17&quot;,[4599,&quot;^1&gt;&quot;,2,536898609]],[&quot;^17&quot;,[4599,&quot;^Y&quot;,&quot;^1?&quot;,536898617]],[&quot;^17&quot;,[4599,&quot;^1@&quot;,true,536898601]],[&quot;^17&quot;,[4599,&quot;^;&quot;,&quot;~u6302f3eb-42ec-4b1e-a241-89b4646dbb35&quot;,536898601]],[&quot;^17&quot;,[4600,&quot;^R&quot;,&quot;引用就是某个目标变量的“别名”(alias)，对应用的操作与对变量直接操作效果完全相同。申明一个引用的时候，切记要对其进行初始化。引用声明完毕后，相当于目标变量名有两个名称，即该目标原名称和引用名，不能再把该引用名作为其他变量名的别名。&quot;,536898626]],[&quot;^17&quot;,[4600,&quot;^P&quot;,&quot;^19&quot;,536898621]],[&quot;^17&quot;,[4600,&quot;^F&quot;,4599,536898621]],[&quot;^17&quot;,[4600,&quot;^T&quot;,[&quot;^16&quot;,[]],536898621]],[&quot;^17&quot;,[4600,&quot;^Z&quot;,3651,536898621]],[&quot;^17&quot;,[4600,&quot;^W&quot;,4599,536898622]],[&quot;^17&quot;,[4600,&quot;^V&quot;,3651,536898627]],[&quot;^17&quot;,[4600,&quot;^?&quot;,[&quot;^ &quot;],536898626]],[&quot;^17&quot;,[4600,&quot;^1@&quot;,true,536898621]],[&quot;^17&quot;,[4600,&quot;^;&quot;,&quot;~u6302f408-2550-45f5-abee-a80f4da13b7d&quot;,536898621]],[&quot;^17&quot;,[4601,&quot;^R&quot;,&quot;## 8. c++是否类型安全&quot;,536898649]],[&quot;^17&quot;,[4601,&quot;^P&quot;,&quot;^19&quot;,536898630]],[&quot;^17&quot;,[4601,&quot;^X&quot;,2,536898649]],[&quot;^17&quot;,[4601,&quot;^F&quot;,4599,536898633]],[&quot;^17&quot;,[4601,&quot;^T&quot;,[&quot;^16&quot;,[]],536898630]],[&quot;^17&quot;,[4601,&quot;^Z&quot;,3651,536898630]],[&quot;^17&quot;,[4601,&quot;^W&quot;,3651,536898633]],[&quot;^17&quot;,[4601,&quot;^V&quot;,3651,536898650]],[&quot;^17&quot;,[4601,&quot;^?&quot;,[&quot;^ &quot;],536898649]],[&quot;^17&quot;,[4601,&quot;^1&gt;&quot;,2,536898637]],[&quot;^17&quot;,[4601,&quot;^Y&quot;,&quot;^1?&quot;,536898649]],[&quot;^17&quot;,[4601,&quot;^1@&quot;,true,536898630]],[&quot;^17&quot;,[4601,&quot;^;&quot;,&quot;~u6302f448-ecdc-42b7-8372-bb776c8e26b2&quot;,536898630]],[&quot;^17&quot;,[4602,&quot;^R&quot;,&quot;不是，可以强制转换 (reinterpret cast) C#是类型安全&quot;,536898703]],[&quot;^17&quot;,[4602,&quot;^P&quot;,&quot;^19&quot;,536898649]],[&quot;^17&quot;,[4602,&quot;^F&quot;,4601,536898649]],[&quot;^17&quot;,[4602,&quot;^T&quot;,[&quot;^16&quot;,[]],536898649]],[&quot;^17&quot;,[4602,&quot;^Z&quot;,3651,536898649]],[&quot;^17&quot;,[4602,&quot;^W&quot;,4601,536898651]],[&quot;^17&quot;,[4602,&quot;^V&quot;,3651,536898704]],[&quot;^17&quot;,[4602,&quot;^?&quot;,[&quot;^ &quot;],536898703]],[&quot;^17&quot;,[4602,&quot;^1@&quot;,true,536898649]],[&quot;^17&quot;,[4602,&quot;^;&quot;,&quot;~u6302f454-99aa-4a61-bbf0-69fda30bcea6&quot;,536898649]],[&quot;^17&quot;,[4603,&quot;^R&quot;,&quot;## 9.内存分配&quot;,536898719]],[&quot;^17&quot;,[4603,&quot;^P&quot;,&quot;^19&quot;,536898703]],[&quot;^17&quot;,[4603,&quot;^X&quot;,2,536898719]],[&quot;^17&quot;,[4603,&quot;^F&quot;,4601,536898707]],[&quot;^17&quot;,[4603,&quot;^T&quot;,[&quot;^16&quot;,[]],536898703]],[&quot;^17&quot;,[4603,&quot;^Z&quot;,3651,536898703]],[&quot;^17&quot;,[4603,&quot;^W&quot;,3651,536898707]],[&quot;^17&quot;,[4603,&quot;^V&quot;,3651,536898720]],[&quot;^17&quot;,[4603,&quot;^?&quot;,[&quot;^ &quot;],536898719]],[&quot;^17&quot;,[4603,&quot;^1&gt;&quot;,2,536898711]],[&quot;^17&quot;,[4603,&quot;^Y&quot;,&quot;^1?&quot;,536898719]],[&quot;^17&quot;,[4603,&quot;^1@&quot;,true,536898703]],[&quot;^17&quot;,[4603,&quot;^;&quot;,&quot;~u6302f478-c0e8-4fd8-9e91-4fefc186420f&quot;,536898703]],[&quot;^17&quot;,[4604,&quot;^R&quot;,&quot;静态存储区，栈，堆&quot;,536898735]],[&quot;^17&quot;,[4604,&quot;^P&quot;,&quot;^19&quot;,536898719]],[&quot;^17&quot;,[4604,&quot;^F&quot;,4603,536898719]],[&quot;^17&quot;,[4604,&quot;^T&quot;,[&quot;^16&quot;,[]],536898719]],[&quot;^17&quot;,[4604,&quot;^Z&quot;,3651,536898719]],[&quot;^17&quot;,[4604,&quot;^W&quot;,4603,536898723]],[&quot;^17&quot;,[4604,&quot;^V&quot;,3651,536898736]],[&quot;^17&quot;,[4604,&quot;^?&quot;,[&quot;^ &quot;],536898735]],[&quot;^17&quot;,[4604,&quot;^1@&quot;,true,536898719]],[&quot;^17&quot;,[4604,&quot;^;&quot;,&quot;~u6302f48d-ded1-4da1-9c35-e8121e20f82f&quot;,536898719]],[&quot;^17&quot;,[4605,&quot;^R&quot;,&quot;## 10. 指针常量，常量指针，引用&quot;,536898857]],[&quot;^17&quot;,[4605,&quot;^P&quot;,&quot;^19&quot;,536898737]],[&quot;^17&quot;,[4605,&quot;^X&quot;,2,536898857]],[&quot;^17&quot;,[4605,&quot;^F&quot;,4603,536898740]],[&quot;^17&quot;,[4605,&quot;^T&quot;,[&quot;^16&quot;,[]],536898737]],[&quot;^17&quot;,[4605,&quot;^Z&quot;,3651,536898737]],[&quot;^17&quot;,[4605,&quot;^W&quot;,3651,536898740]],[&quot;^17&quot;,[4605,&quot;^V&quot;,3651,536898858]],[&quot;^17&quot;,[4605,&quot;^?&quot;,[&quot;^ &quot;],536898857]],[&quot;^17&quot;,[4605,&quot;^1&gt;&quot;,2,536898744]],[&quot;^17&quot;,[4605,&quot;^Y&quot;,&quot;^1?&quot;,536898857]],[&quot;^17&quot;,[4605,&quot;^1@&quot;,true,536898737]],[&quot;^17&quot;,[4605,&quot;^;&quot;,&quot;~u6302f4a6-9ec2-409d-ad60-e80c843ee6a3&quot;,536898737]],[&quot;^17&quot;,[4606,&quot;^R&quot;,&quot;**常量** 初始化后无法改变&quot;,536898766]],[&quot;^17&quot;,[4606,&quot;^P&quot;,&quot;^19&quot;,536898748]],[&quot;^17&quot;,[4606,&quot;^F&quot;,4605,536898748]],[&quot;^17&quot;,[4606,&quot;^T&quot;,[&quot;^16&quot;,[]],536898748]],[&quot;^17&quot;,[4606,&quot;^Z&quot;,3651,536898748]],[&quot;^17&quot;,[4606,&quot;^W&quot;,4605,536898750]],[&quot;^17&quot;,[4606,&quot;^V&quot;,3651,536898858]],[&quot;^17&quot;,[4606,&quot;^?&quot;,[&quot;^ &quot;],536898766]],[&quot;^17&quot;,[4606,&quot;^1@&quot;,true,536898748]],[&quot;^17&quot;,[4606,&quot;^;&quot;,&quot;~u6302f524-6a60-449e-868b-08fafac88019&quot;,536898748]],[&quot;^17&quot;,[4607,&quot;^R&quot;,&quot;常量指针 `const int *cp1` 指针指向的地址可以变，但地址内容不能变\\n指针常量 `int* const cp2` 地址不能变，但地址内容可以变\\n引用 `int &amp;g = c`。其实，**引用也就是指针常量**，它是一个对象的别名，既然初始化了所指向的地址，那么它一定不为空，而且地址不可变。&quot;,536898898]],[&quot;^17&quot;,[4607,&quot;^P&quot;,&quot;^19&quot;,536898770]],[&quot;^17&quot;,[4607,&quot;^F&quot;,4606,536898770]],[&quot;^17&quot;,[4607,&quot;^T&quot;,[&quot;^16&quot;,[]],536898770]],[&quot;^17&quot;,[4607,&quot;^Z&quot;,3651,536898770]],[&quot;^17&quot;,[4607,&quot;^W&quot;,4605,536898895]],[&quot;^17&quot;,[4607,&quot;^V&quot;,3651,536898899]],[&quot;^17&quot;,[4607,&quot;^?&quot;,[&quot;^ &quot;],536898898]],[&quot;^17&quot;,[4607,&quot;^1@&quot;,true,536898770]],[&quot;^17&quot;,[4607,&quot;^;&quot;,&quot;~u6302f58a-5013-422a-b323-b169df6c037b&quot;,536898770]],[&quot;^17&quot;,[4609,&quot;^R&quot;,&quot;## 11. [[左值和右值]]&quot;,536898919]],[&quot;^17&quot;,[4609,&quot;^P&quot;,&quot;^19&quot;,536898902]],[&quot;^17&quot;,[4609,&quot;^X&quot;,2,536898919]],[&quot;^17&quot;,[4609,&quot;^F&quot;,4605,536898903]],[&quot;^17&quot;,[4609,&quot;^T&quot;,[&quot;^16&quot;,[]],536898902]],[&quot;^17&quot;,[4609,&quot;^Z&quot;,3651,536898902]],[&quot;^17&quot;,[4609,&quot;^W&quot;,3651,536898903]],[&quot;^17&quot;,[4609,&quot;^V&quot;,3651,536898920]],[&quot;^17&quot;,[4609,&quot;^V&quot;,4610,536898920]],[&quot;^17&quot;,[4609,&quot;^?&quot;,[&quot;^ &quot;],536898919]],[&quot;^17&quot;,[4609,&quot;^H&quot;,4610,536898919]],[&quot;^17&quot;,[4609,&quot;^1&gt;&quot;,2,536898907]],[&quot;^17&quot;,[4609,&quot;^Y&quot;,&quot;^1?&quot;,536898919]],[&quot;^17&quot;,[4609,&quot;^1@&quot;,true,536898902]],[&quot;^17&quot;,[4609,&quot;^;&quot;,&quot;~u63032f12-601e-4985-864a-be1ef8fb2f2f&quot;,536898902]],[&quot;^17&quot;,[4610,&quot;^L&quot;,1661153073962,536898919]],[&quot;^17&quot;,[4610,&quot;^P&quot;,&quot;^19&quot;,536898924]],[&quot;^17&quot;,[4610,&quot;^@&quot;,false,536898919]],[&quot;^17&quot;,[4610,&quot;^[&quot;,&quot;左值和右值&quot;,536898919]],[&quot;^17&quot;,[4610,&quot;^13&quot;,&quot;左值和右值&quot;,536898919]],[&quot;^17&quot;,[4610,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899091]],[&quot;^17&quot;,[4610,&quot;^B&quot;,1661154758860,536899408]],[&quot;^17&quot;,[4610,&quot;^;&quot;,&quot;~u63032f31-e344-41cb-aef9-6d9f7d9b7671&quot;,536898919]],[&quot;^17&quot;,[4611,&quot;^R&quot;,&quot;&quot;,536898921]],[&quot;^17&quot;,[4611,&quot;^P&quot;,&quot;^19&quot;,536898921]],[&quot;^17&quot;,[4611,&quot;^F&quot;,4609,536898921]],[&quot;^17&quot;,[4611,&quot;^T&quot;,[&quot;^16&quot;,[]],536898921]],[&quot;^17&quot;,[4611,&quot;^Z&quot;,3651,536898921]],[&quot;^17&quot;,[4611,&quot;^W&quot;,3651,536898921]],[&quot;^17&quot;,[4611,&quot;^?&quot;,[&quot;^ &quot;],536898921]],[&quot;^17&quot;,[4611,&quot;^1@&quot;,true,536898921]],[&quot;^17&quot;,[4611,&quot;^;&quot;,&quot;~u63032f32-ecdf-4b56-9951-05b2bae7e23a&quot;,536898921]],[&quot;^17&quot;,[4612,&quot;^R&quot;,&quot;C++中左值（lvalue）和右值（rvalue）是比较基础的概念，虽然平常几乎用不到，但C++11之后变得十分重要，它是理解 move/forward 等新语义的基础。&quot;,536898927]],[&quot;^17&quot;,[4612,&quot;^P&quot;,&quot;^19&quot;,536898925]],[&quot;^17&quot;,[4612,&quot;^@&quot;,false,536898925]],[&quot;^17&quot;,[4612,&quot;^F&quot;,4617,536898947]],[&quot;^17&quot;,[4612,&quot;^T&quot;,[&quot;^16&quot;,[]],536898925]],[&quot;^17&quot;,[4612,&quot;^Z&quot;,4610,536898925]],[&quot;^17&quot;,[4612,&quot;^W&quot;,4617,536898974]],[&quot;^17&quot;,[4612,&quot;^V&quot;,4610,536898975]],[&quot;^17&quot;,[4612,&quot;^?&quot;,[&quot;^ &quot;],536898925]],[&quot;^17&quot;,[4612,&quot;^1@&quot;,true,536898925]],[&quot;^17&quot;,[4612,&quot;^;&quot;,&quot;~u63032f33-a324-4578-b322-23d37b099dd2&quot;,536898925]],[&quot;^17&quot;,[4613,&quot;^R&quot;,&quot;左值与右值这两个概念是从 C 中传承而来的，左值指既能够出现在等号左边，也能出现在等号右边的变量；右值则是只能出现在等号右边的变量。\\n\\n``` cpp\\nint a;\\na = 3; // a is lvalue, 3 is rvaule\\n```&quot;,536898938]],[&quot;^17&quot;,[4613,&quot;^P&quot;,&quot;^19&quot;,536898927]],[&quot;^17&quot;,[4613,&quot;^F&quot;,4612,536898978]],[&quot;^17&quot;,[4613,&quot;^T&quot;,[&quot;^16&quot;,[]],536898927]],[&quot;^17&quot;,[4613,&quot;^Z&quot;,4610,536898927]],[&quot;^17&quot;,[4613,&quot;^W&quot;,4617,536898978]],[&quot;^17&quot;,[4613,&quot;^V&quot;,4610,536898939]],[&quot;^17&quot;,[4613,&quot;^?&quot;,[&quot;^ &quot;],536898938]],[&quot;^17&quot;,[4613,&quot;^1@&quot;,true,536898927]],[&quot;^17&quot;,[4613,&quot;^;&quot;,&quot;~u7b53b5a9-361a-4d68-8d3a-7761f15914d7&quot;,536898927]],[&quot;^17&quot;,[4615,&quot;^R&quot;,&quot;左值是可寻址的变量，有持久性；\\n右值一般是不可寻址的常量，或在表达式求值过程中创建的无名临时对象，短暂性的。&quot;,536898991]],[&quot;^17&quot;,[4615,&quot;^P&quot;,&quot;^19&quot;,536898940]],[&quot;^17&quot;,[4615,&quot;^@&quot;,false,536898940]],[&quot;^17&quot;,[4615,&quot;^F&quot;,4613,536898982]],[&quot;^17&quot;,[4615,&quot;^T&quot;,[&quot;^16&quot;,[]],536898940]],[&quot;^17&quot;,[4615,&quot;^Z&quot;,4610,536898940]],[&quot;^17&quot;,[4615,&quot;^W&quot;,4617,536898982]],[&quot;^17&quot;,[4615,&quot;^V&quot;,4610,536898992]],[&quot;^17&quot;,[4615,&quot;^?&quot;,[&quot;^ &quot;],536898991]],[&quot;^17&quot;,[4615,&quot;^1@&quot;,true,536898940]],[&quot;^17&quot;,[4615,&quot;^;&quot;,&quot;~u63032f67-e0fd-4531-a100-bc6e9aeafe04&quot;,536898940]],[&quot;^17&quot;,[4617,&quot;^R&quot;,&quot;## 1. 概念&quot;,536898959]],[&quot;^17&quot;,[4617,&quot;^P&quot;,&quot;^19&quot;,536898947]],[&quot;^17&quot;,[4617,&quot;^X&quot;,2,536898959]],[&quot;^17&quot;,[4617,&quot;^@&quot;,false,536898947]],[&quot;^17&quot;,[4617,&quot;^F&quot;,4620,536899091]],[&quot;^17&quot;,[4617,&quot;^T&quot;,[&quot;^16&quot;,[]],536898947]],[&quot;^17&quot;,[4617,&quot;^Z&quot;,4610,536898947]],[&quot;^17&quot;,[4617,&quot;^W&quot;,4610,536898947]],[&quot;^17&quot;,[4617,&quot;^V&quot;,4610,536898960]],[&quot;^17&quot;,[4617,&quot;^?&quot;,[&quot;^ &quot;],536898959]],[&quot;^17&quot;,[4617,&quot;^1&gt;&quot;,2,536898951]],[&quot;^17&quot;,[4617,&quot;^Y&quot;,&quot;^1?&quot;,536898959]],[&quot;^17&quot;,[4617,&quot;^1@&quot;,true,536898947]],[&quot;^17&quot;,[4617,&quot;^;&quot;,&quot;~u63032f76-0ff8-489e-8abc-302199431c2c&quot;,536898947]],[&quot;^17&quot;,[4618,&quot;^R&quot;,&quot;## 2. 左值引用和右值引用&quot;,536898999]],[&quot;^17&quot;,[4618,&quot;^P&quot;,&quot;^19&quot;,536898963]],[&quot;^17&quot;,[4618,&quot;^X&quot;,2,536898999]],[&quot;^17&quot;,[4618,&quot;^F&quot;,4617,536898985]],[&quot;^17&quot;,[4618,&quot;^T&quot;,[&quot;^16&quot;,[]],536898963]],[&quot;^17&quot;,[4618,&quot;^Z&quot;,4610,536898963]],[&quot;^17&quot;,[4618,&quot;^W&quot;,4610,536898963]],[&quot;^17&quot;,[4618,&quot;^V&quot;,4610,536899000]],[&quot;^17&quot;,[4618,&quot;^?&quot;,[&quot;^ &quot;],536898999]],[&quot;^17&quot;,[4618,&quot;^1&gt;&quot;,2,536898966]],[&quot;^17&quot;,[4618,&quot;^Y&quot;,&quot;^1?&quot;,536898999]],[&quot;^17&quot;,[4618,&quot;^1@&quot;,true,536898963]],[&quot;^17&quot;,[4618,&quot;^;&quot;,&quot;~u63032f7d-5570-4af1-b386-061604e4fbad&quot;,536898963]],[&quot;^17&quot;,[4619,&quot;^R&quot;,&quot;左值引用：引用一个对象；右值引用：必须绑定到右值的引用，c++11用右值引用实现移动语意,通过&amp;&amp;获得引用\\n\\n``` cpp\\nint x;\\nconst int &amp;z2 = x * 6; // 将const引用绑定到右值\\nint &amp;&amp;z3 = x*6； 右值引用\\n```&quot;,536899087]],[&quot;^17&quot;,[4619,&quot;^P&quot;,&quot;^19&quot;,536898999]],[&quot;^17&quot;,[4619,&quot;^F&quot;,4618,536898999]],[&quot;^17&quot;,[4619,&quot;^T&quot;,[&quot;^16&quot;,[]],536898999]],[&quot;^17&quot;,[4619,&quot;^Z&quot;,4610,536898999]],[&quot;^17&quot;,[4619,&quot;^W&quot;,4618,536899001]],[&quot;^17&quot;,[4619,&quot;^V&quot;,4610,536899088]],[&quot;^17&quot;,[4619,&quot;^?&quot;,[&quot;^ &quot;],536899087]],[&quot;^17&quot;,[4619,&quot;^1@&quot;,true,536898999]],[&quot;^17&quot;,[4619,&quot;^;&quot;,&quot;~u63032f9f-dc61-4421-8e1b-dfc04122a99f&quot;,536898999]],[&quot;^17&quot;,[4620,&quot;^R&quot;,&quot;public:: true&quot;,536899091]],[&quot;^17&quot;,[4620,&quot;^P&quot;,&quot;^19&quot;,536899091]],[&quot;^17&quot;,[4620,&quot;^F&quot;,4610,536899091]],[&quot;^17&quot;,[4620,&quot;^Z&quot;,4610,536899091]],[&quot;^17&quot;,[4620,&quot;^W&quot;,4610,536899091]],[&quot;^17&quot;,[4620,&quot;^V&quot;,4610,536899092]],[&quot;^17&quot;,[4620,&quot;^:&quot;,true,536899091]],[&quot;^17&quot;,[4620,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899091]],[&quot;^17&quot;,[4620,&quot;^;&quot;,&quot;~u4f442f7c-7e4d-45d5-96fe-3312a43e7310&quot;,536899091]],[&quot;^17&quot;,[4621,&quot;^R&quot;,&quot;## 关键资料&quot;,536899102]],[&quot;^17&quot;,[4621,&quot;^P&quot;,&quot;^19&quot;,536899095]],[&quot;^17&quot;,[4621,&quot;^X&quot;,2,536899102]],[&quot;^17&quot;,[4621,&quot;^@&quot;,false,536899095]],[&quot;^17&quot;,[4621,&quot;^F&quot;,4618,536899323]],[&quot;^17&quot;,[4621,&quot;^T&quot;,[&quot;^16&quot;,[]],536899095]],[&quot;^17&quot;,[4621,&quot;^Z&quot;,4610,536899095]],[&quot;^17&quot;,[4621,&quot;^W&quot;,4610,536899095]],[&quot;^17&quot;,[4621,&quot;^V&quot;,4610,536899103]],[&quot;^17&quot;,[4621,&quot;^?&quot;,[&quot;^ &quot;],536899102]],[&quot;^17&quot;,[4621,&quot;^1&gt;&quot;,2,536899098]],[&quot;^17&quot;,[4621,&quot;^Y&quot;,&quot;^1?&quot;,536899102]],[&quot;^17&quot;,[4621,&quot;^1@&quot;,true,536899095]],[&quot;^17&quot;,[4621,&quot;^;&quot;,&quot;~u63033367-1f95-4cce-b1c8-a68b50f34899&quot;,536899095]],[&quot;^17&quot;,[4622,&quot;^R&quot;,&quot;[C++ Rvalue References Explained](http://thbecker.net/articles/rvalue_references/section_01.html)&quot;,536899108]],[&quot;^17&quot;,[4622,&quot;^P&quot;,&quot;^19&quot;,536899102]],[&quot;^17&quot;,[4622,&quot;^@&quot;,false,536899102]],[&quot;^17&quot;,[4622,&quot;^F&quot;,4621,536899102]],[&quot;^17&quot;,[4622,&quot;^T&quot;,[&quot;^16&quot;,[]],536899102]],[&quot;^17&quot;,[4622,&quot;^Z&quot;,4610,536899102]],[&quot;^17&quot;,[4622,&quot;^W&quot;,4621,536899104]],[&quot;^17&quot;,[4622,&quot;^V&quot;,4610,536899324]],[&quot;^17&quot;,[4622,&quot;^?&quot;,[&quot;^ &quot;],536899108]],[&quot;^17&quot;,[4622,&quot;^1@&quot;,true,536899102]],[&quot;^17&quot;,[4622,&quot;^;&quot;,&quot;~u630333c8-720e-4ea3-8440-f18011b99d66&quot;,536899102]],[&quot;^17&quot;,[4623,&quot;^R&quot;,&quot;&quot;,536899112]],[&quot;^17&quot;,[4623,&quot;^P&quot;,&quot;^19&quot;,536899112]],[&quot;^17&quot;,[4623,&quot;^@&quot;,false,536899112]],[&quot;^17&quot;,[4623,&quot;^F&quot;,4622,536899112]],[&quot;^17&quot;,[4623,&quot;^T&quot;,[&quot;^16&quot;,[]],536899112]],[&quot;^17&quot;,[4623,&quot;^Z&quot;,4610,536899112]],[&quot;^17&quot;,[4623,&quot;^W&quot;,4621,536899112]],[&quot;^17&quot;,[4623,&quot;^V&quot;,4610,536899324]],[&quot;^17&quot;,[4623,&quot;^?&quot;,[&quot;^ &quot;],536899112]],[&quot;^17&quot;,[4623,&quot;^1@&quot;,true,536899112]],[&quot;^17&quot;,[4623,&quot;^;&quot;,&quot;~u630333ca-fac2-484f-b850-72029317d69c&quot;,536899112]],[&quot;^17&quot;,[4624,&quot;^R&quot;,&quot;### 例子&quot;,536899127]],[&quot;^17&quot;,[4624,&quot;^P&quot;,&quot;^19&quot;,536899115]],[&quot;^17&quot;,[4624,&quot;^X&quot;,3,536899127]],[&quot;^17&quot;,[4624,&quot;^@&quot;,false,536899115]],[&quot;^17&quot;,[4624,&quot;^F&quot;,4619,536899119]],[&quot;^17&quot;,[4624,&quot;^T&quot;,[&quot;^16&quot;,[]],536899115]],[&quot;^17&quot;,[4624,&quot;^Z&quot;,4610,536899115]],[&quot;^17&quot;,[4624,&quot;^W&quot;,4618,536899119]],[&quot;^17&quot;,[4624,&quot;^V&quot;,4610,536899128]],[&quot;^17&quot;,[4624,&quot;^?&quot;,[&quot;^ &quot;],536899127]],[&quot;^17&quot;,[4624,&quot;^1&gt;&quot;,3,536899127]],[&quot;^17&quot;,[4624,&quot;^Y&quot;,&quot;^1?&quot;,536899127]],[&quot;^17&quot;,[4624,&quot;^1@&quot;,true,536899115]],[&quot;^17&quot;,[4624,&quot;^;&quot;,&quot;~u6303344d-5574-4eb6-a7eb-def21d971e60&quot;,536899115]],[&quot;^17&quot;,[4625,&quot;^R&quot;,&quot;~``` cpp\\nclass Intvec\\n{\\npublic:\\n    explicit Intvec(size_t num = 0)\\n        : m_size(num), m_data(new int[m_size])\\n    {\\n        log(\\&quot;constructor\\&quot;);\\n    }\\n\\n    ~Intvec()\\n    {\\n        log(\\&quot;destructor\\&quot;);\\n        if (m_data) {\\n            delete[] m_data;\\n            m_data = 0;\\n        }\\n    }\\n\\n    Intvec(const Intvec&amp; other)\\n        : m_size(other.m_size), m_data(new int[m_size])\\n    {\\n        log(\\&quot;copy constructor\\&quot;);\\n        for (size_t i = 0; i &lt; m_size; ++i)\\n            m_data[i] = other.m_data[i];\\n    }\\n\\n    Intvec&amp; operator=(const Intvec&amp; other)\\n    {\\n        log(\\&quot;copy assignment operator\\&quot;);\\n        Intvec tmp(other);\\n        std::swap(m_size, tmp.m_size);\\n        std::swap(m_data, tmp.m_data);\\n        return *this;\\n    }\\nprivate:\\n    void log(const char* msg)\\n    {\\n        cout &lt;&lt; \\&quot;[\\&quot; &lt;&lt; this &lt;&lt; \\&quot;] \\&quot; &lt;&lt; msg &lt;&lt; \\&quot;\\\\n\\&quot;;\\n    }\\n\\n    size_t m_size;\\n    int* m_data;\\n};\\n```&quot;,536899159]],[&quot;^17&quot;,[4625,&quot;^P&quot;,&quot;^19&quot;,536899127]],[&quot;^17&quot;,[4625,&quot;^@&quot;,false,536899127]],[&quot;^17&quot;,[4625,&quot;^F&quot;,4624,536899127]],[&quot;^17&quot;,[4625,&quot;^T&quot;,[&quot;^16&quot;,[]],536899127]],[&quot;^17&quot;,[4625,&quot;^Z&quot;,4610,536899127]],[&quot;^17&quot;,[4625,&quot;^W&quot;,4624,536899131]],[&quot;^17&quot;,[4625,&quot;^V&quot;,4610,536899160]],[&quot;^17&quot;,[4625,&quot;^?&quot;,[&quot;^ &quot;],536899159]],[&quot;^17&quot;,[4625,&quot;^1@&quot;,true,536899127]],[&quot;^17&quot;,[4625,&quot;^;&quot;,&quot;~u63033452-cb04-4474-b51b-d794d2f171d7&quot;,536899127]],[&quot;^17&quot;,[4626,&quot;^R&quot;,&quot;运行一个复制代码\\n\\n``` cpp\\nIntvec v1(20);\\nIntvec v2;\\n\\ncout &lt;&lt; \\&quot;assigning lvalue...\\\\n\\&quot;;\\nv2 = v1;\\ncout &lt;&lt; \\&quot;ended assigning lvalue...\\\\n\\&quot;;\\n```&quot;,536899206]],[&quot;^17&quot;,[4626,&quot;^P&quot;,&quot;^19&quot;,536899163]],[&quot;^17&quot;,[4626,&quot;^@&quot;,false,536899163]],[&quot;^17&quot;,[4626,&quot;^F&quot;,4625,536899171]],[&quot;^17&quot;,[4626,&quot;^T&quot;,[&quot;^16&quot;,[]],536899163]],[&quot;^17&quot;,[4626,&quot;^Z&quot;,4610,536899163]],[&quot;^17&quot;,[4626,&quot;^W&quot;,4624,536899183]],[&quot;^17&quot;,[4626,&quot;^V&quot;,4610,536899207]],[&quot;^17&quot;,[4626,&quot;^?&quot;,[&quot;^ &quot;],536899206]],[&quot;^17&quot;,[4626,&quot;^1@&quot;,true,536899163]],[&quot;^17&quot;,[4626,&quot;^;&quot;,&quot;~u6303347c-6b0c-4908-b83f-fc6706f90646&quot;,536899163]],[&quot;^17&quot;,[4627,&quot;^R&quot;,&quot;输出： ![image.png](../assets/image_1661154508605_0.png)&quot;,536899247]],[&quot;^17&quot;,[4627,&quot;^P&quot;,&quot;^19&quot;,536899210]],[&quot;^17&quot;,[4627,&quot;^@&quot;,false,536899210]],[&quot;^17&quot;,[4627,&quot;^F&quot;,4626,536899216]],[&quot;^17&quot;,[4627,&quot;^T&quot;,[&quot;^16&quot;,[]],536899210]],[&quot;^17&quot;,[4627,&quot;^Z&quot;,4610,536899210]],[&quot;^17&quot;,[4627,&quot;^W&quot;,4624,536899216]],[&quot;^17&quot;,[4627,&quot;^V&quot;,4610,536899248]],[&quot;^17&quot;,[4627,&quot;^?&quot;,[&quot;^ &quot;],536899247]],[&quot;^17&quot;,[4627,&quot;^1@&quot;,true,536899210]],[&quot;^17&quot;,[4627,&quot;^;&quot;,&quot;~u6303349f-4cb6-4481-a231-b8272cdfe4ac&quot;,536899210]],[&quot;^17&quot;,[4630,&quot;^R&quot;,&quot;这是正确的，显示了 operator=的过程，但使用如下代码\\n\\n``` cpp\\ncout &lt;&lt; \\&quot;assigning rvalue...\\\\n\\&quot;;\\nv2 = Intvec(33);\\ncout &lt;&lt; \\&quot;ended assigning rvalue...\\\\n\\&quot;;\\n```&quot;,536899313]],[&quot;^17&quot;,[4630,&quot;^P&quot;,&quot;^19&quot;,536899251]],[&quot;^17&quot;,[4630,&quot;^@&quot;,false,536899251]],[&quot;^17&quot;,[4630,&quot;^F&quot;,4627,536899251]],[&quot;^17&quot;,[4630,&quot;^T&quot;,[&quot;^16&quot;,[]],536899251]],[&quot;^17&quot;,[4630,&quot;^Z&quot;,4610,536899251]],[&quot;^17&quot;,[4630,&quot;^W&quot;,4624,536899251]],[&quot;^17&quot;,[4630,&quot;^V&quot;,4610,536899314]],[&quot;^17&quot;,[4630,&quot;^?&quot;,[&quot;^ &quot;],536899313]],[&quot;^17&quot;,[4630,&quot;^1@&quot;,true,536899251]],[&quot;^17&quot;,[4630,&quot;^;&quot;,&quot;~u630334cd-29d9-44da-b07a-1370fa6a5504&quot;,536899251]],[&quot;^17&quot;,[4631,&quot;^R&quot;,&quot;![image.png](../assets/image_1661154634471_0.png)&quot;,536899339]],[&quot;^17&quot;,[4631,&quot;^P&quot;,&quot;^19&quot;,536899317]],[&quot;^17&quot;,[4631,&quot;^@&quot;,false,536899317]],[&quot;^17&quot;,[4631,&quot;^F&quot;,4630,536899329]],[&quot;^17&quot;,[4631,&quot;^T&quot;,[&quot;^16&quot;,[]],536899317]],[&quot;^17&quot;,[4631,&quot;^Z&quot;,4610,536899317]],[&quot;^17&quot;,[4631,&quot;^W&quot;,4624,536899329]],[&quot;^17&quot;,[4631,&quot;^V&quot;,4610,536899340]],[&quot;^17&quot;,[4631,&quot;^?&quot;,[&quot;^ &quot;],536899339]],[&quot;^17&quot;,[4631,&quot;^1@&quot;,true,536899317]],[&quot;^17&quot;,[4631,&quot;^;&quot;,&quot;~u63033536-9c92-48b3-84bf-6d2a6467ed75&quot;,536899317]],[&quot;^17&quot;,[4632,&quot;^R&quot;,&quot;可以发现构造，析构了两次造成了浪费。若我们将 `operator=`的参数改为右值引用，则结构就不需要右值对象，就少了一些构造析构&quot;,536899408]],[&quot;^17&quot;,[4632,&quot;^P&quot;,&quot;^19&quot;,536899341]],[&quot;^17&quot;,[4632,&quot;^@&quot;,false,536899341]],[&quot;^17&quot;,[4632,&quot;^F&quot;,4631,536899341]],[&quot;^17&quot;,[4632,&quot;^T&quot;,[&quot;^16&quot;,[]],536899341]],[&quot;^17&quot;,[4632,&quot;^Z&quot;,4610,536899341]],[&quot;^17&quot;,[4632,&quot;^W&quot;,4624,536899341]],[&quot;^17&quot;,[4632,&quot;^V&quot;,4610,536899409]],[&quot;^17&quot;,[4632,&quot;^?&quot;,[&quot;^ &quot;],536899408]],[&quot;^17&quot;,[4632,&quot;^1@&quot;,true,536899341]],[&quot;^17&quot;,[4632,&quot;^;&quot;,&quot;~u6303354b-9289-4e4e-9706-f1e808ca11ee&quot;,536899341]],[&quot;^17&quot;,[4637,&quot;^14&quot;,1,536899443]],[&quot;^17&quot;,[4644,&quot;^14&quot;,1,536899477]],[&quot;^17&quot;,[4658,&quot;^14&quot;,1,536899531]],[&quot;^17&quot;,[4661,&quot;^14&quot;,1,536899544]],[&quot;^17&quot;,[4666,&quot;^14&quot;,1,536899561]],[&quot;^17&quot;,[4671,&quot;^L&quot;,1661998414468,536899580]],[&quot;^17&quot;,[4671,&quot;^P&quot;,&quot;^19&quot;,536899584]],[&quot;^17&quot;,[4671,&quot;^@&quot;,false,536899580]],[&quot;^17&quot;,[4671,&quot;^[&quot;,&quot;java 八股&quot;,536899580]],[&quot;^17&quot;,[4671,&quot;^13&quot;,&quot;java 八股&quot;,536899580]],[&quot;^17&quot;,[4671,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899588]],[&quot;^17&quot;,[4671,&quot;^B&quot;,1661999449328,536899884]],[&quot;^17&quot;,[4671,&quot;^;&quot;,&quot;~u6310154e-9003-4187-b134-5b9886495e68&quot;,536899580]],[&quot;^17&quot;,[4672,&quot;^R&quot;,&quot;## 1. java equals() hashCode()&quot;,536899631]],[&quot;^17&quot;,[4672,&quot;^P&quot;,&quot;^19&quot;,536899585]],[&quot;^17&quot;,[4672,&quot;^X&quot;,2,536899631]],[&quot;^17&quot;,[4672,&quot;^@&quot;,false,536899585]],[&quot;^17&quot;,[4672,&quot;^F&quot;,4673,536899588]],[&quot;^17&quot;,[4672,&quot;^T&quot;,[&quot;^16&quot;,[]],536899585]],[&quot;^17&quot;,[4672,&quot;^Z&quot;,4671,536899585]],[&quot;^17&quot;,[4672,&quot;^W&quot;,4671,536899585]],[&quot;^17&quot;,[4672,&quot;^V&quot;,4671,536899632]],[&quot;^17&quot;,[4672,&quot;^?&quot;,[&quot;^ &quot;],536899631]],[&quot;^17&quot;,[4672,&quot;^1&gt;&quot;,2,536899609]],[&quot;^17&quot;,[4672,&quot;^Y&quot;,&quot;^1?&quot;,536899631]],[&quot;^17&quot;,[4672,&quot;^1@&quot;,true,536899585]],[&quot;^17&quot;,[4672,&quot;^;&quot;,&quot;~u6310154f-276b-438c-95ed-673ef1f8809d&quot;,536899585]],[&quot;^17&quot;,[4673,&quot;^R&quot;,&quot;public:: true&quot;,536899588]],[&quot;^17&quot;,[4673,&quot;^P&quot;,&quot;^19&quot;,536899588]],[&quot;^17&quot;,[4673,&quot;^F&quot;,4671,536899588]],[&quot;^17&quot;,[4673,&quot;^Z&quot;,4671,536899588]],[&quot;^17&quot;,[4673,&quot;^W&quot;,4671,536899588]],[&quot;^17&quot;,[4673,&quot;^V&quot;,4671,536899589]],[&quot;^17&quot;,[4673,&quot;^:&quot;,true,536899588]],[&quot;^17&quot;,[4673,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899588]],[&quot;^17&quot;,[4673,&quot;^;&quot;,&quot;~u42e2830a-9a90-44da-95c3-dc3cd9391408&quot;,536899588]],[&quot;^17&quot;,[4675,&quot;^R&quot;,&quot;这两个方法都在Object类中，都有默认实现(是地址比较，但String Math Integer Double都覆盖了Object都方法)\\n\\n``` java\\npublic boolean equals(Object obj) {\\n  return (this == obj);\\n}\\n```&quot;,536899750]],[&quot;^17&quot;,[4675,&quot;^P&quot;,&quot;^19&quot;,536899635]],[&quot;^17&quot;,[4675,&quot;^@&quot;,false,536899635]],[&quot;^17&quot;,[4675,&quot;^F&quot;,4672,536899635]],[&quot;^17&quot;,[4675,&quot;^T&quot;,[&quot;^16&quot;,[]],536899635]],[&quot;^17&quot;,[4675,&quot;^Z&quot;,4671,536899635]],[&quot;^17&quot;,[4675,&quot;^W&quot;,4672,536899637]],[&quot;^17&quot;,[4675,&quot;^V&quot;,4671,536899751]],[&quot;^17&quot;,[4675,&quot;^?&quot;,[&quot;^ &quot;],536899750]],[&quot;^17&quot;,[4675,&quot;^1@&quot;,true,536899635]],[&quot;^17&quot;,[4675,&quot;^;&quot;,&quot;~u63101575-0d2d-4776-b8fb-5f803b2872cf&quot;,536899635]],[&quot;^17&quot;,[4677,&quot;^R&quot;,&quot;&quot;,536899693]],[&quot;^17&quot;,[4677,&quot;^P&quot;,&quot;^19&quot;,536899693]],[&quot;^17&quot;,[4677,&quot;^@&quot;,false,536899693]],[&quot;^17&quot;,[4677,&quot;^F&quot;,4681,536899892]],[&quot;^17&quot;,[4677,&quot;^T&quot;,[&quot;^16&quot;,[]],536899693]],[&quot;^17&quot;,[4677,&quot;^Z&quot;,4671,536899693]],[&quot;^17&quot;,[4677,&quot;^W&quot;,4672,536899697]],[&quot;^17&quot;,[4677,&quot;^V&quot;,4671,536899694]],[&quot;^17&quot;,[4677,&quot;^?&quot;,[&quot;^ &quot;],536899693]],[&quot;^17&quot;,[4677,&quot;^1@&quot;,true,536899693]],[&quot;^17&quot;,[4677,&quot;^;&quot;,&quot;~u631015fa-4480-4d66-ba44-7c6d08197786&quot;,536899693]],[&quot;^17&quot;,[4678,&quot;^R&quot;,&quot;equals方法满足自反reflexive，对称symmetric,传递transitive, 一致consistent。equals被override时，hashCode也应该被override&quot;,536899850]],[&quot;^17&quot;,[4678,&quot;^P&quot;,&quot;^19&quot;,536899754]],[&quot;^17&quot;,[4678,&quot;^@&quot;,false,536899754]],[&quot;^17&quot;,[4678,&quot;^F&quot;,4675,536899754]],[&quot;^17&quot;,[4678,&quot;^T&quot;,[&quot;^16&quot;,[]],536899754]],[&quot;^17&quot;,[4678,&quot;^Z&quot;,4671,536899754]],[&quot;^17&quot;,[4678,&quot;^W&quot;,4672,536899754]],[&quot;^17&quot;,[4678,&quot;^V&quot;,4671,536899851]],[&quot;^17&quot;,[4678,&quot;^?&quot;,[&quot;^ &quot;],536899850]],[&quot;^17&quot;,[4678,&quot;^1@&quot;,true,536899754]],[&quot;^17&quot;,[4678,&quot;^;&quot;,&quot;~u6310175c-731f-42b7-83b8-34f1526d9481&quot;,536899754]],[&quot;^17&quot;,[4679,&quot;^R&quot;,&quot;~`hashCode()` 方法给对象返回一个hash code值。这个方法被用于hash tables，例如HashMap。 两个equal的对象，hashCode也应该一致\\n&quot;,536899884]],[&quot;^17&quot;,[4679,&quot;^P&quot;,&quot;^19&quot;,536899850]],[&quot;^17&quot;,[4679,&quot;^@&quot;,false,536899850]],[&quot;^17&quot;,[4679,&quot;^F&quot;,4678,536899850]],[&quot;^17&quot;,[4679,&quot;^T&quot;,[&quot;^16&quot;,[]],536899850]],[&quot;^17&quot;,[4679,&quot;^Z&quot;,4671,536899850]],[&quot;^17&quot;,[4679,&quot;^W&quot;,4672,536899850]],[&quot;^17&quot;,[4679,&quot;^V&quot;,4671,536899884]],[&quot;^17&quot;,[4679,&quot;^?&quot;,[&quot;^ &quot;],536899884]],[&quot;^17&quot;,[4679,&quot;^1@&quot;,true,536899850]],[&quot;^17&quot;,[4679,&quot;^;&quot;,&quot;~u6310182a-ef2c-4369-b584-32956d2c8a6f&quot;,536899850]],[&quot;^17&quot;,[4680,&quot;^R&quot;,&quot;**简而言之，在集合查找时，hashcode能大大降低对象比较次数，提高查找效率！**&quot;,536899885]],[&quot;^17&quot;,[4680,&quot;^P&quot;,&quot;^19&quot;,536899885]],[&quot;^17&quot;,[4680,&quot;^F&quot;,4679,536899885]],[&quot;^17&quot;,[4680,&quot;^T&quot;,[&quot;^16&quot;,[]],536899885]],[&quot;^17&quot;,[4680,&quot;^Z&quot;,4671,536899885]],[&quot;^17&quot;,[4680,&quot;^W&quot;,4672,536899885]],[&quot;^17&quot;,[4680,&quot;^V&quot;,4671,536899886]],[&quot;^17&quot;,[4680,&quot;^1@&quot;,true,536899885]],[&quot;^17&quot;,[4680,&quot;^;&quot;,&quot;~udd31671e-24a0-4436-a267-642bd8b45501&quot;,536899885]],[&quot;^17&quot;,[4681,&quot;^R&quot;,&quot;Java对象的eqauls方法和hashCode方法是这样规定的：&quot;,536899885]],[&quot;^17&quot;,[4681,&quot;^P&quot;,&quot;^19&quot;,536899885]],[&quot;^17&quot;,[4681,&quot;^F&quot;,4680,536899885]],[&quot;^17&quot;,[4681,&quot;^T&quot;,[&quot;^16&quot;,[]],536899885]],[&quot;^17&quot;,[4681,&quot;^Z&quot;,4671,536899885]],[&quot;^17&quot;,[4681,&quot;^W&quot;,4672,536899885]],[&quot;^17&quot;,[4681,&quot;^V&quot;,4671,536899886]],[&quot;^17&quot;,[4681,&quot;^1@&quot;,true,536899885]],[&quot;^17&quot;,[4681,&quot;^;&quot;,&quot;~uace73854-4158-405d-9c14-435b597f1ba2&quot;,536899885]],[&quot;^17&quot;,[4682,&quot;^R&quot;,&quot;**1、相等****（相同）****的对象必须具有相等的哈希码（或者散列码）。**&quot;,536899885]],[&quot;^17&quot;,[4682,&quot;^P&quot;,&quot;^19&quot;,536899885]],[&quot;^17&quot;,[4682,&quot;^F&quot;,4681,536899885]],[&quot;^17&quot;,[4682,&quot;^T&quot;,[&quot;^16&quot;,[]],536899885]],[&quot;^17&quot;,[4682,&quot;^Z&quot;,4671,536899885]],[&quot;^17&quot;,[4682,&quot;^W&quot;,4681,536899889]],[&quot;^17&quot;,[4682,&quot;^V&quot;,4671,536899886]],[&quot;^17&quot;,[4682,&quot;^1@&quot;,true,536899885]],[&quot;^17&quot;,[4682,&quot;^;&quot;,&quot;~u48b98bcf-8ede-4134-afc6-fa1668604545&quot;,536899885]],[&quot;^17&quot;,[4683,&quot;^R&quot;,&quot;**2、如果两个对象的hashCode相同，它们并不一定相同。**&quot;,536899885]],[&quot;^17&quot;,[4683,&quot;^P&quot;,&quot;^19&quot;,536899885]],[&quot;^17&quot;,[4683,&quot;^F&quot;,4682,536899892]],[&quot;^17&quot;,[4683,&quot;^T&quot;,[&quot;^16&quot;,[]],536899885]],[&quot;^17&quot;,[4683,&quot;^Z&quot;,4671,536899885]],[&quot;^17&quot;,[4683,&quot;^W&quot;,4681,536899892]],[&quot;^17&quot;,[4683,&quot;^V&quot;,4671,536899886]],[&quot;^17&quot;,[4683,&quot;^1@&quot;,true,536899885]],[&quot;^17&quot;,[4683,&quot;^;&quot;,&quot;~ufb5c51f5-48ab-489b-a2ca-f2351b588540&quot;,536899885]],[&quot;^17&quot;,[4684,&quot;^L&quot;,1661999674815,536899895]],[&quot;^17&quot;,[4684,&quot;^P&quot;,&quot;^19&quot;,536899900]],[&quot;^17&quot;,[4684,&quot;^@&quot;,false,536899895]],[&quot;^17&quot;,[4684,&quot;^[&quot;,&quot;git rebase&quot;,536899895]],[&quot;^17&quot;,[4684,&quot;^13&quot;,&quot;git rebase&quot;,536899895]],[&quot;^17&quot;,[4684,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899904]],[&quot;^17&quot;,[4684,&quot;^B&quot;,1662000458143,536900011]],[&quot;^17&quot;,[4684,&quot;^;&quot;,&quot;~u63101a3a-bf41-49b2-bbfa-c6b3c14deead&quot;,536899895]],[&quot;^17&quot;,[4687,&quot;^R&quot;,&quot;当多人协作编辑时，若push的commit的基点已经变更，就无法直接push，可能需要merge。&quot;,536899941]],[&quot;^17&quot;,[4687,&quot;^P&quot;,&quot;^19&quot;,536899901]],[&quot;^17&quot;,[4687,&quot;^@&quot;,false,536899901]],[&quot;^17&quot;,[4687,&quot;^F&quot;,4688,536899904]],[&quot;^17&quot;,[4687,&quot;^T&quot;,[&quot;^16&quot;,[]],536899901]],[&quot;^17&quot;,[4687,&quot;^Z&quot;,4684,536899901]],[&quot;^17&quot;,[4687,&quot;^W&quot;,4684,536899901]],[&quot;^17&quot;,[4687,&quot;^V&quot;,4684,536899942]],[&quot;^17&quot;,[4687,&quot;^?&quot;,[&quot;^ &quot;],536899941]],[&quot;^17&quot;,[4687,&quot;^1@&quot;,true,536899901]],[&quot;^17&quot;,[4687,&quot;^;&quot;,&quot;~u63101a3b-88ad-4496-b826-0c78650aa059&quot;,536899901]],[&quot;^17&quot;,[4688,&quot;^R&quot;,&quot;public:: true&quot;,536899904]],[&quot;^17&quot;,[4688,&quot;^P&quot;,&quot;^19&quot;,536899904]],[&quot;^17&quot;,[4688,&quot;^F&quot;,4684,536899904]],[&quot;^17&quot;,[4688,&quot;^Z&quot;,4684,536899904]],[&quot;^17&quot;,[4688,&quot;^W&quot;,4684,536899904]],[&quot;^17&quot;,[4688,&quot;^V&quot;,4684,536899905]],[&quot;^17&quot;,[4688,&quot;^:&quot;,true,536899904]],[&quot;^17&quot;,[4688,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536899904]],[&quot;^17&quot;,[4688,&quot;^;&quot;,&quot;~u440529a9-024e-4170-8d00-3cf83fb13bef&quot;,536899904]],[&quot;^17&quot;,[4690,&quot;^R&quot;,&quot;可以使用 `git pull -r || git pull --rebase`拉取合并远端分支，然后执行 `git status` 查看是否冲突\\n![image.png](../assets/image_1662000419830_0.png)\\ngit会以F节点作为新的基点，与D节点的代码进行融合，如果此时出现冲突，那么你就会被移到临时解冲突的分支，需要人工解冲突，解完后执行 `git add -A` 保存操作，再执行 `git rebase --continue` 继续后续操作，你可能会遗漏某一处冲突，这个完全不同担心， `git rebase --continue` 会帮你检查是否解决完成，如果没有完成则不会让你回到正常分支。\\n![image.png](../assets/image_1662000434577_0.png)&quot;,536900011]],[&quot;^17&quot;,[4690,&quot;^P&quot;,&quot;^19&quot;,536899941]],[&quot;^17&quot;,[4690,&quot;^@&quot;,false,536899941]],[&quot;^17&quot;,[4690,&quot;^F&quot;,4687,536899941]],[&quot;^17&quot;,[4690,&quot;^T&quot;,[&quot;^16&quot;,[]],536899941]],[&quot;^17&quot;,[4690,&quot;^Z&quot;,4684,536899941]],[&quot;^17&quot;,[4690,&quot;^W&quot;,4684,536899941]],[&quot;^17&quot;,[4690,&quot;^V&quot;,4684,536900012]],[&quot;^17&quot;,[4690,&quot;^?&quot;,[&quot;^ &quot;],536900011]],[&quot;^17&quot;,[4690,&quot;^1@&quot;,true,536899941]],[&quot;^17&quot;,[4690,&quot;^;&quot;,&quot;~u63101b06-c2dd-41e4-a77b-149192ff4705&quot;,536899941]],[&quot;^17&quot;,[4691,&quot;^R&quot;,&quot;&quot;,536900003]],[&quot;^17&quot;,[4691,&quot;^P&quot;,&quot;^19&quot;,536900003]],[&quot;^17&quot;,[4691,&quot;^@&quot;,false,536900003]],[&quot;^17&quot;,[4691,&quot;^F&quot;,4690,536900003]],[&quot;^17&quot;,[4691,&quot;^T&quot;,[&quot;^16&quot;,[]],536900003]],[&quot;^17&quot;,[4691,&quot;^Z&quot;,4684,536900003]],[&quot;^17&quot;,[4691,&quot;^W&quot;,4684,536900003]],[&quot;^17&quot;,[4691,&quot;^V&quot;,4684,536900004]],[&quot;^17&quot;,[4691,&quot;^?&quot;,[&quot;^ &quot;],536900003]],[&quot;^17&quot;,[4691,&quot;^1@&quot;,true,536900003]],[&quot;^17&quot;,[4691,&quot;^;&quot;,&quot;~u63101d33-e34e-417b-9c59-624c46c27855&quot;,536900003]],[&quot;^17&quot;,[4693,&quot;^L&quot;,1662000725917,536900019]],[&quot;^17&quot;,[4693,&quot;^P&quot;,&quot;^19&quot;,536900023]],[&quot;^17&quot;,[4693,&quot;^@&quot;,false,536900019]],[&quot;^17&quot;,[4693,&quot;^[&quot;,&quot;design patterns&quot;,536900019]],[&quot;^17&quot;,[4693,&quot;^13&quot;,&quot;design patterns&quot;,536900019]],[&quot;^17&quot;,[4693,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536900027]],[&quot;^17&quot;,[4693,&quot;^B&quot;,1662001546904,536900271]],[&quot;^17&quot;,[4693,&quot;^;&quot;,&quot;~u63101e55-a701-4df0-888a-6c9c613e039c&quot;,536900019]],[&quot;^17&quot;,[4695,&quot;^R&quot;,&quot;Design patterns are solution to recurring problems. 在软件工程中，设计模式不是直接转化为源代码，他是如何解决问题的描述或模版。&quot;,536900104]],[&quot;^17&quot;,[4695,&quot;^P&quot;,&quot;^19&quot;,536900024]],[&quot;^17&quot;,[4695,&quot;^@&quot;,false,536900024]],[&quot;^17&quot;,[4695,&quot;^F&quot;,4696,536900027]],[&quot;^17&quot;,[4695,&quot;^T&quot;,[&quot;^16&quot;,[]],536900024]],[&quot;^17&quot;,[4695,&quot;^Z&quot;,4693,536900024]],[&quot;^17&quot;,[4695,&quot;^W&quot;,4693,536900024]],[&quot;^17&quot;,[4695,&quot;^V&quot;,4693,536900105]],[&quot;^17&quot;,[4695,&quot;^?&quot;,[&quot;^ &quot;],536900104]],[&quot;^17&quot;,[4695,&quot;^1@&quot;,true,536900024]],[&quot;^17&quot;,[4695,&quot;^;&quot;,&quot;~u63101e57-3f76-4d31-ab3a-f331411fe418&quot;,536900024]],[&quot;^17&quot;,[4696,&quot;^R&quot;,&quot;public:: true&quot;,536900027]],[&quot;^17&quot;,[4696,&quot;^P&quot;,&quot;^19&quot;,536900027]],[&quot;^17&quot;,[4696,&quot;^F&quot;,4693,536900027]],[&quot;^17&quot;,[4696,&quot;^Z&quot;,4693,536900027]],[&quot;^17&quot;,[4696,&quot;^W&quot;,4693,536900027]],[&quot;^17&quot;,[4696,&quot;^V&quot;,4693,536900028]],[&quot;^17&quot;,[4696,&quot;^:&quot;,true,536900027]],[&quot;^17&quot;,[4696,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536900027]],[&quot;^17&quot;,[4696,&quot;^;&quot;,&quot;~u6f4bd6ed-f21f-4610-8996-7c0cab2e3d28&quot;,536900027]],[&quot;^17&quot;,[4698,&quot;^R&quot;,&quot;## 设计模式的种类&quot;,536900128]],[&quot;^17&quot;,[4698,&quot;^P&quot;,&quot;^19&quot;,536900104]],[&quot;^17&quot;,[4698,&quot;^X&quot;,2,536900128]],[&quot;^17&quot;,[4698,&quot;^@&quot;,false,536900104]],[&quot;^17&quot;,[4698,&quot;^F&quot;,4695,536900104]],[&quot;^17&quot;,[4698,&quot;^T&quot;,[&quot;^16&quot;,[]],536900104]],[&quot;^17&quot;,[4698,&quot;^Z&quot;,4693,536900104]],[&quot;^17&quot;,[4698,&quot;^W&quot;,4693,536900104]],[&quot;^17&quot;,[4698,&quot;^V&quot;,4693,536900129]],[&quot;^17&quot;,[4698,&quot;^?&quot;,[&quot;^ &quot;],536900128]],[&quot;^17&quot;,[4698,&quot;^1&gt;&quot;,2,536900128]],[&quot;^17&quot;,[4698,&quot;^Y&quot;,&quot;^1?&quot;,536900128]],[&quot;^17&quot;,[4698,&quot;^1@&quot;,true,536900104]],[&quot;^17&quot;,[4698,&quot;^;&quot;,&quot;~u63102011-29b5-4a6d-8b22-5f6829f2c8c3&quot;,536900104]],[&quot;^17&quot;,[4700,&quot;^R&quot;,&quot;Creational 创建型&quot;,536900210]],[&quot;^17&quot;,[4700,&quot;^P&quot;,&quot;^19&quot;,536900132]],[&quot;^17&quot;,[4700,&quot;^@&quot;,false,536900132]],[&quot;^17&quot;,[4700,&quot;^F&quot;,4698,536900132]],[&quot;^17&quot;,[4700,&quot;^T&quot;,[&quot;^16&quot;,[]],536900132]],[&quot;^17&quot;,[4700,&quot;^Z&quot;,4693,536900132]],[&quot;^17&quot;,[4700,&quot;^W&quot;,4698,536900134]],[&quot;^17&quot;,[4700,&quot;^V&quot;,4693,536900211]],[&quot;^17&quot;,[4700,&quot;^?&quot;,[&quot;^ &quot;],536900210]],[&quot;^17&quot;,[4700,&quot;^1@&quot;,true,536900132]],[&quot;^17&quot;,[4700,&quot;^;&quot;,&quot;~u631020a9-0366-4682-abf3-ef6a6150662f&quot;,536900132]],[&quot;^17&quot;,[4701,&quot;^R&quot;,&quot;Structural 结构型&quot;,536900214]],[&quot;^17&quot;,[4701,&quot;^P&quot;,&quot;^19&quot;,536900155]],[&quot;^17&quot;,[4701,&quot;^@&quot;,false,536900155]],[&quot;^17&quot;,[4701,&quot;^F&quot;,4700,536900155]],[&quot;^17&quot;,[4701,&quot;^T&quot;,[&quot;^16&quot;,[]],536900155]],[&quot;^17&quot;,[4701,&quot;^Z&quot;,4693,536900155]],[&quot;^17&quot;,[4701,&quot;^W&quot;,4698,536900155]],[&quot;^17&quot;,[4701,&quot;^V&quot;,4705,536900215]],[&quot;^17&quot;,[4701,&quot;^?&quot;,[&quot;^ &quot;],536900214]],[&quot;^17&quot;,[4701,&quot;^1@&quot;,true,536900155]],[&quot;^17&quot;,[4701,&quot;^;&quot;,&quot;~u631020b1-0f46-4a3a-bd5c-e84c8f26d0ee&quot;,536900155]],[&quot;^17&quot;,[4702,&quot;^R&quot;,&quot;Behavioral 行为型&quot;,536900218]],[&quot;^17&quot;,[4702,&quot;^P&quot;,&quot;^19&quot;,536900175]],[&quot;^17&quot;,[4702,&quot;^@&quot;,false,536900175]],[&quot;^17&quot;,[4702,&quot;^F&quot;,4701,536900175]],[&quot;^17&quot;,[4702,&quot;^T&quot;,[&quot;^16&quot;,[]],536900175]],[&quot;^17&quot;,[4702,&quot;^Z&quot;,4693,536900175]],[&quot;^17&quot;,[4702,&quot;^W&quot;,4698,536900175]],[&quot;^17&quot;,[4702,&quot;^V&quot;,4706,536900219]],[&quot;^17&quot;,[4702,&quot;^?&quot;,[&quot;^ &quot;],536900218]],[&quot;^17&quot;,[4702,&quot;^1@&quot;,true,536900175]],[&quot;^17&quot;,[4702,&quot;^;&quot;,&quot;~u631020b8-3bbd-4cc3-90f3-fd2b78212230&quot;,536900175]],[&quot;^17&quot;,[4703,&quot;^R&quot;,&quot;### 创建型&quot;,536900240]],[&quot;^17&quot;,[4703,&quot;^P&quot;,&quot;^19&quot;,536900203]],[&quot;^17&quot;,[4703,&quot;^X&quot;,3,536900240]],[&quot;^17&quot;,[4703,&quot;^@&quot;,false,536900203]],[&quot;^17&quot;,[4703,&quot;^F&quot;,4698,536900207]],[&quot;^17&quot;,[4703,&quot;^T&quot;,[&quot;^16&quot;,[]],536900203]],[&quot;^17&quot;,[4703,&quot;^Z&quot;,4693,536900203]],[&quot;^17&quot;,[4703,&quot;^W&quot;,4693,536900207]],[&quot;^17&quot;,[4703,&quot;^V&quot;,4693,536900241]],[&quot;^17&quot;,[4703,&quot;^?&quot;,[&quot;^ &quot;],536900240]],[&quot;^17&quot;,[4703,&quot;^1&gt;&quot;,3,536900236]],[&quot;^17&quot;,[4703,&quot;^Y&quot;,&quot;^1?&quot;,536900240]],[&quot;^17&quot;,[4703,&quot;^1@&quot;,true,536900203]],[&quot;^17&quot;,[4703,&quot;^;&quot;,&quot;~u63102112-503e-4478-882d-e4c9037d4241&quot;,536900203]],[&quot;^17&quot;,[4708,&quot;^R&quot;,&quot;[[单例]]&quot;,536900245]],[&quot;^17&quot;,[4708,&quot;^P&quot;,&quot;^19&quot;,536900240]],[&quot;^17&quot;,[4708,&quot;^@&quot;,false,536900240]],[&quot;^17&quot;,[4708,&quot;^F&quot;,4703,536900240]],[&quot;^17&quot;,[4708,&quot;^T&quot;,[&quot;^16&quot;,[]],536900240]],[&quot;^17&quot;,[4708,&quot;^Z&quot;,4693,536900240]],[&quot;^17&quot;,[4708,&quot;^W&quot;,4703,536900242]],[&quot;^17&quot;,[4708,&quot;^V&quot;,4693,536900246]],[&quot;^17&quot;,[4708,&quot;^V&quot;,4709,536900246]],[&quot;^17&quot;,[4708,&quot;^?&quot;,[&quot;^ &quot;],536900245]],[&quot;^17&quot;,[4708,&quot;^H&quot;,4709,536900245]],[&quot;^17&quot;,[4708,&quot;^1@&quot;,true,536900240]],[&quot;^17&quot;,[4708,&quot;^;&quot;,&quot;~u6310215f-f39d-4bc6-af0e-97b288adf744&quot;,536900240]],[&quot;^17&quot;,[4709,&quot;^5&quot;,4723,536900288]],[&quot;^17&quot;,[4709,&quot;^L&quot;,1662001516177,536900245]],[&quot;^17&quot;,[4709,&quot;^P&quot;,&quot;^19&quot;,536900275]],[&quot;^17&quot;,[4709,&quot;^@&quot;,false,536900245]],[&quot;^17&quot;,[4709,&quot;^[&quot;,&quot;单例&quot;,536900245]],[&quot;^17&quot;,[4709,&quot;^13&quot;,&quot;单例&quot;,536900245]],[&quot;^17&quot;,[4709,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;Singleton&quot;]]],536900288]],[&quot;^17&quot;,[4709,&quot;^B&quot;,1662003112363,536900442]],[&quot;^17&quot;,[4709,&quot;^;&quot;,&quot;~u6310216c-86d6-4e9d-a159-7a71b3e79439&quot;,536900245]],[&quot;^17&quot;,[4710,&quot;^R&quot;,&quot;[[简单工厂]]&quot;,536900249]],[&quot;^17&quot;,[4710,&quot;^P&quot;,&quot;^19&quot;,536900245]],[&quot;^17&quot;,[4710,&quot;^@&quot;,false,536900245]],[&quot;^17&quot;,[4710,&quot;^F&quot;,4708,536900245]],[&quot;^17&quot;,[4710,&quot;^T&quot;,[&quot;^16&quot;,[]],536900245]],[&quot;^17&quot;,[4710,&quot;^Z&quot;,4693,536900245]],[&quot;^17&quot;,[4710,&quot;^W&quot;,4703,536900245]],[&quot;^17&quot;,[4710,&quot;^V&quot;,4693,536900250]],[&quot;^17&quot;,[4710,&quot;^V&quot;,4711,536900250]],[&quot;^17&quot;,[4710,&quot;^?&quot;,[&quot;^ &quot;],536900249]],[&quot;^17&quot;,[4710,&quot;^H&quot;,4711,536900249]],[&quot;^17&quot;,[4710,&quot;^1@&quot;,true,536900245]],[&quot;^17&quot;,[4710,&quot;^;&quot;,&quot;~u6310216c-026b-4aac-ae4b-917dededf4a3&quot;,536900245]],[&quot;^17&quot;,[4712,&quot;^R&quot;,&quot;[[工厂方法]]&quot;,536900255]],[&quot;^17&quot;,[4712,&quot;^P&quot;,&quot;^19&quot;,536900251]],[&quot;^17&quot;,[4712,&quot;^@&quot;,false,536900251]],[&quot;^17&quot;,[4712,&quot;^F&quot;,4710,536900251]],[&quot;^17&quot;,[4712,&quot;^T&quot;,[&quot;^16&quot;,[]],536900251]],[&quot;^17&quot;,[4712,&quot;^Z&quot;,4693,536900251]],[&quot;^17&quot;,[4712,&quot;^W&quot;,4703,536900251]],[&quot;^17&quot;,[4712,&quot;^V&quot;,4693,536900256]],[&quot;^17&quot;,[4712,&quot;^V&quot;,4713,536900256]],[&quot;^17&quot;,[4712,&quot;^?&quot;,[&quot;^ &quot;],536900255]],[&quot;^17&quot;,[4712,&quot;^H&quot;,4713,536900255]],[&quot;^17&quot;,[4712,&quot;^1@&quot;,true,536900251]],[&quot;^17&quot;,[4712,&quot;^;&quot;,&quot;~u63102171-d0ca-4161-b9f2-340d5f6fe09d&quot;,536900251]],[&quot;^17&quot;,[4714,&quot;^R&quot;,&quot;[[抽象方法]]&quot;,536900263]],[&quot;^17&quot;,[4714,&quot;^P&quot;,&quot;^19&quot;,536900259]],[&quot;^17&quot;,[4714,&quot;^@&quot;,false,536900259]],[&quot;^17&quot;,[4714,&quot;^F&quot;,4712,536900259]],[&quot;^17&quot;,[4714,&quot;^T&quot;,[&quot;^16&quot;,[]],536900259]],[&quot;^17&quot;,[4714,&quot;^Z&quot;,4693,536900259]],[&quot;^17&quot;,[4714,&quot;^W&quot;,4703,536900259]],[&quot;^17&quot;,[4714,&quot;^V&quot;,4693,536900264]],[&quot;^17&quot;,[4714,&quot;^V&quot;,4715,536900264]],[&quot;^17&quot;,[4714,&quot;^?&quot;,[&quot;^ &quot;],536900263]],[&quot;^17&quot;,[4714,&quot;^H&quot;,4715,536900263]],[&quot;^17&quot;,[4714,&quot;^1@&quot;,true,536900259]],[&quot;^17&quot;,[4714,&quot;^;&quot;,&quot;~u63102178-a747-4ec8-83df-c314b52aff0a&quot;,536900259]],[&quot;^17&quot;,[4716,&quot;^R&quot;,&quot;[[生成器]]&quot;,536900267]],[&quot;^17&quot;,[4716,&quot;^P&quot;,&quot;^19&quot;,536900263]],[&quot;^17&quot;,[4716,&quot;^@&quot;,false,536900263]],[&quot;^17&quot;,[4716,&quot;^F&quot;,4714,536900263]],[&quot;^17&quot;,[4716,&quot;^T&quot;,[&quot;^16&quot;,[]],536900263]],[&quot;^17&quot;,[4716,&quot;^Z&quot;,4693,536900263]],[&quot;^17&quot;,[4716,&quot;^W&quot;,4703,536900263]],[&quot;^17&quot;,[4716,&quot;^V&quot;,4693,536900268]],[&quot;^17&quot;,[4716,&quot;^V&quot;,4717,536900268]],[&quot;^17&quot;,[4716,&quot;^?&quot;,[&quot;^ &quot;],536900267]],[&quot;^17&quot;,[4716,&quot;^H&quot;,4717,536900267]],[&quot;^17&quot;,[4716,&quot;^1@&quot;,true,536900263]],[&quot;^17&quot;,[4716,&quot;^;&quot;,&quot;~u6310217e-b7d3-4a7f-8a0e-a702aa237ed3&quot;,536900263]],[&quot;^17&quot;,[4718,&quot;^R&quot;,&quot;[[原型模式]]&quot;,536900271]],[&quot;^17&quot;,[4718,&quot;^P&quot;,&quot;^19&quot;,536900267]],[&quot;^17&quot;,[4718,&quot;^@&quot;,false,536900267]],[&quot;^17&quot;,[4718,&quot;^F&quot;,4716,536900267]],[&quot;^17&quot;,[4718,&quot;^T&quot;,[&quot;^16&quot;,[]],536900267]],[&quot;^17&quot;,[4718,&quot;^Z&quot;,4693,536900267]],[&quot;^17&quot;,[4718,&quot;^W&quot;,4703,536900267]],[&quot;^17&quot;,[4718,&quot;^V&quot;,4693,536900272]],[&quot;^17&quot;,[4718,&quot;^V&quot;,4719,536900272]],[&quot;^17&quot;,[4718,&quot;^?&quot;,[&quot;^ &quot;],536900271]],[&quot;^17&quot;,[4718,&quot;^H&quot;,4719,536900271]],[&quot;^17&quot;,[4718,&quot;^1@&quot;,true,536900267]],[&quot;^17&quot;,[4718,&quot;^;&quot;,&quot;~u63102184-6ea8-42ee-99b7-e091c768e0e1&quot;,536900267]],[&quot;^17&quot;,[4720,&quot;^R&quot;,&quot;### 实现&quot;,536900351]],[&quot;^17&quot;,[4720,&quot;^P&quot;,&quot;^19&quot;,536900276]],[&quot;^17&quot;,[4720,&quot;^X&quot;,3,536900351]],[&quot;^17&quot;,[4720,&quot;^@&quot;,false,536900276]],[&quot;^17&quot;,[4720,&quot;^F&quot;,4724,536900290]],[&quot;^17&quot;,[4720,&quot;^T&quot;,[&quot;^16&quot;,[]],536900276]],[&quot;^17&quot;,[4720,&quot;^Z&quot;,4709,536900276]],[&quot;^17&quot;,[4720,&quot;^W&quot;,4709,536900276]],[&quot;^17&quot;,[4720,&quot;^V&quot;,4709,536900352]],[&quot;^17&quot;,[4720,&quot;^?&quot;,[&quot;^ &quot;],536900351]],[&quot;^17&quot;,[4720,&quot;^1&gt;&quot;,3,536900347]],[&quot;^17&quot;,[4720,&quot;^Y&quot;,&quot;^1?&quot;,536900351]],[&quot;^17&quot;,[4720,&quot;^1@&quot;,true,536900276]],[&quot;^17&quot;,[4720,&quot;^;&quot;,&quot;~u6310239a-3723-4b62-999a-c960409d66fe&quot;,536900276]],[&quot;^17&quot;,[4721,&quot;^R&quot;,&quot;public:: true\\nalias:: Singleton&quot;,536900288]],[&quot;^17&quot;,[4721,&quot;^P&quot;,&quot;^19&quot;,536900279]],[&quot;^17&quot;,[4721,&quot;^F&quot;,4709,536900279]],[&quot;^17&quot;,[4721,&quot;^T&quot;,[&quot;^16&quot;,[]],536900284]],[&quot;^17&quot;,[4721,&quot;^Z&quot;,4709,536900279]],[&quot;^17&quot;,[4721,&quot;^W&quot;,4709,536900279]],[&quot;^17&quot;,[4721,&quot;^V&quot;,4709,536900289]],[&quot;^17&quot;,[4721,&quot;^V&quot;,4723,536900289]],[&quot;^17&quot;,[4721,&quot;^:&quot;,true,536900288]],[&quot;^17&quot;,[4721,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true,&quot;^1;&quot;,[&quot;^1&lt;&quot;,[&quot;Singleton&quot;]]],536900288]],[&quot;^17&quot;,[4721,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^18&quot;,&quot;^1;&quot;]],536900288]],[&quot;^17&quot;,[4721,&quot;^H&quot;,4723,536900288]],[&quot;^17&quot;,[4721,&quot;^1@&quot;,true,536900284]],[&quot;^17&quot;,[4721,&quot;^;&quot;,&quot;~u38ea6fb2-b56b-4843-a7c8-b47791c8cb79&quot;,536900279]],[&quot;^17&quot;,[4724,&quot;^R&quot;,&quot;确保一个类只有一个实例，病提供该实例的全局访问点。\\n\\n#+BEGIN_NOTE\\n使用一个私有构造函数，一个私有静态变量，和一个公有静态函数实现\\n#+END_NOTE&quot;,536900339]],[&quot;^17&quot;,[4724,&quot;^P&quot;,&quot;^19&quot;,536900290]],[&quot;^17&quot;,[4724,&quot;^F&quot;,4721,536900290]],[&quot;^17&quot;,[4724,&quot;^T&quot;,[&quot;^16&quot;,[]],536900290]],[&quot;^17&quot;,[4724,&quot;^Z&quot;,4709,536900290]],[&quot;^17&quot;,[4724,&quot;^W&quot;,4709,536900290]],[&quot;^17&quot;,[4724,&quot;^V&quot;,4709,536900340]],[&quot;^17&quot;,[4724,&quot;^?&quot;,[&quot;^ &quot;],536900339]],[&quot;^17&quot;,[4724,&quot;^1@&quot;,true,536900290]],[&quot;^17&quot;,[4724,&quot;^;&quot;,&quot;~u631023ee-40c3-4ed2-a362-2d125da0aaf1&quot;,536900290]],[&quot;^17&quot;,[4725,&quot;^R&quot;,&quot;懒汉式-线程不安全\\n可能有多高线程进入判断，会多次实例化\\n\\n``` java\\npublic class Singleton {\\n\\n    private static Singleton uniqueInstance;\\n\\n    private Singleton() {\\n    }\\n\\n    public static Singleton getUniqueInstance() {\\n        if (uniqueInstance == null) {\\n            uniqueInstance = new Singleton();\\n        }\\n        return uniqueInstance;\\n    }\\n}\\n```&quot;,536900392]],[&quot;^17&quot;,[4725,&quot;^P&quot;,&quot;^19&quot;,536900351]],[&quot;^17&quot;,[4725,&quot;^@&quot;,false,536900351]],[&quot;^17&quot;,[4725,&quot;^F&quot;,4720,536900351]],[&quot;^17&quot;,[4725,&quot;^T&quot;,[&quot;^16&quot;,[]],536900351]],[&quot;^17&quot;,[4725,&quot;^Z&quot;,4709,536900351]],[&quot;^17&quot;,[4725,&quot;^W&quot;,4720,536900355]],[&quot;^17&quot;,[4725,&quot;^V&quot;,4709,536900393]],[&quot;^17&quot;,[4725,&quot;^?&quot;,[&quot;^ &quot;],536900392]],[&quot;^17&quot;,[4725,&quot;^1@&quot;,true,536900351]],[&quot;^17&quot;,[4725,&quot;^;&quot;,&quot;~u6310274b-d49f-402b-8dba-c3cdce17bf40&quot;,536900351]],[&quot;^17&quot;,[4726,&quot;^R&quot;,&quot;饿汉式-线程安全\\n`java.Runtime` 就是这么实现\\n\\n``` java\\nprivate static Singleton uniqueInstance = new Singleton();\\n```&quot;,536900442]],[&quot;^17&quot;,[4726,&quot;^P&quot;,&quot;^19&quot;,536900396]],[&quot;^17&quot;,[4726,&quot;^@&quot;,false,536900396]],[&quot;^17&quot;,[4726,&quot;^F&quot;,4725,536900396]],[&quot;^17&quot;,[4726,&quot;^T&quot;,[&quot;^16&quot;,[]],536900396]],[&quot;^17&quot;,[4726,&quot;^Z&quot;,4709,536900396]],[&quot;^17&quot;,[4726,&quot;^W&quot;,4720,536900396]],[&quot;^17&quot;,[4726,&quot;^V&quot;,4709,536900443]],[&quot;^17&quot;,[4726,&quot;^?&quot;,[&quot;^ &quot;],536900442]],[&quot;^17&quot;,[4726,&quot;^1@&quot;,true,536900396]],[&quot;^17&quot;,[4726,&quot;^;&quot;,&quot;~u6310277f-140e-499f-886f-208a3df6fa22&quot;,536900396]],[&quot;^17&quot;,[4731,&quot;^L&quot;,1662021029916,536900484]],[&quot;^17&quot;,[4731,&quot;^P&quot;,&quot;^19&quot;,536900488]],[&quot;^17&quot;,[4731,&quot;^@&quot;,false,536900484]],[&quot;^17&quot;,[4731,&quot;^[&quot;,&quot;分布式锁&quot;,536900484]],[&quot;^17&quot;,[4731,&quot;^13&quot;,&quot;分布式锁&quot;,536900484]],[&quot;^17&quot;,[4731,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536900844]],[&quot;^17&quot;,[4731,&quot;^B&quot;,1662022092640,536900929]],[&quot;^17&quot;,[4731,&quot;^;&quot;,&quot;~u63106da5-1bc7-468d-aaa9-89af355b0417&quot;,536900484]],[&quot;^17&quot;,[4732,&quot;^R&quot;,&quot;&quot;,536900484]],[&quot;^17&quot;,[4732,&quot;^P&quot;,&quot;^19&quot;,536900484]],[&quot;^17&quot;,[4732,&quot;^F&quot;,2880,536900484]],[&quot;^17&quot;,[4732,&quot;^T&quot;,[&quot;^16&quot;,[]],536900484]],[&quot;^17&quot;,[4732,&quot;^Z&quot;,32,536900484]],[&quot;^17&quot;,[4732,&quot;^W&quot;,2898,536900484]],[&quot;^17&quot;,[4732,&quot;^V&quot;,32,536900485]],[&quot;^17&quot;,[4732,&quot;^?&quot;,[&quot;^ &quot;],536900484]],[&quot;^17&quot;,[4732,&quot;^1@&quot;,true,536900484]],[&quot;^17&quot;,[4732,&quot;^;&quot;,&quot;~u63106da5-5953-4c10-88af-c6f532def531&quot;,536900484]],[&quot;^17&quot;,[4733,&quot;^R&quot;,&quot;在单一进程中，我们使用锁来解决并发问题。同样，在分布式环境中，我们使用分布式锁解决分布式的并发安全问题。分布式真正要解决的是 **端到端的一致性问题**&quot;,536900567]],[&quot;^17&quot;,[4733,&quot;^P&quot;,&quot;^19&quot;,536900489]],[&quot;^17&quot;,[4733,&quot;^@&quot;,false,536900489]],[&quot;^17&quot;,[4733,&quot;^F&quot;,4736,536900575]],[&quot;^17&quot;,[4733,&quot;^T&quot;,[&quot;^16&quot;,[]],536900489]],[&quot;^17&quot;,[4733,&quot;^Z&quot;,4731,536900489]],[&quot;^17&quot;,[4733,&quot;^W&quot;,4736,536900599]],[&quot;^17&quot;,[4733,&quot;^V&quot;,4731,536900877]],[&quot;^17&quot;,[4733,&quot;^?&quot;,[&quot;^ &quot;],536900567]],[&quot;^17&quot;,[4733,&quot;^1@&quot;,true,536900489]],[&quot;^17&quot;,[4733,&quot;^;&quot;,&quot;~u63106da6-077b-4ab2-b22f-3258cd6df50d&quot;,536900489]],[&quot;^17&quot;,[4735,&quot;^R&quot;,&quot;## 02 NPC问题&quot;,536900610]],[&quot;^17&quot;,[4735,&quot;^P&quot;,&quot;^19&quot;,536900571]],[&quot;^17&quot;,[4735,&quot;^X&quot;,2,536900610]],[&quot;^17&quot;,[4735,&quot;^@&quot;,false,536900571]],[&quot;^17&quot;,[4735,&quot;^F&quot;,4736,536900599]],[&quot;^17&quot;,[4735,&quot;^T&quot;,[&quot;^16&quot;,[]],536900571]],[&quot;^17&quot;,[4735,&quot;^Z&quot;,4731,536900571]],[&quot;^17&quot;,[4735,&quot;^W&quot;,4731,536900571]],[&quot;^17&quot;,[4735,&quot;^V&quot;,4731,536900611]],[&quot;^17&quot;,[4735,&quot;^?&quot;,[&quot;^ &quot;],536900610]],[&quot;^17&quot;,[4735,&quot;^1&gt;&quot;,2,536900602]],[&quot;^17&quot;,[4735,&quot;^Y&quot;,&quot;^1?&quot;,536900610]],[&quot;^17&quot;,[4735,&quot;^1@&quot;,true,536900571]],[&quot;^17&quot;,[4735,&quot;^;&quot;,&quot;~u63106f9c-287c-4c3a-964e-fcf17e347309&quot;,536900571]],[&quot;^17&quot;,[4736,&quot;^R&quot;,&quot;## 01 导论&quot;,536900595]],[&quot;^17&quot;,[4736,&quot;^P&quot;,&quot;^19&quot;,536900575]],[&quot;^17&quot;,[4736,&quot;^X&quot;,2,536900595]],[&quot;^17&quot;,[4736,&quot;^@&quot;,false,536900575]],[&quot;^17&quot;,[4736,&quot;^F&quot;,4745,536900876]],[&quot;^17&quot;,[4736,&quot;^T&quot;,[&quot;^16&quot;,[]],536900575]],[&quot;^17&quot;,[4736,&quot;^Z&quot;,4731,536900575]],[&quot;^17&quot;,[4736,&quot;^W&quot;,4731,536900575]],[&quot;^17&quot;,[4736,&quot;^V&quot;,4731,536900596]],[&quot;^17&quot;,[4736,&quot;^?&quot;,[&quot;^ &quot;],536900595]],[&quot;^17&quot;,[4736,&quot;^1&gt;&quot;,2,536900587]],[&quot;^17&quot;,[4736,&quot;^Y&quot;,&quot;^1?&quot;,536900595]],[&quot;^17&quot;,[4736,&quot;^1@&quot;,true,536900575]],[&quot;^17&quot;,[4736,&quot;^;&quot;,&quot;~u63106fa1-86f6-47c5-889c-9168a543737c&quot;,536900575]],[&quot;^17&quot;,[4737,&quot;^R&quot;,&quot;分布式系统最大的敌人NPC：Network Delay, Process Pause, Clock Drift&quot;,536900673]],[&quot;^17&quot;,[4737,&quot;^P&quot;,&quot;^19&quot;,536900610]],[&quot;^17&quot;,[4737,&quot;^@&quot;,false,536900610]],[&quot;^17&quot;,[4737,&quot;^F&quot;,4735,536900610]],[&quot;^17&quot;,[4737,&quot;^T&quot;,[&quot;^16&quot;,[]],536900610]],[&quot;^17&quot;,[4737,&quot;^Z&quot;,4731,536900610]],[&quot;^17&quot;,[4737,&quot;^W&quot;,4735,536900612]],[&quot;^17&quot;,[4737,&quot;^V&quot;,4731,536900674]],[&quot;^17&quot;,[4737,&quot;^?&quot;,[&quot;^ &quot;],536900673]],[&quot;^17&quot;,[4737,&quot;^1@&quot;,true,536900610]],[&quot;^17&quot;,[4737,&quot;^;&quot;,&quot;~u63106fb4-c03d-424d-b8bf-74d5fe3fe7da&quot;,536900610]],[&quot;^17&quot;,[4738,&quot;^R&quot;,&quot;Network Delay, 虽然网络多数情况工作的还可以，虽然**TCP保证顺序和不会丢失，但它无法消除网络延迟**&quot;,536900736]],[&quot;^17&quot;,[4738,&quot;^P&quot;,&quot;^19&quot;,536900677]],[&quot;^17&quot;,[4738,&quot;^@&quot;,false,536900677]],[&quot;^17&quot;,[4738,&quot;^F&quot;,4737,536900677]],[&quot;^17&quot;,[4738,&quot;^T&quot;,[&quot;^16&quot;,[]],536900677]],[&quot;^17&quot;,[4738,&quot;^Z&quot;,4731,536900677]],[&quot;^17&quot;,[4738,&quot;^W&quot;,4737,536900679]],[&quot;^17&quot;,[4738,&quot;^V&quot;,4731,536900737]],[&quot;^17&quot;,[4738,&quot;^?&quot;,[&quot;^ &quot;],536900736]],[&quot;^17&quot;,[4738,&quot;^1@&quot;,true,536900677]],[&quot;^17&quot;,[4738,&quot;^;&quot;,&quot;~u63106feb-5405-4948-b300-8f84b4db93a3&quot;,536900677]],[&quot;^17&quot;,[4739,&quot;^R&quot;,&quot;Process Pause， 进程暂停。GC时，云服务器暂停时...**我们无法确定暂停时间**&quot;,536900792]],[&quot;^17&quot;,[4739,&quot;^P&quot;,&quot;^19&quot;,536900740]],[&quot;^17&quot;,[4739,&quot;^@&quot;,false,536900740]],[&quot;^17&quot;,[4739,&quot;^F&quot;,4738,536900740]],[&quot;^17&quot;,[4739,&quot;^T&quot;,[&quot;^16&quot;,[]],536900740]],[&quot;^17&quot;,[4739,&quot;^Z&quot;,4731,536900740]],[&quot;^17&quot;,[4739,&quot;^W&quot;,4737,536900740]],[&quot;^17&quot;,[4739,&quot;^V&quot;,4731,536900793]],[&quot;^17&quot;,[4739,&quot;^?&quot;,[&quot;^ &quot;],536900792]],[&quot;^17&quot;,[4739,&quot;^1@&quot;,true,536900740]],[&quot;^17&quot;,[4739,&quot;^;&quot;,&quot;~u63107040-b90b-44fe-97db-5e560b267a7f&quot;,536900740]],[&quot;^17&quot;,[4740,&quot;^R&quot;,&quot;Clock Drift， 时钟漂移。**本地时间可能向前或向后跳跃**&quot;,536900828]],[&quot;^17&quot;,[4740,&quot;^P&quot;,&quot;^19&quot;,536900796]],[&quot;^17&quot;,[4740,&quot;^@&quot;,false,536900796]],[&quot;^17&quot;,[4740,&quot;^F&quot;,4739,536900796]],[&quot;^17&quot;,[4740,&quot;^T&quot;,[&quot;^16&quot;,[]],536900796]],[&quot;^17&quot;,[4740,&quot;^Z&quot;,4731,536900796]],[&quot;^17&quot;,[4740,&quot;^W&quot;,4737,536900796]],[&quot;^17&quot;,[4740,&quot;^V&quot;,4731,536900829]],[&quot;^17&quot;,[4740,&quot;^?&quot;,[&quot;^ &quot;],536900828]],[&quot;^17&quot;,[4740,&quot;^1@&quot;,true,536900796]],[&quot;^17&quot;,[4740,&quot;^;&quot;,&quot;~u631070a8-979d-48fe-be2e-29b6f230f2ae&quot;,536900796]],[&quot;^17&quot;,[4741,&quot;^R&quot;,&quot;![image.png](../assets/image_1662021917601_0.png)&quot;,536900837]],[&quot;^17&quot;,[4741,&quot;^P&quot;,&quot;^19&quot;,536900832]],[&quot;^17&quot;,[4741,&quot;^@&quot;,false,536900832]],[&quot;^17&quot;,[4741,&quot;^F&quot;,4737,536900834]],[&quot;^17&quot;,[4741,&quot;^T&quot;,[&quot;^16&quot;,[]],536900832]],[&quot;^17&quot;,[4741,&quot;^Z&quot;,4731,536900832]],[&quot;^17&quot;,[4741,&quot;^W&quot;,4735,536900834]],[&quot;^17&quot;,[4741,&quot;^V&quot;,4731,536900838]],[&quot;^17&quot;,[4741,&quot;^?&quot;,[&quot;^ &quot;],536900837]],[&quot;^17&quot;,[4741,&quot;^1@&quot;,true,536900832]],[&quot;^17&quot;,[4741,&quot;^;&quot;,&quot;~u631070f7-9fe0-4fc3-8319-7d0a844f4917&quot;,536900832]],[&quot;^17&quot;,[4742,&quot;^R&quot;,&quot;## 03 分布式锁无法保证正确性&quot;,536900911]],[&quot;^17&quot;,[4742,&quot;^P&quot;,&quot;^19&quot;,536900837]],[&quot;^17&quot;,[4742,&quot;^X&quot;,2,536900911]],[&quot;^17&quot;,[4742,&quot;^@&quot;,false,536900837]],[&quot;^17&quot;,[4742,&quot;^F&quot;,4735,536900839]],[&quot;^17&quot;,[4742,&quot;^T&quot;,[&quot;^16&quot;,[]],536900837]],[&quot;^17&quot;,[4742,&quot;^Z&quot;,4731,536900837]],[&quot;^17&quot;,[4742,&quot;^W&quot;,4731,536900839]],[&quot;^17&quot;,[4742,&quot;^V&quot;,4731,536900912]],[&quot;^17&quot;,[4742,&quot;^?&quot;,[&quot;^ &quot;],536900911]],[&quot;^17&quot;,[4742,&quot;^1&gt;&quot;,2,536900907]],[&quot;^17&quot;,[4742,&quot;^Y&quot;,&quot;^1?&quot;,536900911]],[&quot;^17&quot;,[4742,&quot;^1@&quot;,true,536900837]],[&quot;^17&quot;,[4742,&quot;^;&quot;,&quot;~u6310711e-8196-42c9-b1cc-78c935f05a8b&quot;,536900837]],[&quot;^17&quot;,[4743,&quot;^R&quot;,&quot;public:: true&quot;,536900844]],[&quot;^17&quot;,[4743,&quot;^P&quot;,&quot;^19&quot;,536900844]],[&quot;^17&quot;,[4743,&quot;^F&quot;,4731,536900844]],[&quot;^17&quot;,[4743,&quot;^Z&quot;,4731,536900844]],[&quot;^17&quot;,[4743,&quot;^W&quot;,4731,536900844]],[&quot;^17&quot;,[4743,&quot;^V&quot;,4731,536900845]],[&quot;^17&quot;,[4743,&quot;^:&quot;,true,536900844]],[&quot;^17&quot;,[4743,&quot;^?&quot;,[&quot;^ &quot;,&quot;^18&quot;,true],536900844]],[&quot;^17&quot;,[4743,&quot;^;&quot;,&quot;~ud225cf07-dad7-4de3-bac3-82fc2f410b71&quot;,536900844]],[&quot;^17&quot;,[4745,&quot;^R&quot;,&quot;[看似忠良的分布式锁](https://mp.weixin.qq.com/s/hOPT41HIAGE8iZ5jLlREmg)&quot;,536900900]],[&quot;^17&quot;,[4745,&quot;^P&quot;,&quot;^19&quot;,536900876]],[&quot;^17&quot;,[4745,&quot;^@&quot;,false,536900876]],[&quot;^17&quot;,[4745,&quot;^F&quot;,4743,536900904]],[&quot;^17&quot;,[4745,&quot;^T&quot;,[&quot;^16&quot;,[]],536900876]],[&quot;^17&quot;,[4745,&quot;^Z&quot;,4731,536900876]],[&quot;^17&quot;,[4745,&quot;^W&quot;,4731,536900876]],[&quot;^17&quot;,[4745,&quot;^V&quot;,4731,536900904]],[&quot;^17&quot;,[4745,&quot;^?&quot;,[&quot;^ &quot;],536900904]],[&quot;^17&quot;,[4745,&quot;^1@&quot;,true,536900876]],[&quot;^17&quot;,[4745,&quot;^;&quot;,&quot;~u6310715b-b5a6-4d69-abb6-8d4e22348e7c&quot;,536900876]],[&quot;^17&quot;,[4746,&quot;^R&quot;,&quot;## 04 Fencing Token&quot;,536900929]],[&quot;^17&quot;,[4746,&quot;^P&quot;,&quot;^19&quot;,536900911]],[&quot;^17&quot;,[4746,&quot;^X&quot;,2,536900929]],[&quot;^17&quot;,[4746,&quot;^@&quot;,false,536900911]],[&quot;^17&quot;,[4746,&quot;^F&quot;,4742,536900911]],[&quot;^17&quot;,[4746,&quot;^T&quot;,[&quot;^16&quot;,[]],536900911]],[&quot;^17&quot;,[4746,&quot;^Z&quot;,4731,536900911]],[&quot;^17&quot;,[4746,&quot;^W&quot;,4731,536900911]],[&quot;^17&quot;,[4746,&quot;^V&quot;,4731,536900930]],[&quot;^17&quot;,[4746,&quot;^?&quot;,[&quot;^ &quot;],536900929]],[&quot;^17&quot;,[4746,&quot;^1&gt;&quot;,2,536900915]],[&quot;^17&quot;,[4746,&quot;^Y&quot;,&quot;^1?&quot;,536900929]],[&quot;^17&quot;,[4746,&quot;^1@&quot;,true,536900911]],[&quot;^17&quot;,[4746,&quot;^;&quot;,&quot;~u631071c0-00c0-46eb-9a15-80ff2f251a48&quot;,536900911]],[&quot;^17&quot;,[4747,&quot;^R&quot;,&quot;&quot;,536900929]],[&quot;^17&quot;,[4747,&quot;^P&quot;,&quot;^19&quot;,536900929]],[&quot;^17&quot;,[4747,&quot;^@&quot;,false,536900929]],[&quot;^17&quot;,[4747,&quot;^F&quot;,4746,536900929]],[&quot;^17&quot;,[4747,&quot;^T&quot;,[&quot;^16&quot;,[]],536900929]],[&quot;^17&quot;,[4747,&quot;^Z&quot;,4731,536900929]],[&quot;^17&quot;,[4747,&quot;^W&quot;,4731,536900929]],[&quot;^17&quot;,[4747,&quot;^V&quot;,4731,536900930]],[&quot;^17&quot;,[4747,&quot;^?&quot;,[&quot;^ &quot;],536900929]],[&quot;^17&quot;,[4747,&quot;^1@&quot;,true,536900929]],[&quot;^17&quot;,[4747,&quot;^;&quot;,&quot;~u631071cc-81da-43df-b0ae-402ba7e477ab&quot;,536900929]],[&quot;^17&quot;,[4748,&quot;^14&quot;,1,536900936]],[&quot;^17&quot;,[4751,&quot;^14&quot;,1,536900945]],[&quot;^17&quot;,[4754,&quot;^R&quot;,&quot;public:: true\\ntitle:: 6.824&quot;,536900964]],[&quot;^17&quot;,[4754,&quot;^P&quot;,&quot;^19&quot;,536900957]],[&quot;^17&quot;,[4754,&quot;^F&quot;,274,536900957]],[&quot;^17&quot;,[4754,&quot;^Z&quot;,274,536900957]],[&quot;^17&quot;,[4754,&quot;^W&quot;,274,536900957]],[&quot;^17&quot;,[4754,&quot;^:&quot;,true,536900957]],[&quot;^17&quot;,[4754,&quot;^?&quot;,[&quot;^ &quot;,&quot;^1:&quot;,&quot;6.824&quot;,&quot;^18&quot;,true],536900964]],[&quot;^17&quot;,[4754,&quot;^K&quot;,[&quot;^16&quot;,[&quot;^1:&quot;]],536900957]],[&quot;^17&quot;,[4754,&quot;^;&quot;,&quot;~u6312bc16-9edf-4c8b-bafe-b5177291d1c5&quot;,536900957]],[&quot;^17&quot;,[4755,&quot;^R&quot;,&quot;[[Lecture01-Introduction]]&quot;,536900967]],[&quot;^17&quot;,[4755,&quot;^P&quot;,&quot;^19&quot;,536900958]],[&quot;^17&quot;,[4755,&quot;^@&quot;,false,536900958]],[&quot;^17&quot;,[4755,&quot;^F&quot;,4754,536900958]],[&quot;^17&quot;,[4755,&quot;^T&quot;,[&quot;^16&quot;,[]],536900958]],[&quot;^17&quot;,[4755,&quot;^Z&quot;,274,536900958]],[&quot;^17&quot;,[4755,&quot;^W&quot;,274,536900958]],[&quot;^17&quot;,[4755,&quot;^V&quot;,261,536900968]],[&quot;^17&quot;,[4755,&quot;^V&quot;,274,536900968]],[&quot;^17&quot;,[4755,&quot;^?&quot;,[&quot;^ &quot;],536900967]],[&quot;^17&quot;,[4755,&quot;^H&quot;,261,536900967]],[&quot;^17&quot;,[4755,&quot;^1@&quot;,true,536900958]],[&quot;^17&quot;,[4755,&quot;^;&quot;,&quot;~u6312bc16-3078-40e5-8f33-7c49d5de44e9&quot;,536900958]],[&quot;^17&quot;,[4757,&quot;^R&quot;,&quot;[[lecture02-threads&amp;&amp;RPC]]&quot;,536900975]],[&quot;^17&quot;,[4757,&quot;^P&quot;,&quot;^19&quot;,536900971]],[&quot;^17&quot;,[4757,&quot;^@&quot;,false,536900971]],[&quot;^17&quot;,[4757,&quot;^F&quot;,4755,536900971]],[&quot;^17&quot;,[4757,&quot;^T&quot;,[&quot;^16&quot;,[]],536900971]],[&quot;^17&quot;,[4757,&quot;^Z&quot;,274,536900971]],[&quot;^17&quot;,[4757,&quot;^W&quot;,274,536900971]],[&quot;^17&quot;,[4757,&quot;^V&quot;,274,536900976]],[&quot;^17&quot;,[4757,&quot;^V&quot;,306,536900976]],[&quot;^17&quot;,[4757,&quot;^?&quot;,[&quot;^ &quot;],536900975]],[&quot;^17&quot;,[4757,&quot;^H&quot;,306,536900975]],[&quot;^17&quot;,[4757,&quot;^1@&quot;,true,536900971]],[&quot;^17&quot;,[4757,&quot;^;&quot;,&quot;~u6312bc2e-3e40-4609-a9fe-f592a4a544a8&quot;,536900971]],[&quot;^17&quot;,[4758,&quot;^R&quot;,&quot;&quot;,536900977]],[&quot;^17&quot;,[4758,&quot;^P&quot;,&quot;^19&quot;,536900977]],[&quot;^17&quot;,[4758,&quot;^@&quot;,false,536900977]],[&quot;^17&quot;,[4758,&quot;^F&quot;,4757,536900977]],[&quot;^17&quot;,[4758,&quot;^T&quot;,[&quot;^16&quot;,[]],536900977]],[&quot;^17&quot;,[4758,&quot;^Z&quot;,274,536900977]],[&quot;^17&quot;,[4758,&quot;^W&quot;,274,536900977]],[&quot;^17&quot;,[4758,&quot;^V&quot;,274,536900978]],[&quot;^17&quot;,[4758,&quot;^?&quot;,[&quot;^ &quot;],536900977]],[&quot;^17&quot;,[4758,&quot;^1@&quot;,true,536900977]],[&quot;^17&quot;,[4758,&quot;^;&quot;,&quot;~u6312bc36-1eec-4532-9c13-02fbf2be56cc&quot;,536900977]],[&quot;^17&quot;,[4759,&quot;^14&quot;,1,536900986]],[&quot;^17&quot;,[4764,&quot;^14&quot;,1,536901030]],[&quot;^17&quot;,[4767,&quot;^14&quot;,1,536901039]],[&quot;^17&quot;,[4770,&quot;^14&quot;,1,536901053]],[&quot;^17&quot;,[4774,&quot;^R&quot;,&quot;&quot;,536901067]],[&quot;^17&quot;,[4774,&quot;^P&quot;,&quot;^19&quot;,536901067]],[&quot;^17&quot;,[4774,&quot;^@&quot;,false,536901067]],[&quot;^17&quot;,[4774,&quot;^F&quot;,4481,536901067]],[&quot;^17&quot;,[4774,&quot;^T&quot;,[&quot;^16&quot;,[]],536901067]],[&quot;^17&quot;,[4774,&quot;^Z&quot;,4440,536901067]],[&quot;^17&quot;,[4774,&quot;^W&quot;,4477,536901067]],[&quot;^17&quot;,[4774,&quot;^V&quot;,4440,536901068]],[&quot;^17&quot;,[4774,&quot;^?&quot;,[&quot;^ &quot;],536901067]],[&quot;^17&quot;,[4774,&quot;^1@&quot;,true,536901067]],[&quot;^17&quot;,[4774,&quot;^;&quot;,&quot;~u6319a56d-debb-4740-86ce-b56f2dd124c6&quot;,536901067]],[&quot;^17&quot;,[4837,&quot;^14&quot;,1,536901636]],[&quot;^17&quot;,[4840,&quot;^14&quot;,1,536901645]],[&quot;^17&quot;,[4843,&quot;^14&quot;,1,536901662]]]]]]"</script><script>window.logseq_state="{:ui/theme \"light\", :ui/sidebar-collapsed-blocks {\"contents\" false}, :ui/show-recent? false, :config {\"local\" {:shortcuts {}, :default-templates {:journals \"\"}, :macros {}, :shortcut/doc-mode-enter-for-new-block? false, :favorites [\"Contents\" \"todoist\" \"quote_list\" \"DashBoard\"], :ui/show-empty-bullets? false, :preferred-workflow :now, :ref/default-open-blocks-level 2, :feature/enable-block-timestamps? false, :ref/linked-references-collapsed-threshold 50, :commands [], :meta/version 1, :hidden [], :default-queries {:journals [{:title \"🔨 NOW\", :query [:find (pull ?h [*]) :in $ ?start ?today :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"DOING\"} ?marker)] [?h :block/page ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(>= ?d ?start)] [(<= ?d ?today)]], :inputs [:14d :today], :result-transform (fn [result] (sort-by (fn [h] (get h :block/priority \"Z\")) result)), :collapsed? false} {:title \"📅 NEXT\", :query [:find (pull ?h [*]) :in $ ?start ?next :where [?h :block/marker ?marker] [(contains? #{\"NOW\" \"LATER\" \"TODO\"} ?marker)] [?h :block/ref-pages ?p] [?p :block/journal? true] [?p :block/journal-day ?d] [(> ?d ?start)] [(< ?d ?next)]], :inputs [:today :7d-after], :collapsed? false}]}, :ui/enable-tooltip? true, :graph/settings {:builtin-pages? true, :journal? false, :orphan-pages? true}, :ui/show-command-doc? true, :default-home {:page \"overview\", :sidebar \"Contents\"}}}}"</script><script type="text/javascript">// Single Page Apps for GitHub Pages
      // https://github.com/rafgraph/spa-github-pages
      // Copyright (c) 2016 Rafael Pedicini, licensed under the MIT License
      // ----------------------------------------------------------------------
      // This script checks to see if a redirect is present in the query string
      // and converts it back into the correct url and adds it to the
      // browser's history using window.history.replaceState(...),
      // which won't cause the browser to attempt to load the new url.
      // When the single page app is loaded further down in this file,
      // the correct url will be waiting in the browser's history for
      // the single page app to route accordingly.
      (function(l) {
        if (l.search) {
          var q = {};
          l.search.slice(1).split('&').forEach(function(v) {
            var a = v.split('=');
            q[a[0]] = a.slice(1).join('=').replace(/~and~/g, '&');
          });
          if (q.p !== undefined) {
            window.history.replaceState(null, null,
              l.pathname.slice(0, -1) + (q.p || '') +
              (q.q ? ('?' + q.q) : '') +
              l.hash
            );
          }
        }
      }(window.location))</script><script src="static/js/main.js"></script><script src="static/js/highlight.min.js"></script><script src="static/js/interact.min.js"></script><script src="static/js/katex.min.js"></script><script src="static/js/code-editor.js"></script></body>